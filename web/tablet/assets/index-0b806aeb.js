(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))u(p);new MutationObserver(p=>{for(const v of p)if(v.type==="childList")for(const y of v.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&u(y)}).observe(document,{childList:!0,subtree:!0});function s(p){const v={};return p.integrity&&(v.integrity=p.integrity),p.referrerPolicy&&(v.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?v.credentials="include":p.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function u(p){if(p.ep)return;p.ep=!0;const v=s(p);fetch(p.href,v)}})();function xr(t,e){const s=Object.create(null),u=t.split(",");for(let p=0;p<u.length;p++)s[u[p]]=!0;return e?p=>!!s[p.toLowerCase()]:p=>!!s[p]}const Se={},ki=[],ct=()=>{},tf=()=>!1,nf=/^on[^a-z]/,On=t=>nf.test(t),Xs=t=>t.startsWith("onUpdate:"),Te=Object.assign,zs=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},rf=Object.prototype.hasOwnProperty,be=(t,e)=>rf.call(t,e),ue=Array.isArray,Mi=t=>Wi(t)==="[object Map]",bi=t=>Wi(t)==="[object Set]",Wo=t=>Wi(t)==="[object Date]",sf=t=>Wi(t)==="[object RegExp]",ge=t=>typeof t=="function",Pe=t=>typeof t=="string",pn=t=>typeof t=="symbol",we=t=>t!==null&&typeof t=="object",Ys=t=>we(t)&&ge(t.then)&&ge(t.catch),cl=Object.prototype.toString,Wi=t=>cl.call(t),of=t=>Wi(t).slice(8,-1),ul=t=>Wi(t)==="[object Object]",Gs=t=>Pe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,nn=xr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Tr=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},af=/-(\w)/g,qe=Tr(t=>t.replace(af,(e,s)=>s?s.toUpperCase():"")),lf=/\B([A-Z])/g,it=Tr(t=>t.replace(lf,"-$1").toLowerCase()),En=Tr(t=>t.charAt(0).toUpperCase()+t.slice(1)),rn=Tr(t=>t?`on${En(t)}`:""),Ii=(t,e)=>!Object.is(t,e),Fi=(t,e)=>{for(let s=0;s<t.length;s++)t[s](e)},rr=(t,e,s)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:s})},sr=t=>{const e=parseFloat(t);return isNaN(e)?t:e},or=t=>{const e=Pe(t)?Number(t):NaN;return isNaN(e)?t:e};let Uo;const hs=()=>Uo||(Uo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),cf="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",uf=xr(cf);function hi(t){if(ue(t)){const e={};for(let s=0;s<t.length;s++){const u=t[s],p=Pe(u)?gf(u):hi(u);if(p)for(const v in p)e[v]=p[v]}return e}else{if(Pe(t))return t;if(we(t))return t}}const ff=/;(?![^(]*\))/g,hf=/:([^]+)/,df=/\/\*[^]*?\*\//g;function gf(t){const e={};return t.replace(df,"").split(ff).forEach(s=>{if(s){const u=s.split(hf);u.length>1&&(e[u[0].trim()]=u[1].trim())}}),e}function di(t){let e="";if(Pe(t))e=t;else if(ue(t))for(let s=0;s<t.length;s++){const u=di(t[s]);u&&(e+=u+" ")}else if(we(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}function $s(t){if(!t)return null;let{class:e,style:s}=t;return e&&!Pe(e)&&(t.class=di(e)),s&&(t.style=hi(s)),t}const pf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",mf=xr(pf);function fl(t){return!!t||t===""}function vf(t,e){if(t.length!==e.length)return!1;let s=!0;for(let u=0;s&&u<t.length;u++)s=Yt(t[u],e[u]);return s}function Yt(t,e){if(t===e)return!0;let s=Wo(t),u=Wo(e);if(s||u)return s&&u?t.getTime()===e.getTime():!1;if(s=pn(t),u=pn(e),s||u)return t===e;if(s=ue(t),u=ue(e),s||u)return s&&u?vf(t,e):!1;if(s=we(t),u=we(e),s||u){if(!s||!u)return!1;const p=Object.keys(t).length,v=Object.keys(e).length;if(p!==v)return!1;for(const y in t){const f=t.hasOwnProperty(y),n=e.hasOwnProperty(y);if(f&&!n||!f&&n||!Yt(t[y],e[y]))return!1}}return String(t)===String(e)}function Or(t,e){return t.findIndex(s=>Yt(s,e))}const Qi=t=>Pe(t)?t:t==null?"":ue(t)||we(t)&&(t.toString===cl||!ge(t.toString))?JSON.stringify(t,hl,2):String(t),hl=(t,e)=>e&&e.__v_isRef?hl(t,e.value):Mi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[u,p])=>(s[`${u} =>`]=p,s),{})}:bi(e)?{[`Set(${e.size})`]:[...e.values()]}:we(e)&&!ue(e)&&!ul(e)?String(e):e;let Qe;class qs{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Qe,!e&&Qe&&(this.index=(Qe.scopes||(Qe.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const s=Qe;try{return Qe=this,e()}finally{Qe=s}}}on(){Qe=this}off(){Qe=this.parent}stop(e){if(this._active){let s,u;for(s=0,u=this.effects.length;s<u;s++)this.effects[s].stop();for(s=0,u=this.cleanups.length;s<u;s++)this.cleanups[s]();if(this.scopes)for(s=0,u=this.scopes.length;s<u;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!e){const p=this.parent.scopes.pop();p&&p!==this&&(this.parent.scopes[this.index]=p,p.index=this.index)}this.parent=void 0,this._active=!1}}}function Ks(t){return new qs(t)}function dl(t,e=Qe){e&&e.active&&e.effects.push(t)}function Er(){return Qe}function Js(t){Qe&&Qe.cleanups.push(t)}const Qs=t=>{const e=new Set(t);return e.w=0,e.n=0,e},gl=t=>(t.w&Gt)>0,pl=t=>(t.n&Gt)>0,yf=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Gt},bf=t=>{const{deps:e}=t;if(e.length){let s=0;for(let u=0;u<e.length;u++){const p=e[u];gl(p)&&!pl(p)?p.delete(t):e[s++]=p,p.w&=~Gt,p.n&=~Gt}e.length=s}},ar=new WeakMap;let Zi=0,Gt=1;const ds=30;let st;const li=Symbol(""),gs=Symbol("");class Pn{constructor(e,s=null,u){this.fn=e,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,dl(this,u)}run(){if(!this.active)return this.fn();let e=st,s=Xt;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=st,st=this,Xt=!0,Gt=1<<++Zi,Zi<=ds?yf(this):Vo(this),this.fn()}finally{Zi<=ds&&bf(this),Gt=1<<--Zi,st=this.parent,Xt=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){st===this?this.deferStop=!0:this.active&&(Vo(this),this.onStop&&this.onStop(),this.active=!1)}}function Vo(t){const{deps:e}=t;if(e.length){for(let s=0;s<e.length;s++)e[s].delete(t);e.length=0}}function _f(t,e){t.effect&&(t=t.effect.fn);const s=new Pn(t);e&&(Te(s,e),e.scope&&dl(s,e.scope)),(!e||!e.lazy)&&s.run();const u=s.run.bind(s);return u.effect=s,u}function Cf(t){t.effect.stop()}let Xt=!0;const ml=[];function Ui(){ml.push(Xt),Xt=!1}function Vi(){const t=ml.pop();Xt=t===void 0?!0:t}function Ke(t,e,s){if(Xt&&st){let u=ar.get(t);u||ar.set(t,u=new Map);let p=u.get(s);p||u.set(s,p=Qs()),vl(p)}}function vl(t,e){let s=!1;Zi<=ds?pl(t)||(t.n|=Gt,s=!gl(t)):s=!t.has(st),s&&(t.add(st),st.deps.push(t))}function At(t,e,s,u,p,v){const y=ar.get(t);if(!y)return;let f=[];if(e==="clear")f=[...y.values()];else if(s==="length"&&ue(t)){const n=Number(u);y.forEach((c,h)=>{(h==="length"||h>=n)&&f.push(c)})}else switch(s!==void 0&&f.push(y.get(s)),e){case"add":ue(t)?Gs(s)&&f.push(y.get("length")):(f.push(y.get(li)),Mi(t)&&f.push(y.get(gs)));break;case"delete":ue(t)||(f.push(y.get(li)),Mi(t)&&f.push(y.get(gs)));break;case"set":Mi(t)&&f.push(y.get(li));break}if(f.length===1)f[0]&&ps(f[0]);else{const n=[];for(const c of f)c&&n.push(...c);ps(Qs(n))}}function ps(t,e){const s=ue(t)?t:[...t];for(const u of s)u.computed&&Xo(u);for(const u of s)u.computed||Xo(u)}function Xo(t,e){(t!==st||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function Sf(t,e){var s;return(s=ar.get(t))==null?void 0:s.get(e)}const wf=xr("__proto__,__v_isRef,__isVue"),yl=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(pn)),xf=Pr(),Tf=Pr(!1,!0),Of=Pr(!0),Ef=Pr(!0,!0),zo=Pf();function Pf(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...s){const u=ve(this);for(let v=0,y=this.length;v<y;v++)Ke(u,"get",v+"");const p=u[e](...s);return p===-1||p===!1?u[e](...s.map(ve)):p}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...s){Ui();const u=ve(this)[e].apply(this,s);return Vi(),u}}),t}function Af(t){const e=ve(this);return Ke(e,"has",t),e.hasOwnProperty(t)}function Pr(t=!1,e=!1){return function(u,p,v){if(p==="__v_isReactive")return!t;if(p==="__v_isReadonly")return t;if(p==="__v_isShallow")return e;if(p==="__v_raw"&&v===(t?e?Tl:xl:e?wl:Sl).get(u))return u;const y=ue(u);if(!t){if(y&&be(zo,p))return Reflect.get(zo,p,v);if(p==="hasOwnProperty")return Af}const f=Reflect.get(u,p,v);return(pn(p)?yl.has(p):wf(p))||(t||Ke(u,"get",p),e)?f:Ee(f)?y&&Gs(p)?f:f.value:we(f)?t?eo(f):$t(f):f}}const kf=bl(),Mf=bl(!0);function bl(t=!1){return function(s,u,p,v){let y=s[u];if(gi(y)&&Ee(y)&&!Ee(p))return!1;if(!t&&(!mn(p)&&!gi(p)&&(y=ve(y),p=ve(p)),!ue(s)&&Ee(y)&&!Ee(p)))return y.value=p,!0;const f=ue(s)&&Gs(u)?Number(u)<s.length:be(s,u),n=Reflect.set(s,u,p,v);return s===ve(v)&&(f?Ii(p,y)&&At(s,"set",u,p):At(s,"add",u,p)),n}}function Ff(t,e){const s=be(t,e);t[e];const u=Reflect.deleteProperty(t,e);return u&&s&&At(t,"delete",e,void 0),u}function Df(t,e){const s=Reflect.has(t,e);return(!pn(e)||!yl.has(e))&&Ke(t,"has",e),s}function Lf(t){return Ke(t,"iterate",ue(t)?"length":li),Reflect.ownKeys(t)}const _l={get:xf,set:kf,deleteProperty:Ff,has:Df,ownKeys:Lf},Cl={get:Of,set(t,e){return!0},deleteProperty(t,e){return!0}},Rf=Te({},_l,{get:Tf,set:Mf}),If=Te({},Cl,{get:Ef}),Zs=t=>t,Ar=t=>Reflect.getPrototypeOf(t);function Ln(t,e,s=!1,u=!1){t=t.__v_raw;const p=ve(t),v=ve(e);s||(e!==v&&Ke(p,"get",e),Ke(p,"get",v));const{has:y}=Ar(p),f=u?Zs:s?io:vn;if(y.call(p,e))return f(t.get(e));if(y.call(p,v))return f(t.get(v));t!==p&&t.get(e)}function Rn(t,e=!1){const s=this.__v_raw,u=ve(s),p=ve(t);return e||(t!==p&&Ke(u,"has",t),Ke(u,"has",p)),t===p?s.has(t):s.has(t)||s.has(p)}function In(t,e=!1){return t=t.__v_raw,!e&&Ke(ve(t),"iterate",li),Reflect.get(t,"size",t)}function Yo(t){t=ve(t);const e=ve(this);return Ar(e).has.call(e,t)||(e.add(t),At(e,"add",t,t)),this}function Go(t,e){e=ve(e);const s=ve(this),{has:u,get:p}=Ar(s);let v=u.call(s,t);v||(t=ve(t),v=u.call(s,t));const y=p.call(s,t);return s.set(t,e),v?Ii(e,y)&&At(s,"set",t,e):At(s,"add",t,e),this}function $o(t){const e=ve(this),{has:s,get:u}=Ar(e);let p=s.call(e,t);p||(t=ve(t),p=s.call(e,t)),u&&u.call(e,t);const v=e.delete(t);return p&&At(e,"delete",t,void 0),v}function qo(){const t=ve(this),e=t.size!==0,s=t.clear();return e&&At(t,"clear",void 0,void 0),s}function Bn(t,e){return function(u,p){const v=this,y=v.__v_raw,f=ve(y),n=e?Zs:t?io:vn;return!t&&Ke(f,"iterate",li),y.forEach((c,h)=>u.call(p,n(c),n(h),v))}}function jn(t,e,s){return function(...u){const p=this.__v_raw,v=ve(p),y=Mi(v),f=t==="entries"||t===Symbol.iterator&&y,n=t==="keys"&&y,c=p[t](...u),h=s?Zs:e?io:vn;return!e&&Ke(v,"iterate",n?gs:li),{next(){const{value:i,done:o}=c.next();return o?{value:i,done:o}:{value:f?[h(i[0]),h(i[1])]:h(i),done:o}},[Symbol.iterator](){return this}}}}function Ft(t){return function(...e){return t==="delete"?!1:this}}function Bf(){const t={get(v){return Ln(this,v)},get size(){return In(this)},has:Rn,add:Yo,set:Go,delete:$o,clear:qo,forEach:Bn(!1,!1)},e={get(v){return Ln(this,v,!1,!0)},get size(){return In(this)},has:Rn,add:Yo,set:Go,delete:$o,clear:qo,forEach:Bn(!1,!0)},s={get(v){return Ln(this,v,!0)},get size(){return In(this,!0)},has(v){return Rn.call(this,v,!0)},add:Ft("add"),set:Ft("set"),delete:Ft("delete"),clear:Ft("clear"),forEach:Bn(!0,!1)},u={get(v){return Ln(this,v,!0,!0)},get size(){return In(this,!0)},has(v){return Rn.call(this,v,!0)},add:Ft("add"),set:Ft("set"),delete:Ft("delete"),clear:Ft("clear"),forEach:Bn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(v=>{t[v]=jn(v,!1,!1),s[v]=jn(v,!0,!1),e[v]=jn(v,!1,!0),u[v]=jn(v,!0,!0)}),[t,s,e,u]}const[jf,Nf,Hf,Wf]=Bf();function kr(t,e){const s=e?t?Wf:Hf:t?Nf:jf;return(u,p,v)=>p==="__v_isReactive"?!t:p==="__v_isReadonly"?t:p==="__v_raw"?u:Reflect.get(be(s,p)&&p in u?s:u,p,v)}const Uf={get:kr(!1,!1)},Vf={get:kr(!1,!0)},Xf={get:kr(!0,!1)},zf={get:kr(!0,!0)},Sl=new WeakMap,wl=new WeakMap,xl=new WeakMap,Tl=new WeakMap;function Yf(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Gf(t){return t.__v_skip||!Object.isExtensible(t)?0:Yf(of(t))}function $t(t){return gi(t)?t:Mr(t,!1,_l,Uf,Sl)}function Pi(t){return Mr(t,!1,Rf,Vf,wl)}function eo(t){return Mr(t,!0,Cl,Xf,xl)}function $f(t){return Mr(t,!0,If,zf,Tl)}function Mr(t,e,s,u,p){if(!we(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const v=p.get(t);if(v)return v;const y=Gf(t);if(y===0)return t;const f=new Proxy(t,y===2?u:s);return p.set(t,f),f}function mt(t){return gi(t)?mt(t.__v_raw):!!(t&&t.__v_isReactive)}function gi(t){return!!(t&&t.__v_isReadonly)}function mn(t){return!!(t&&t.__v_isShallow)}function to(t){return mt(t)||gi(t)}function ve(t){const e=t&&t.__v_raw;return e?ve(e):t}function Tt(t){return rr(t,"__v_skip",!0),t}const vn=t=>we(t)?$t(t):t,io=t=>we(t)?eo(t):t;function no(t){Xt&&st&&(t=ve(t),vl(t.dep||(t.dep=Qs())))}function Fr(t,e){t=ve(t);const s=t.dep;s&&ps(s)}function Ee(t){return!!(t&&t.__v_isRef===!0)}function me(t){return Ol(t,!1)}function qf(t){return Ol(t,!0)}function Ol(t,e){return Ee(t)?t:new Kf(t,e)}class Kf{constructor(e,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?e:ve(e),this._value=s?e:vn(e)}get value(){return no(this),this._value}set value(e){const s=this.__v_isShallow||mn(e)||gi(e);e=s?e:ve(e),Ii(e,this._rawValue)&&(this._rawValue=e,this._value=s?e:vn(e),Fr(this))}}function Jf(t){Fr(t)}function pe(t){return Ee(t)?t.value:t}function Qf(t){return ge(t)?t():pe(t)}const Zf={get:(t,e,s)=>pe(Reflect.get(t,e,s)),set:(t,e,s,u)=>{const p=t[e];return Ee(p)&&!Ee(s)?(p.value=s,!0):Reflect.set(t,e,s,u)}};function ro(t){return mt(t)?t:new Proxy(t,Zf)}class eh{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:s,set:u}=e(()=>no(this),()=>Fr(this));this._get=s,this._set=u}get value(){return this._get()}set value(e){this._set(e)}}function th(t){return new eh(t)}function El(t){const e=ue(t)?new Array(t.length):{};for(const s in t)e[s]=Pl(t,s);return e}class ih{constructor(e,s,u){this._object=e,this._key=s,this._defaultValue=u,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Sf(ve(this._object),this._key)}}class nh{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function so(t,e,s){return Ee(t)?t:ge(t)?new nh(t):we(t)&&arguments.length>1?Pl(t,e,s):me(t)}function Pl(t,e,s){const u=t[e];return Ee(u)?u:new ih(t,e,s)}class rh{constructor(e,s,u,p){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Pn(e,()=>{this._dirty||(this._dirty=!0,Fr(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!p,this.__v_isReadonly=u}get value(){const e=ve(this);return no(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function sh(t,e,s=!1){let u,p;const v=ge(t);return v?(u=t,p=ct):(u=t.get,p=t.set),new rh(u,p,v||!p,s)}function oh(t,...e){}function ah(t,e){}function Ot(t,e,s,u){let p;try{p=u?t(...u):t()}catch(v){_i(v,e,s)}return p}function et(t,e,s,u){if(ge(t)){const v=Ot(t,e,s,u);return v&&Ys(v)&&v.catch(y=>{_i(y,e,s)}),v}const p=[];for(let v=0;v<t.length;v++)p.push(et(t[v],e,s,u));return p}function _i(t,e,s,u=!0){const p=e?e.vnode:null;if(e){let v=e.parent;const y=e.proxy,f=s;for(;v;){const c=v.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,y,f)===!1)return}v=v.parent}const n=e.appContext.config.errorHandler;if(n){Ot(n,null,10,[t,y,f]);return}}lh(t,s,p,u)}function lh(t,e,s,u=!0){console.error(t)}let yn=!1,ms=!1;const Ue=[];let pt=0;const Di=[];let St=null,ii=0;const Al=Promise.resolve();let oo=null;function yt(t){const e=oo||Al;return t?e.then(this?t.bind(this):t):e}function ch(t){let e=pt+1,s=Ue.length;for(;e<s;){const u=e+s>>>1;bn(Ue[u])<t?e=u+1:s=u}return e}function Dr(t){(!Ue.length||!Ue.includes(t,yn&&t.allowRecurse?pt+1:pt))&&(t.id==null?Ue.push(t):Ue.splice(ch(t.id),0,t),kl())}function kl(){!yn&&!ms&&(ms=!0,oo=Al.then(Ml))}function uh(t){const e=Ue.indexOf(t);e>pt&&Ue.splice(e,1)}function ao(t){ue(t)?Di.push(...t):(!St||!St.includes(t,t.allowRecurse?ii+1:ii))&&Di.push(t),kl()}function Ko(t,e=yn?pt+1:0){for(;e<Ue.length;e++){const s=Ue[e];s&&s.pre&&(Ue.splice(e,1),e--,s())}}function lr(t){if(Di.length){const e=[...new Set(Di)];if(Di.length=0,St){St.push(...e);return}for(St=e,St.sort((s,u)=>bn(s)-bn(u)),ii=0;ii<St.length;ii++)St[ii]();St=null,ii=0}}const bn=t=>t.id==null?1/0:t.id,fh=(t,e)=>{const s=bn(t)-bn(e);if(s===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return s};function Ml(t){ms=!1,yn=!0,Ue.sort(fh);const e=ct;try{for(pt=0;pt<Ue.length;pt++){const s=Ue[pt];s&&s.active!==!1&&Ot(s,null,14)}}finally{pt=0,Ue.length=0,lr(),yn=!1,oo=null,(Ue.length||Di.length)&&Ml()}}let Oi,Nn=[];function Fl(t,e){var s,u;Oi=t,Oi?(Oi.enabled=!0,Nn.forEach(({event:p,args:v})=>Oi.emit(p,...v)),Nn=[]):typeof window<"u"&&window.HTMLElement&&!((u=(s=window.navigator)==null?void 0:s.userAgent)!=null&&u.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(v=>{Fl(v,e)}),setTimeout(()=>{Oi||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Nn=[])},3e3)):Nn=[]}function hh(t,e,...s){if(t.isUnmounted)return;const u=t.vnode.props||Se;let p=s;const v=e.startsWith("update:"),y=v&&e.slice(7);if(y&&y in u){const h=`${y==="modelValue"?"model":y}Modifiers`,{number:i,trim:o}=u[h]||Se;o&&(p=s.map(r=>Pe(r)?r.trim():r)),i&&(p=s.map(sr))}let f,n=u[f=rn(e)]||u[f=rn(qe(e))];!n&&v&&(n=u[f=rn(it(e))]),n&&et(n,t,6,p);const c=u[f+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[f])return;t.emitted[f]=!0,et(c,t,6,p)}}function Dl(t,e,s=!1){const u=e.emitsCache,p=u.get(t);if(p!==void 0)return p;const v=t.emits;let y={},f=!1;if(!ge(t)){const n=c=>{const h=Dl(c,e,!0);h&&(f=!0,Te(y,h))};!s&&e.mixins.length&&e.mixins.forEach(n),t.extends&&n(t.extends),t.mixins&&t.mixins.forEach(n)}return!v&&!f?(we(t)&&u.set(t,null),null):(ue(v)?v.forEach(n=>y[n]=null):Te(y,v),we(t)&&u.set(t,y),y)}function Lr(t,e){return!t||!On(e)?!1:(e=e.slice(2).replace(/Once$/,""),be(t,e[0].toLowerCase()+e.slice(1))||be(t,it(e))||be(t,e))}let He=null,Rr=null;function _n(t){const e=He;return He=t,Rr=t&&t.type.__scopeId||null,e}function dh(t){Rr=t}function gh(){Rr=null}const ph=t=>qt;function qt(t,e=He,s){if(!e||t._n)return t;const u=(...p)=>{u._d&&Ts(-1);const v=_n(e);let y;try{y=t(...p)}finally{_n(v),u._d&&Ts(1)}return y};return u._n=!0,u._c=!0,u._d=!0,u}function $n(t){const{type:e,vnode:s,proxy:u,withProxy:p,props:v,propsOptions:[y],slots:f,attrs:n,emit:c,render:h,renderCache:i,data:o,setupState:r,ctx:a,inheritAttrs:g}=t;let l,d;const m=_n(t);try{if(s.shapeFlag&4){const _=p||u;l=Ze(h.call(_,_,i,v,r,o,a)),d=n}else{const _=e;l=Ze(_.length>1?_(v,{attrs:n,slots:f,emit:c}):_(v,null)),d=e.props?n:vh(n)}}catch(_){an.length=0,_i(_,t,1),l=Ce(Xe)}let b=l;if(d&&g!==!1){const _=Object.keys(d),{shapeFlag:C}=b;_.length&&C&7&&(y&&_.some(Xs)&&(d=yh(d,y)),b=bt(b,d))}return s.dirs&&(b=bt(b),b.dirs=b.dirs?b.dirs.concat(s.dirs):s.dirs),s.transition&&(b.transition=s.transition),l=b,_n(m),l}function mh(t){let e;for(let s=0;s<t.length;s++){const u=t[s];if(Kt(u)){if(u.type!==Xe||u.children==="v-if"){if(e)return;e=u}}else return}return e}const vh=t=>{let e;for(const s in t)(s==="class"||s==="style"||On(s))&&((e||(e={}))[s]=t[s]);return e},yh=(t,e)=>{const s={};for(const u in t)(!Xs(u)||!(u.slice(9)in e))&&(s[u]=t[u]);return s};function bh(t,e,s){const{props:u,children:p,component:v}=t,{props:y,children:f,patchFlag:n}=e,c=v.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&n>=0){if(n&1024)return!0;if(n&16)return u?Jo(u,y,c):!!y;if(n&8){const h=e.dynamicProps;for(let i=0;i<h.length;i++){const o=h[i];if(y[o]!==u[o]&&!Lr(c,o))return!0}}}else return(p||f)&&(!f||!f.$stable)?!0:u===y?!1:u?y?Jo(u,y,c):!0:!!y;return!1}function Jo(t,e,s){const u=Object.keys(e);if(u.length!==Object.keys(t).length)return!0;for(let p=0;p<u.length;p++){const v=u[p];if(e[v]!==t[v]&&!Lr(s,v))return!0}return!1}function lo({vnode:t,parent:e},s){for(;e&&e.subTree===t;)(t=e.vnode).el=s,e=e.parent}const Ll=t=>t.__isSuspense,_h={name:"Suspense",__isSuspense:!0,process(t,e,s,u,p,v,y,f,n,c){t==null?Sh(e,s,u,p,v,y,f,n,c):wh(t,e,s,u,p,y,f,n,c)},hydrate:xh,create:co,normalize:Th},Ch=_h;function Cn(t,e){const s=t.props&&t.props[e];ge(s)&&s()}function Sh(t,e,s,u,p,v,y,f,n){const{p:c,o:{createElement:h}}=n,i=h("div"),o=t.suspense=co(t,p,u,e,i,s,v,y,f,n);c(null,o.pendingBranch=t.ssContent,i,null,u,o,v,y),o.deps>0?(Cn(t,"onPending"),Cn(t,"onFallback"),c(null,t.ssFallback,e,s,u,null,v,y),Li(o,t.ssFallback)):o.resolve(!1,!0)}function wh(t,e,s,u,p,v,y,f,{p:n,um:c,o:{createElement:h}}){const i=e.suspense=t.suspense;i.vnode=e,e.el=t.el;const o=e.ssContent,r=e.ssFallback,{activeBranch:a,pendingBranch:g,isInFallback:l,isHydrating:d}=i;if(g)i.pendingBranch=o,ot(o,g)?(n(g,o,i.hiddenContainer,null,p,i,v,y,f),i.deps<=0?i.resolve():l&&(n(a,r,s,u,p,null,v,y,f),Li(i,r))):(i.pendingId++,d?(i.isHydrating=!1,i.activeBranch=g):c(g,p,i),i.deps=0,i.effects.length=0,i.hiddenContainer=h("div"),l?(n(null,o,i.hiddenContainer,null,p,i,v,y,f),i.deps<=0?i.resolve():(n(a,r,s,u,p,null,v,y,f),Li(i,r))):a&&ot(o,a)?(n(a,o,s,u,p,i,v,y,f),i.resolve(!0)):(n(null,o,i.hiddenContainer,null,p,i,v,y,f),i.deps<=0&&i.resolve()));else if(a&&ot(o,a))n(a,o,s,u,p,i,v,y,f),Li(i,o);else if(Cn(e,"onPending"),i.pendingBranch=o,i.pendingId++,n(null,o,i.hiddenContainer,null,p,i,v,y,f),i.deps<=0)i.resolve();else{const{timeout:m,pendingId:b}=i;m>0?setTimeout(()=>{i.pendingId===b&&i.fallback(r)},m):m===0&&i.fallback(r)}}function co(t,e,s,u,p,v,y,f,n,c,h=!1){const{p:i,m:o,um:r,n:a,o:{parentNode:g,remove:l}}=c;let d;const m=Oh(t);m&&e!=null&&e.pendingBranch&&(d=e.pendingId,e.deps++);const b=t.props?or(t.props.timeout):void 0,_={vnode:t,parent:e,parentComponent:s,isSVG:y,container:u,hiddenContainer:p,anchor:v,deps:0,pendingId:0,timeout:typeof b=="number"?b:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:h,isUnmounted:!1,effects:[],resolve(C=!1,S=!1){const{vnode:w,activeBranch:x,pendingBranch:F,pendingId:V,effects:L,parentComponent:D,container:G}=_;if(_.isHydrating)_.isHydrating=!1;else if(!C){const te=x&&F.transition&&F.transition.mode==="out-in";te&&(x.transition.afterLeave=()=>{V===_.pendingId&&o(F,G,se,0)});let{anchor:se}=_;x&&(se=a(x),r(x,D,_,!0)),te||o(F,G,se,0)}Li(_,F),_.pendingBranch=null,_.isInFallback=!1;let z=_.parent,Z=!1;for(;z;){if(z.pendingBranch){z.effects.push(...L),Z=!0;break}z=z.parent}Z||ao(L),_.effects=[],m&&e&&e.pendingBranch&&d===e.pendingId&&(e.deps--,e.deps===0&&!S&&e.resolve()),Cn(w,"onResolve")},fallback(C){if(!_.pendingBranch)return;const{vnode:S,activeBranch:w,parentComponent:x,container:F,isSVG:V}=_;Cn(S,"onFallback");const L=a(w),D=()=>{_.isInFallback&&(i(null,C,F,L,x,null,V,f,n),Li(_,C))},G=C.transition&&C.transition.mode==="out-in";G&&(w.transition.afterLeave=D),_.isInFallback=!0,r(w,x,null,!0),G||D()},move(C,S,w){_.activeBranch&&o(_.activeBranch,C,S,w),_.container=C},next(){return _.activeBranch&&a(_.activeBranch)},registerDep(C,S){const w=!!_.pendingBranch;w&&_.deps++;const x=C.vnode.el;C.asyncDep.catch(F=>{_i(F,C,0)}).then(F=>{if(C.isUnmounted||_.isUnmounted||_.pendingId!==C.suspenseId)return;C.asyncResolved=!0;const{vnode:V}=C;Os(C,F,!1),x&&(V.el=x);const L=!x&&C.subTree.el;S(C,V,g(x||C.subTree.el),x?null:a(C.subTree),_,y,n),L&&l(L),lo(C,V.el),w&&--_.deps===0&&_.resolve()})},unmount(C,S){_.isUnmounted=!0,_.activeBranch&&r(_.activeBranch,s,C,S),_.pendingBranch&&r(_.pendingBranch,s,C,S)}};return _}function xh(t,e,s,u,p,v,y,f,n){const c=e.suspense=co(e,u,s,t.parentNode,document.createElement("div"),null,p,v,y,f,!0),h=n(t,c.pendingBranch=e.ssContent,s,c,v,y);return c.deps===0&&c.resolve(!1,!0),h}function Th(t){const{shapeFlag:e,children:s}=t,u=e&32;t.ssContent=Qo(u?s.default:s),t.ssFallback=u?Qo(s.fallback):Ce(Xe)}function Qo(t){let e;if(ge(t)){const s=vi&&t._c;s&&(t._d=!1,Oe()),t=t(),s&&(t._d=!0,e=$e,gc())}return ue(t)&&(t=mh(t)),t=Ze(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(s=>s!==t)),t}function Rl(t,e){e&&e.pendingBranch?ue(t)?e.effects.push(...t):e.effects.push(t):ao(t)}function Li(t,e){t.activeBranch=e;const{vnode:s,parentComponent:u}=t,p=s.el=e.el;u&&u.subTree===s&&(u.vnode.el=p,lo(u,p))}function Oh(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}function uo(t,e){return An(t,null,e)}function Il(t,e){return An(t,null,{flush:"post"})}function Eh(t,e){return An(t,null,{flush:"sync"})}const Hn={};function Ae(t,e,s){return An(t,e,s)}function An(t,e,{immediate:s,deep:u,flush:p,onTrack:v,onTrigger:y}=Se){var f;const n=Er()===((f=Ie)==null?void 0:f.scope)?Ie:null;let c,h=!1,i=!1;if(Ee(t)?(c=()=>t.value,h=mn(t)):mt(t)?(c=()=>t,u=!0):ue(t)?(i=!0,h=t.some(_=>mt(_)||mn(_)),c=()=>t.map(_=>{if(Ee(_))return _.value;if(mt(_))return ai(_);if(ge(_))return Ot(_,n,2)})):ge(t)?e?c=()=>Ot(t,n,2):c=()=>{if(!(n&&n.isUnmounted))return o&&o(),et(t,n,3,[r])}:c=ct,e&&u){const _=c;c=()=>ai(_())}let o,r=_=>{o=m.onStop=()=>{Ot(_,n,4)}},a;if(ji)if(r=ct,e?s&&et(e,n,3,[c(),i?[]:void 0,r]):c(),p==="sync"){const _=wc();a=_.__watcherHandles||(_.__watcherHandles=[])}else return ct;let g=i?new Array(t.length).fill(Hn):Hn;const l=()=>{if(m.active)if(e){const _=m.run();(u||h||(i?_.some((C,S)=>Ii(C,g[S])):Ii(_,g)))&&(o&&o(),et(e,n,3,[_,g===Hn?void 0:i&&g[0]===Hn?[]:g,r]),g=_)}else m.run()};l.allowRecurse=!!e;let d;p==="sync"?d=l:p==="post"?d=()=>We(l,n&&n.suspense):(l.pre=!0,n&&(l.id=n.uid),d=()=>Dr(l));const m=new Pn(c,d);e?s?l():g=m.run():p==="post"?We(m.run.bind(m),n&&n.suspense):m.run();const b=()=>{m.stop(),n&&n.scope&&zs(n.scope.effects,m)};return a&&a.push(b),b}function Ph(t,e,s){const u=this.proxy,p=Pe(t)?t.includes(".")?Bl(u,t):()=>u[t]:t.bind(u,u);let v;ge(e)?v=e:(v=e.handler,s=e);const y=Ie;Jt(this);const f=An(p,v.bind(u),s);return y?Jt(y):zt(),f}function Bl(t,e){const s=e.split(".");return()=>{let u=t;for(let p=0;p<s.length&&u;p++)u=u[s[p]];return u}}function ai(t,e){if(!we(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Ee(t))ai(t.value,e);else if(ue(t))for(let s=0;s<t.length;s++)ai(t[s],e);else if(bi(t)||Mi(t))t.forEach(s=>{ai(s,e)});else if(ul(t))for(const s in t)ai(t[s],e);return t}function qn(t,e){const s=He;if(s===null)return t;const u=Hr(s)||s.proxy,p=t.dirs||(t.dirs=[]);for(let v=0;v<e.length;v++){let[y,f,n,c=Se]=e[v];y&&(ge(y)&&(y={mounted:y,updated:y}),y.deep&&ai(f),p.push({dir:y,instance:u,value:f,oldValue:void 0,arg:n,modifiers:c}))}return t}function dt(t,e,s,u){const p=t.dirs,v=e&&e.dirs;for(let y=0;y<p.length;y++){const f=p[y];v&&(f.oldValue=v[y].value);let n=f.dir[u];n&&(Ui(),et(n,s,8,[t.el,f,t,e]),Vi())}}function fo(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Mt(()=>{t.isMounted=!0}),Ci(()=>{t.isUnmounting=!0}),t}const tt=[Function,Array],ho={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:tt,onEnter:tt,onAfterEnter:tt,onEnterCancelled:tt,onBeforeLeave:tt,onLeave:tt,onAfterLeave:tt,onLeaveCancelled:tt,onBeforeAppear:tt,onAppear:tt,onAfterAppear:tt,onAppearCancelled:tt},Ah={name:"BaseTransition",props:ho,setup(t,{slots:e}){const s=ut(),u=fo();let p;return()=>{const v=e.default&&Ir(e.default(),!0);if(!v||!v.length)return;let y=v[0];if(v.length>1){for(const g of v)if(g.type!==Xe){y=g;break}}const f=ve(t),{mode:n}=f;if(u.isLeaving)return qr(y);const c=Zo(y);if(!c)return qr(y);const h=Bi(c,f,u,s);pi(c,h);const i=s.subTree,o=i&&Zo(i);let r=!1;const{getTransitionKey:a}=c.type;if(a){const g=a();p===void 0?p=g:g!==p&&(p=g,r=!0)}if(o&&o.type!==Xe&&(!ot(c,o)||r)){const g=Bi(o,f,u,s);if(pi(o,g),n==="out-in")return u.isLeaving=!0,g.afterLeave=()=>{u.isLeaving=!1,s.update.active!==!1&&s.update()},qr(y);n==="in-out"&&c.type!==Xe&&(g.delayLeave=(l,d,m)=>{const b=Nl(u,o);b[String(o.key)]=o,l._leaveCb=()=>{d(),l._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=m})}return y}}},jl=Ah;function Nl(t,e){const{leavingVNodes:s}=t;let u=s.get(e.type);return u||(u=Object.create(null),s.set(e.type,u)),u}function Bi(t,e,s,u){const{appear:p,mode:v,persisted:y=!1,onBeforeEnter:f,onEnter:n,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:i,onLeave:o,onAfterLeave:r,onLeaveCancelled:a,onBeforeAppear:g,onAppear:l,onAfterAppear:d,onAppearCancelled:m}=e,b=String(t.key),_=Nl(s,t),C=(x,F)=>{x&&et(x,u,9,F)},S=(x,F)=>{const V=F[1];C(x,F),ue(x)?x.every(L=>L.length<=1)&&V():x.length<=1&&V()},w={mode:v,persisted:y,beforeEnter(x){let F=f;if(!s.isMounted)if(p)F=g||f;else return;x._leaveCb&&x._leaveCb(!0);const V=_[b];V&&ot(t,V)&&V.el._leaveCb&&V.el._leaveCb(),C(F,[x])},enter(x){let F=n,V=c,L=h;if(!s.isMounted)if(p)F=l||n,V=d||c,L=m||h;else return;let D=!1;const G=x._enterCb=z=>{D||(D=!0,z?C(L,[x]):C(V,[x]),w.delayedLeave&&w.delayedLeave(),x._enterCb=void 0)};F?S(F,[x,G]):G()},leave(x,F){const V=String(t.key);if(x._enterCb&&x._enterCb(!0),s.isUnmounting)return F();C(i,[x]);let L=!1;const D=x._leaveCb=G=>{L||(L=!0,F(),G?C(a,[x]):C(r,[x]),x._leaveCb=void 0,_[V]===t&&delete _[V])};_[V]=t,o?S(o,[x,D]):D()},clone(x){return Bi(x,e,s,u)}};return w}function qr(t){if(kn(t))return t=bt(t),t.children=null,t}function Zo(t){return kn(t)?t.children?t.children[0]:void 0:t}function pi(t,e){t.shapeFlag&6&&t.component?pi(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ir(t,e=!1,s){let u=[],p=0;for(let v=0;v<t.length;v++){let y=t[v];const f=s==null?y.key:String(s)+String(y.key!=null?y.key:v);y.type===Ne?(y.patchFlag&128&&p++,u=u.concat(Ir(y.children,e,f))):(e||y.type!==Xe)&&u.push(f!=null?bt(y,{key:f}):y)}if(p>1)for(let v=0;v<u.length;v++)u[v].patchFlag=-2;return u}function Zt(t,e){return ge(t)?(()=>Te({name:t.name},e,{setup:t}))():t}const ci=t=>!!t.type.__asyncLoader;function kh(t){ge(t)&&(t={loader:t});const{loader:e,loadingComponent:s,errorComponent:u,delay:p=200,timeout:v,suspensible:y=!0,onError:f}=t;let n=null,c,h=0;const i=()=>(h++,n=null,o()),o=()=>{let r;return n||(r=n=e().catch(a=>{if(a=a instanceof Error?a:new Error(String(a)),f)return new Promise((g,l)=>{f(a,()=>g(i()),()=>l(a),h+1)});throw a}).then(a=>r!==n&&n?n:(a&&(a.__esModule||a[Symbol.toStringTag]==="Module")&&(a=a.default),c=a,a)))};return Zt({name:"AsyncComponentWrapper",__asyncLoader:o,get __asyncResolved(){return c},setup(){const r=Ie;if(c)return()=>Kr(c,r);const a=m=>{n=null,_i(m,r,13,!u)};if(y&&r.suspense||ji)return o().then(m=>()=>Kr(m,r)).catch(m=>(a(m),()=>u?Ce(u,{error:m}):null));const g=me(!1),l=me(),d=me(!!p);return p&&setTimeout(()=>{d.value=!1},p),v!=null&&setTimeout(()=>{if(!g.value&&!l.value){const m=new Error(`Async component timed out after ${v}ms.`);a(m),l.value=m}},v),o().then(()=>{g.value=!0,r.parent&&kn(r.parent.vnode)&&Dr(r.parent.update)}).catch(m=>{a(m),l.value=m}),()=>{if(g.value&&c)return Kr(c,r);if(l.value&&u)return Ce(u,{error:l.value});if(s&&!d.value)return Ce(s)}}})}function Kr(t,e){const{ref:s,props:u,children:p,ce:v}=e.vnode,y=Ce(t,u,p);return y.ref=s,y.ce=v,delete e.vnode.ce,y}const kn=t=>t.type.__isKeepAlive,Mh={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const s=ut(),u=s.ctx;if(!u.renderer)return()=>{const m=e.default&&e.default();return m&&m.length===1?m[0]:m};const p=new Map,v=new Set;let y=null;const f=s.suspense,{renderer:{p:n,m:c,um:h,o:{createElement:i}}}=u,o=i("div");u.activate=(m,b,_,C,S)=>{const w=m.component;c(m,b,_,0,f),n(w.vnode,m,b,_,w,f,C,m.slotScopeIds,S),We(()=>{w.isDeactivated=!1,w.a&&Fi(w.a);const x=m.props&&m.props.onVnodeMounted;x&&Ge(x,w.parent,m)},f)},u.deactivate=m=>{const b=m.component;c(m,o,null,1,f),We(()=>{b.da&&Fi(b.da);const _=m.props&&m.props.onVnodeUnmounted;_&&Ge(_,b.parent,m),b.isDeactivated=!0},f)};function r(m){Jr(m),h(m,s,f,!0)}function a(m){p.forEach((b,_)=>{const C=Ps(b.type);C&&(!m||!m(C))&&g(_)})}function g(m){const b=p.get(m);!y||!ot(b,y)?r(b):y&&Jr(y),p.delete(m),v.delete(m)}Ae(()=>[t.include,t.exclude],([m,b])=>{m&&a(_=>en(m,_)),b&&a(_=>!en(b,_))},{flush:"post",deep:!0});let l=null;const d=()=>{l!=null&&p.set(l,Qr(s.subTree))};return Mt(d),jr(d),Ci(()=>{p.forEach(m=>{const{subTree:b,suspense:_}=s,C=Qr(b);if(m.type===C.type&&m.key===C.key){Jr(C);const S=C.component.da;S&&We(S,_);return}r(m)})}),()=>{if(l=null,!e.default)return null;const m=e.default(),b=m[0];if(m.length>1)return y=null,m;if(!Kt(b)||!(b.shapeFlag&4)&&!(b.shapeFlag&128))return y=null,b;let _=Qr(b);const C=_.type,S=Ps(ci(_)?_.type.__asyncResolved||{}:C),{include:w,exclude:x,max:F}=t;if(w&&(!S||!en(w,S))||x&&S&&en(x,S))return y=_,b;const V=_.key==null?C:_.key,L=p.get(V);return _.el&&(_=bt(_),b.shapeFlag&128&&(b.ssContent=_)),l=V,L?(_.el=L.el,_.component=L.component,_.transition&&pi(_,_.transition),_.shapeFlag|=512,v.delete(V),v.add(V)):(v.add(V),F&&v.size>parseInt(F,10)&&g(v.values().next().value)),_.shapeFlag|=256,y=_,Ll(b.type)?b:_}}},Fh=Mh;function en(t,e){return ue(t)?t.some(s=>en(s,e)):Pe(t)?t.split(",").includes(e):sf(t)?t.test(e):!1}function Hl(t,e){Ul(t,"a",e)}function Wl(t,e){Ul(t,"da",e)}function Ul(t,e,s=Ie){const u=t.__wdc||(t.__wdc=()=>{let p=s;for(;p;){if(p.isDeactivated)return;p=p.parent}return t()});if(Br(e,u,s),s){let p=s.parent;for(;p&&p.parent;)kn(p.parent.vnode)&&Dh(u,e,s,p),p=p.parent}}function Dh(t,e,s,u){const p=Br(e,t,u,!0);Mn(()=>{zs(u[e],p)},s)}function Jr(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Qr(t){return t.shapeFlag&128?t.ssContent:t}function Br(t,e,s=Ie,u=!1){if(s){const p=s[t]||(s[t]=[]),v=e.__weh||(e.__weh=(...y)=>{if(s.isUnmounted)return;Ui(),Jt(s);const f=et(e,s,t,y);return zt(),Vi(),f});return u?p.unshift(v):p.push(v),v}}const kt=t=>(e,s=Ie)=>(!ji||t==="sp")&&Br(t,(...u)=>e(...u),s),Vl=kt("bm"),Mt=kt("m"),Xl=kt("bu"),jr=kt("u"),Ci=kt("bum"),Mn=kt("um"),zl=kt("sp"),Yl=kt("rtg"),Gl=kt("rtc");function $l(t,e=Ie){Br("ec",t,e)}const go="components",Lh="directives";function Rh(t,e){return po(go,t,!0,e)||t}const ql=Symbol.for("v-ndc");function Kn(t){return Pe(t)?po(go,t,!1)||t:t||ql}function Ih(t){return po(Lh,t)}function po(t,e,s=!0,u=!1){const p=He||Ie;if(p){const v=p.type;if(t===go){const f=Ps(v,!1);if(f&&(f===e||f===qe(e)||f===En(qe(e))))return v}const y=ea(p[t]||v[t],e)||ea(p.appContext[t],e);return!y&&u?v:y}}function ea(t,e){return t&&(t[e]||t[qe(e)]||t[En(qe(e))])}function vs(t,e,s,u){let p;const v=s&&s[u];if(ue(t)||Pe(t)){p=new Array(t.length);for(let y=0,f=t.length;y<f;y++)p[y]=e(t[y],y,void 0,v&&v[y])}else if(typeof t=="number"){p=new Array(t);for(let y=0;y<t;y++)p[y]=e(y+1,y,void 0,v&&v[y])}else if(we(t))if(t[Symbol.iterator])p=Array.from(t,(y,f)=>e(y,f,void 0,v&&v[f]));else{const y=Object.keys(t);p=new Array(y.length);for(let f=0,n=y.length;f<n;f++){const c=y[f];p[f]=e(t[c],c,f,v&&v[f])}}else p=[];return s&&(s[u]=p),p}function Kl(t,e){for(let s=0;s<e.length;s++){const u=e[s];if(ue(u))for(let p=0;p<u.length;p++)t[u[p].name]=u[p].fn;else u&&(t[u.name]=u.key?(...p)=>{const v=u.fn(...p);return v&&(v.key=u.key),v}:u.fn)}return t}function cr(t,e,s={},u,p){if(He.isCE||He.parent&&ci(He.parent)&&He.parent.isCE)return e!=="default"&&(s.name=e),Ce("slot",s,u&&u());let v=t[e];v&&v._c&&(v._d=!1),Oe();const y=v&&Jl(v(s)),f=Et(Ne,{key:s.key||y&&y.key||`_${e}`},y||(u?u():[]),y&&t._===1?64:-2);return!p&&f.scopeId&&(f.slotScopeIds=[f.scopeId+"-s"]),v&&v._c&&(v._d=!0),f}function Jl(t){return t.some(e=>Kt(e)?!(e.type===Xe||e.type===Ne&&!Jl(e.children)):!0)?t:null}function ys(t,e){const s={};for(const u in t)s[e&&/[A-Z]/.test(u)?`on:${u}`:rn(u)]=t[u];return s}const bs=t=>t?yc(t)?Hr(t)||t.proxy:bs(t.parent):null,sn=Te(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>bs(t.parent),$root:t=>bs(t.root),$emit:t=>t.emit,$options:t=>mo(t),$forceUpdate:t=>t.f||(t.f=()=>Dr(t.update)),$nextTick:t=>t.n||(t.n=yt.bind(t.proxy)),$watch:t=>Ph.bind(t)}),Zr=(t,e)=>t!==Se&&!t.__isScriptSetup&&be(t,e),_s={get({_:t},e){const{ctx:s,setupState:u,data:p,props:v,accessCache:y,type:f,appContext:n}=t;let c;if(e[0]!=="$"){const r=y[e];if(r!==void 0)switch(r){case 1:return u[e];case 2:return p[e];case 4:return s[e];case 3:return v[e]}else{if(Zr(u,e))return y[e]=1,u[e];if(p!==Se&&be(p,e))return y[e]=2,p[e];if((c=t.propsOptions[0])&&be(c,e))return y[e]=3,v[e];if(s!==Se&&be(s,e))return y[e]=4,s[e];Cs&&(y[e]=0)}}const h=sn[e];let i,o;if(h)return e==="$attrs"&&Ke(t,"get",e),h(t);if((i=f.__cssModules)&&(i=i[e]))return i;if(s!==Se&&be(s,e))return y[e]=4,s[e];if(o=n.config.globalProperties,be(o,e))return o[e]},set({_:t},e,s){const{data:u,setupState:p,ctx:v}=t;return Zr(p,e)?(p[e]=s,!0):u!==Se&&be(u,e)?(u[e]=s,!0):be(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(v[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:u,appContext:p,propsOptions:v}},y){let f;return!!s[y]||t!==Se&&be(t,y)||Zr(e,y)||(f=v[0])&&be(f,y)||be(u,y)||be(sn,y)||be(p.config.globalProperties,y)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:be(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}},Bh=Te({},_s,{get(t,e){if(e!==Symbol.unscopables)return _s.get(t,e,t)},has(t,e){return e[0]!=="_"&&!uf(e)}});function jh(){return null}function Nh(){return null}function Hh(t){}function Wh(t){}function Uh(){return null}function Vh(){}function Xh(t,e){return null}function zh(){return Zl().slots}function Ql(){return Zl().attrs}function Yh(t,e,s){const u=ut();if(s&&s.local){const p=me(t[e]);return Ae(()=>t[e],v=>p.value=v),Ae(p,v=>{v!==t[e]&&u.emit(`update:${e}`,v)}),p}else return{__v_isRef:!0,get value(){return t[e]},set value(p){u.emit(`update:${e}`,p)}}}function Zl(){const t=ut();return t.setupContext||(t.setupContext=Cc(t))}function Sn(t){return ue(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}function Gh(t,e){const s=Sn(t);for(const u in e){if(u.startsWith("__skip"))continue;let p=s[u];p?ue(p)||ge(p)?p=s[u]={type:p,default:e[u]}:p.default=e[u]:p===null&&(p=s[u]={default:e[u]}),p&&e[`__skip_${u}`]&&(p.skipFactory=!0)}return s}function $h(t,e){return!t||!e?t||e:ue(t)&&ue(e)?t.concat(e):Te({},Sn(t),Sn(e))}function qh(t,e){const s={};for(const u in t)e.includes(u)||Object.defineProperty(s,u,{enumerable:!0,get:()=>t[u]});return s}function Kh(t){const e=ut();let s=t();return zt(),Ys(s)&&(s=s.catch(u=>{throw Jt(e),u})),[s,()=>Jt(e)]}let Cs=!0;function Jh(t){const e=mo(t),s=t.proxy,u=t.ctx;Cs=!1,e.beforeCreate&&ta(e.beforeCreate,t,"bc");const{data:p,computed:v,methods:y,watch:f,provide:n,inject:c,created:h,beforeMount:i,mounted:o,beforeUpdate:r,updated:a,activated:g,deactivated:l,beforeDestroy:d,beforeUnmount:m,destroyed:b,unmounted:_,render:C,renderTracked:S,renderTriggered:w,errorCaptured:x,serverPrefetch:F,expose:V,inheritAttrs:L,components:D,directives:G,filters:z}=e;if(c&&Qh(c,u,null),y)for(const se in y){const oe=y[se];ge(oe)&&(u[se]=oe.bind(s))}if(p){const se=p.call(s,s);we(se)&&(t.data=$t(se))}if(Cs=!0,v)for(const se in v){const oe=v[se],P=ge(oe)?oe.bind(s,s):ge(oe.get)?oe.get.bind(s,s):ct,H=!ge(oe)&&ge(oe.set)?oe.set.bind(s):ct,j=Fe({get:P,set:H});Object.defineProperty(u,se,{enumerable:!0,configurable:!0,get:()=>j.value,set:A=>j.value=A})}if(f)for(const se in f)ec(f[se],u,s,se);if(n){const se=ge(n)?n.call(s):n;Reflect.ownKeys(se).forEach(oe=>{ic(oe,se[oe])})}h&&ta(h,t,"c");function te(se,oe){ue(oe)?oe.forEach(P=>se(P.bind(s))):oe&&se(oe.bind(s))}if(te(Vl,i),te(Mt,o),te(Xl,r),te(jr,a),te(Hl,g),te(Wl,l),te($l,x),te(Gl,S),te(Yl,w),te(Ci,m),te(Mn,_),te(zl,F),ue(V))if(V.length){const se=t.exposed||(t.exposed={});V.forEach(oe=>{Object.defineProperty(se,oe,{get:()=>s[oe],set:P=>s[oe]=P})})}else t.exposed||(t.exposed={});C&&t.render===ct&&(t.render=C),L!=null&&(t.inheritAttrs=L),D&&(t.components=D),G&&(t.directives=G)}function Qh(t,e,s=ct){ue(t)&&(t=Ss(t));for(const u in t){const p=t[u];let v;we(p)?"default"in p?v=vt(p.from||u,p.default,!0):v=vt(p.from||u):v=vt(p),Ee(v)?Object.defineProperty(e,u,{enumerable:!0,configurable:!0,get:()=>v.value,set:y=>v.value=y}):e[u]=v}}function ta(t,e,s){et(ue(t)?t.map(u=>u.bind(e.proxy)):t.bind(e.proxy),e,s)}function ec(t,e,s,u){const p=u.includes(".")?Bl(s,u):()=>s[u];if(Pe(t)){const v=e[t];ge(v)&&Ae(p,v)}else if(ge(t))Ae(p,t.bind(s));else if(we(t))if(ue(t))t.forEach(v=>ec(v,e,s,u));else{const v=ge(t.handler)?t.handler.bind(s):e[t.handler];ge(v)&&Ae(p,v,t)}}function mo(t){const e=t.type,{mixins:s,extends:u}=e,{mixins:p,optionsCache:v,config:{optionMergeStrategies:y}}=t.appContext,f=v.get(e);let n;return f?n=f:!p.length&&!s&&!u?n=e:(n={},p.length&&p.forEach(c=>ur(n,c,y,!0)),ur(n,e,y)),we(e)&&v.set(e,n),n}function ur(t,e,s,u=!1){const{mixins:p,extends:v}=e;v&&ur(t,v,s,!0),p&&p.forEach(y=>ur(t,y,s,!0));for(const y in e)if(!(u&&y==="expose")){const f=Zh[y]||s&&s[y];t[y]=f?f(t[y],e[y]):e[y]}return t}const Zh={data:ia,props:na,emits:na,methods:tn,computed:tn,beforeCreate:ze,created:ze,beforeMount:ze,mounted:ze,beforeUpdate:ze,updated:ze,beforeDestroy:ze,beforeUnmount:ze,destroyed:ze,unmounted:ze,activated:ze,deactivated:ze,errorCaptured:ze,serverPrefetch:ze,components:tn,directives:tn,watch:td,provide:ia,inject:ed};function ia(t,e){return e?t?function(){return Te(ge(t)?t.call(this,this):t,ge(e)?e.call(this,this):e)}:e:t}function ed(t,e){return tn(Ss(t),Ss(e))}function Ss(t){if(ue(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function ze(t,e){return t?[...new Set([].concat(t,e))]:e}function tn(t,e){return t?Te(Object.create(null),t,e):e}function na(t,e){return t?ue(t)&&ue(e)?[...new Set([...t,...e])]:Te(Object.create(null),Sn(t),Sn(e??{})):e}function td(t,e){if(!t)return e;if(!e)return t;const s=Te(Object.create(null),t);for(const u in e)s[u]=ze(t[u],e[u]);return s}function tc(){return{app:null,config:{isNativeTag:tf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let id=0;function nd(t,e){return function(u,p=null){ge(u)||(u=Te({},u)),p!=null&&!we(p)&&(p=null);const v=tc(),y=new Set;let f=!1;const n=v.app={_uid:id++,_component:u,_props:p,_container:null,_context:v,_instance:null,version:Tc,get config(){return v.config},set config(c){},use(c,...h){return y.has(c)||(c&&ge(c.install)?(y.add(c),c.install(n,...h)):ge(c)&&(y.add(c),c(n,...h))),n},mixin(c){return v.mixins.includes(c)||v.mixins.push(c),n},component(c,h){return h?(v.components[c]=h,n):v.components[c]},directive(c,h){return h?(v.directives[c]=h,n):v.directives[c]},mount(c,h,i){if(!f){const o=Ce(u,p);return o.appContext=v,h&&e?e(o,c):t(o,c,i),f=!0,n._container=c,c.__vue_app__=n,Hr(o.component)||o.component.proxy}},unmount(){f&&(t(null,n._container),delete n._container.__vue_app__)},provide(c,h){return v.provides[c]=h,n},runWithContext(c){wn=n;try{return c()}finally{wn=null}}};return n}}let wn=null;function ic(t,e){if(Ie){let s=Ie.provides;const u=Ie.parent&&Ie.parent.provides;u===s&&(s=Ie.provides=Object.create(u)),s[t]=e}}function vt(t,e,s=!1){const u=Ie||He;if(u||wn){const p=u?u.parent==null?u.vnode.appContext&&u.vnode.appContext.provides:u.parent.provides:wn._context.provides;if(p&&t in p)return p[t];if(arguments.length>1)return s&&ge(e)?e.call(u&&u.proxy):e}}function nc(){return!!(Ie||He||wn)}function rd(t,e,s,u=!1){const p={},v={};rr(v,Nr,1),t.propsDefaults=Object.create(null),rc(t,e,p,v);for(const y in t.propsOptions[0])y in p||(p[y]=void 0);s?t.props=u?p:Pi(p):t.type.props?t.props=p:t.props=v,t.attrs=v}function sd(t,e,s,u){const{props:p,attrs:v,vnode:{patchFlag:y}}=t,f=ve(p),[n]=t.propsOptions;let c=!1;if((u||y>0)&&!(y&16)){if(y&8){const h=t.vnode.dynamicProps;for(let i=0;i<h.length;i++){let o=h[i];if(Lr(t.emitsOptions,o))continue;const r=e[o];if(n)if(be(v,o))r!==v[o]&&(v[o]=r,c=!0);else{const a=qe(o);p[a]=ws(n,f,a,r,t,!1)}else r!==v[o]&&(v[o]=r,c=!0)}}}else{rc(t,e,p,v)&&(c=!0);let h;for(const i in f)(!e||!be(e,i)&&((h=it(i))===i||!be(e,h)))&&(n?s&&(s[i]!==void 0||s[h]!==void 0)&&(p[i]=ws(n,f,i,void 0,t,!0)):delete p[i]);if(v!==f)for(const i in v)(!e||!be(e,i))&&(delete v[i],c=!0)}c&&At(t,"set","$attrs")}function rc(t,e,s,u){const[p,v]=t.propsOptions;let y=!1,f;if(e)for(let n in e){if(nn(n))continue;const c=e[n];let h;p&&be(p,h=qe(n))?!v||!v.includes(h)?s[h]=c:(f||(f={}))[h]=c:Lr(t.emitsOptions,n)||(!(n in u)||c!==u[n])&&(u[n]=c,y=!0)}if(v){const n=ve(s),c=f||Se;for(let h=0;h<v.length;h++){const i=v[h];s[i]=ws(p,n,i,c[i],t,!be(c,i))}}return y}function ws(t,e,s,u,p,v){const y=t[s];if(y!=null){const f=be(y,"default");if(f&&u===void 0){const n=y.default;if(y.type!==Function&&!y.skipFactory&&ge(n)){const{propsDefaults:c}=p;s in c?u=c[s]:(Jt(p),u=c[s]=n.call(null,e),zt())}else u=n}y[0]&&(v&&!f?u=!1:y[1]&&(u===""||u===it(s))&&(u=!0))}return u}function sc(t,e,s=!1){const u=e.propsCache,p=u.get(t);if(p)return p;const v=t.props,y={},f=[];let n=!1;if(!ge(t)){const h=i=>{n=!0;const[o,r]=sc(i,e,!0);Te(y,o),r&&f.push(...r)};!s&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!v&&!n)return we(t)&&u.set(t,ki),ki;if(ue(v))for(let h=0;h<v.length;h++){const i=qe(v[h]);ra(i)&&(y[i]=Se)}else if(v)for(const h in v){const i=qe(h);if(ra(i)){const o=v[h],r=y[i]=ue(o)||ge(o)?{type:o}:Te({},o);if(r){const a=aa(Boolean,r.type),g=aa(String,r.type);r[0]=a>-1,r[1]=g<0||a<g,(a>-1||be(r,"default"))&&f.push(i)}}}const c=[y,f];return we(t)&&u.set(t,c),c}function ra(t){return t[0]!=="$"}function sa(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function oa(t,e){return sa(t)===sa(e)}function aa(t,e){return ue(e)?e.findIndex(s=>oa(s,t)):ge(e)&&oa(e,t)?0:-1}const oc=t=>t[0]==="_"||t==="$stable",vo=t=>ue(t)?t.map(Ze):[Ze(t)],od=(t,e,s)=>{if(e._n)return e;const u=qt((...p)=>vo(e(...p)),s);return u._c=!1,u},ac=(t,e,s)=>{const u=t._ctx;for(const p in t){if(oc(p))continue;const v=t[p];if(ge(v))e[p]=od(p,v,u);else if(v!=null){const y=vo(v);e[p]=()=>y}}},lc=(t,e)=>{const s=vo(e);t.slots.default=()=>s},ad=(t,e)=>{if(t.vnode.shapeFlag&32){const s=e._;s?(t.slots=ve(e),rr(e,"_",s)):ac(e,t.slots={})}else t.slots={},e&&lc(t,e);rr(t.slots,Nr,1)},ld=(t,e,s)=>{const{vnode:u,slots:p}=t;let v=!0,y=Se;if(u.shapeFlag&32){const f=e._;f?s&&f===1?v=!1:(Te(p,e),!s&&f===1&&delete p._):(v=!e.$stable,ac(e,p)),y=e}else e&&(lc(t,e),y={default:1});if(v)for(const f in p)!oc(f)&&!(f in y)&&delete p[f]};function fr(t,e,s,u,p=!1){if(ue(t)){t.forEach((o,r)=>fr(o,e&&(ue(e)?e[r]:e),s,u,p));return}if(ci(u)&&!p)return;const v=u.shapeFlag&4?Hr(u.component)||u.component.proxy:u.el,y=p?null:v,{i:f,r:n}=t,c=e&&e.r,h=f.refs===Se?f.refs={}:f.refs,i=f.setupState;if(c!=null&&c!==n&&(Pe(c)?(h[c]=null,be(i,c)&&(i[c]=null)):Ee(c)&&(c.value=null)),ge(n))Ot(n,f,12,[y,h]);else{const o=Pe(n),r=Ee(n);if(o||r){const a=()=>{if(t.f){const g=o?be(i,n)?i[n]:h[n]:n.value;p?ue(g)&&zs(g,v):ue(g)?g.includes(v)||g.push(v):o?(h[n]=[v],be(i,n)&&(i[n]=h[n])):(n.value=[v],t.k&&(h[t.k]=n.value))}else o?(h[n]=y,be(i,n)&&(i[n]=y)):r&&(n.value=y,t.k&&(h[t.k]=y))};y?(a.id=-1,We(a,s)):a()}}}let Dt=!1;const Wn=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",Un=t=>t.nodeType===8;function cd(t){const{mt:e,p:s,o:{patchProp:u,createText:p,nextSibling:v,parentNode:y,remove:f,insert:n,createComment:c}}=t,h=(d,m)=>{if(!m.hasChildNodes()){s(null,d,m),lr(),m._vnode=d;return}Dt=!1,i(m.firstChild,d,null,null,null),lr(),m._vnode=d,Dt&&console.error("Hydration completed but contains mismatches.")},i=(d,m,b,_,C,S=!1)=>{const w=Un(d)&&d.data==="[",x=()=>g(d,m,b,_,C,w),{type:F,ref:V,shapeFlag:L,patchFlag:D}=m;let G=d.nodeType;m.el=d,D===-2&&(S=!1,m.dynamicChildren=null);let z=null;switch(F){case mi:G!==3?m.children===""?(n(m.el=p(""),y(d),d),z=d):z=x():(d.data!==m.children&&(Dt=!0,d.data=m.children),z=v(d));break;case Xe:G!==8||w?z=x():z=v(d);break;case ui:if(w&&(d=v(d),G=d.nodeType),G===1||G===3){z=d;const Z=!m.children.length;for(let te=0;te<m.staticCount;te++)Z&&(m.children+=z.nodeType===1?z.outerHTML:z.data),te===m.staticCount-1&&(m.anchor=z),z=v(z);return w?v(z):z}else x();break;case Ne:w?z=a(d,m,b,_,C,S):z=x();break;default:if(L&1)G!==1||m.type.toLowerCase()!==d.tagName.toLowerCase()?z=x():z=o(d,m,b,_,C,S);else if(L&6){m.slotScopeIds=C;const Z=y(d);if(e(m,Z,null,b,_,Wn(Z),S),z=w?l(d):v(d),z&&Un(z)&&z.data==="teleport end"&&(z=v(z)),ci(m)){let te;w?(te=Ce(Ne),te.anchor=z?z.previousSibling:Z.lastChild):te=d.nodeType===3?Ri(""):Ce("div"),te.el=d,m.component.subTree=te}}else L&64?G!==8?z=x():z=m.type.hydrate(d,m,b,_,C,S,t,r):L&128&&(z=m.type.hydrate(d,m,b,_,Wn(y(d)),C,S,t,i))}return V!=null&&fr(V,null,_,m),z},o=(d,m,b,_,C,S)=>{S=S||!!m.dynamicChildren;const{type:w,props:x,patchFlag:F,shapeFlag:V,dirs:L}=m,D=w==="input"&&L||w==="option";if(D||F!==-1){if(L&&dt(m,null,b,"created"),x)if(D||!S||F&48)for(const z in x)(D&&z.endsWith("value")||On(z)&&!nn(z))&&u(d,z,null,x[z],!1,void 0,b);else x.onClick&&u(d,"onClick",null,x.onClick,!1,void 0,b);let G;if((G=x&&x.onVnodeBeforeMount)&&Ge(G,b,m),L&&dt(m,null,b,"beforeMount"),((G=x&&x.onVnodeMounted)||L)&&Rl(()=>{G&&Ge(G,b,m),L&&dt(m,null,b,"mounted")},_),V&16&&!(x&&(x.innerHTML||x.textContent))){let z=r(d.firstChild,m,d,b,_,C,S);for(;z;){Dt=!0;const Z=z;z=z.nextSibling,f(Z)}}else V&8&&d.textContent!==m.children&&(Dt=!0,d.textContent=m.children)}return d.nextSibling},r=(d,m,b,_,C,S,w)=>{w=w||!!m.dynamicChildren;const x=m.children,F=x.length;for(let V=0;V<F;V++){const L=w?x[V]:x[V]=Ze(x[V]);if(d)d=i(d,L,_,C,S,w);else{if(L.type===mi&&!L.children)continue;Dt=!0,s(null,L,b,null,_,C,Wn(b),S)}}return d},a=(d,m,b,_,C,S)=>{const{slotScopeIds:w}=m;w&&(C=C?C.concat(w):w);const x=y(d),F=r(v(d),m,x,b,_,C,S);return F&&Un(F)&&F.data==="]"?v(m.anchor=F):(Dt=!0,n(m.anchor=c("]"),x,F),F)},g=(d,m,b,_,C,S)=>{if(Dt=!0,m.el=null,S){const F=l(d);for(;;){const V=v(d);if(V&&V!==F)f(V);else break}}const w=v(d),x=y(d);return f(d),s(null,m,x,w,b,_,Wn(x),C),w},l=d=>{let m=0;for(;d;)if(d=v(d),d&&Un(d)&&(d.data==="["&&m++,d.data==="]")){if(m===0)return v(d);m--}return d};return[h,i]}const We=Rl;function cc(t){return fc(t)}function uc(t){return fc(t,cd)}function fc(t,e){const s=hs();s.__VUE__=!0;const{insert:u,remove:p,patchProp:v,createElement:y,createText:f,createComment:n,setText:c,setElementText:h,parentNode:i,nextSibling:o,setScopeId:r=ct,insertStaticContent:a}=t,g=(k,O,T,R=null,W=null,B=null,U=!1,q=null,ie=!!O.dynamicChildren)=>{if(k===O)return;k&&!ot(k,O)&&(R=Y(k),A(k,W,B,!0),k=null),O.patchFlag===-2&&(ie=!1,O.dynamicChildren=null);const{type:Q,ref:$,shapeFlag:ne}=O;switch(Q){case mi:l(k,O,T,R);break;case Xe:d(k,O,T,R);break;case ui:k==null&&m(O,T,R,U);break;case Ne:D(k,O,T,R,W,B,U,q,ie);break;default:ne&1?C(k,O,T,R,W,B,U,q,ie):ne&6?G(k,O,T,R,W,B,U,q,ie):(ne&64||ne&128)&&Q.process(k,O,T,R,W,B,U,q,ie,N)}$!=null&&W&&fr($,k&&k.ref,B,O||k,!O)},l=(k,O,T,R)=>{if(k==null)u(O.el=f(O.children),T,R);else{const W=O.el=k.el;O.children!==k.children&&c(W,O.children)}},d=(k,O,T,R)=>{k==null?u(O.el=n(O.children||""),T,R):O.el=k.el},m=(k,O,T,R)=>{[k.el,k.anchor]=a(k.children,O,T,R,k.el,k.anchor)},b=({el:k,anchor:O},T,R)=>{let W;for(;k&&k!==O;)W=o(k),u(k,T,R),k=W;u(O,T,R)},_=({el:k,anchor:O})=>{let T;for(;k&&k!==O;)T=o(k),p(k),k=T;p(O)},C=(k,O,T,R,W,B,U,q,ie)=>{U=U||O.type==="svg",k==null?S(O,T,R,W,B,U,q,ie):F(k,O,W,B,U,q,ie)},S=(k,O,T,R,W,B,U,q)=>{let ie,Q;const{type:$,props:ne,shapeFlag:ae,transition:le,dirs:ce}=k;if(ie=k.el=y(k.type,B,ne&&ne.is,ne),ae&8?h(ie,k.children):ae&16&&x(k.children,ie,null,R,W,B&&$!=="foreignObject",U,q),ce&&dt(k,null,R,"created"),w(ie,k,k.scopeId,U,R),ne){for(const de in ne)de!=="value"&&!nn(de)&&v(ie,de,null,ne[de],B,k.children,R,W,I);"value"in ne&&v(ie,"value",null,ne.value),(Q=ne.onVnodeBeforeMount)&&Ge(Q,R,k)}ce&&dt(k,null,R,"beforeMount");const fe=(!W||W&&!W.pendingBranch)&&le&&!le.persisted;fe&&le.beforeEnter(ie),u(ie,O,T),((Q=ne&&ne.onVnodeMounted)||fe||ce)&&We(()=>{Q&&Ge(Q,R,k),fe&&le.enter(ie),ce&&dt(k,null,R,"mounted")},W)},w=(k,O,T,R,W)=>{if(T&&r(k,T),R)for(let B=0;B<R.length;B++)r(k,R[B]);if(W){let B=W.subTree;if(O===B){const U=W.vnode;w(k,U,U.scopeId,U.slotScopeIds,W.parent)}}},x=(k,O,T,R,W,B,U,q,ie=0)=>{for(let Q=ie;Q<k.length;Q++){const $=k[Q]=q?Ut(k[Q]):Ze(k[Q]);g(null,$,O,T,R,W,B,U,q)}},F=(k,O,T,R,W,B,U)=>{const q=O.el=k.el;let{patchFlag:ie,dynamicChildren:Q,dirs:$}=O;ie|=k.patchFlag&16;const ne=k.props||Se,ae=O.props||Se;let le;T&&ei(T,!1),(le=ae.onVnodeBeforeUpdate)&&Ge(le,T,O,k),$&&dt(O,k,T,"beforeUpdate"),T&&ei(T,!0);const ce=W&&O.type!=="foreignObject";if(Q?V(k.dynamicChildren,Q,q,T,R,ce,B):U||oe(k,O,q,null,T,R,ce,B,!1),ie>0){if(ie&16)L(q,O,ne,ae,T,R,W);else if(ie&2&&ne.class!==ae.class&&v(q,"class",null,ae.class,W),ie&4&&v(q,"style",ne.style,ae.style,W),ie&8){const fe=O.dynamicProps;for(let de=0;de<fe.length;de++){const he=fe[de],xe=ne[he],je=ae[he];(je!==xe||he==="value")&&v(q,he,xe,je,W,k.children,T,R,I)}}ie&1&&k.children!==O.children&&h(q,O.children)}else!U&&Q==null&&L(q,O,ne,ae,T,R,W);((le=ae.onVnodeUpdated)||$)&&We(()=>{le&&Ge(le,T,O,k),$&&dt(O,k,T,"updated")},R)},V=(k,O,T,R,W,B,U)=>{for(let q=0;q<O.length;q++){const ie=k[q],Q=O[q],$=ie.el&&(ie.type===Ne||!ot(ie,Q)||ie.shapeFlag&70)?i(ie.el):T;g(ie,Q,$,null,R,W,B,U,!0)}},L=(k,O,T,R,W,B,U)=>{if(T!==R){if(T!==Se)for(const q in T)!nn(q)&&!(q in R)&&v(k,q,T[q],null,U,O.children,W,B,I);for(const q in R){if(nn(q))continue;const ie=R[q],Q=T[q];ie!==Q&&q!=="value"&&v(k,q,Q,ie,U,O.children,W,B,I)}"value"in R&&v(k,"value",T.value,R.value)}},D=(k,O,T,R,W,B,U,q,ie)=>{const Q=O.el=k?k.el:f(""),$=O.anchor=k?k.anchor:f("");let{patchFlag:ne,dynamicChildren:ae,slotScopeIds:le}=O;le&&(q=q?q.concat(le):le),k==null?(u(Q,T,R),u($,T,R),x(O.children,T,$,W,B,U,q,ie)):ne>0&&ne&64&&ae&&k.dynamicChildren?(V(k.dynamicChildren,ae,T,W,B,U,q),(O.key!=null||W&&O===W.subTree)&&yo(k,O,!0)):oe(k,O,T,$,W,B,U,q,ie)},G=(k,O,T,R,W,B,U,q,ie)=>{O.slotScopeIds=q,k==null?O.shapeFlag&512?W.ctx.activate(O,T,R,U,ie):z(O,T,R,W,B,U,ie):Z(k,O,ie)},z=(k,O,T,R,W,B,U)=>{const q=k.component=vc(k,R,W);if(kn(k)&&(q.ctx.renderer=N),bc(q),q.asyncDep){if(W&&W.registerDep(q,te),!k.el){const ie=q.subTree=Ce(Xe);d(null,ie,O,T)}return}te(q,k,O,T,W,B,U)},Z=(k,O,T)=>{const R=O.component=k.component;if(bh(k,O,T))if(R.asyncDep&&!R.asyncResolved){se(R,O,T);return}else R.next=O,uh(R.update),R.update();else O.el=k.el,R.vnode=O},te=(k,O,T,R,W,B,U)=>{const q=()=>{if(k.isMounted){let{next:$,bu:ne,u:ae,parent:le,vnode:ce}=k,fe=$,de;ei(k,!1),$?($.el=ce.el,se(k,$,U)):$=ce,ne&&Fi(ne),(de=$.props&&$.props.onVnodeBeforeUpdate)&&Ge(de,le,$,ce),ei(k,!0);const he=$n(k),xe=k.subTree;k.subTree=he,g(xe,he,i(xe.el),Y(xe),k,W,B),$.el=he.el,fe===null&&lo(k,he.el),ae&&We(ae,W),(de=$.props&&$.props.onVnodeUpdated)&&We(()=>Ge(de,le,$,ce),W)}else{let $;const{el:ne,props:ae}=O,{bm:le,m:ce,parent:fe}=k,de=ci(O);if(ei(k,!1),le&&Fi(le),!de&&($=ae&&ae.onVnodeBeforeMount)&&Ge($,fe,O),ei(k,!0),ne&&ee){const he=()=>{k.subTree=$n(k),ee(ne,k.subTree,k,W,null)};de?O.type.__asyncLoader().then(()=>!k.isUnmounted&&he()):he()}else{const he=k.subTree=$n(k);g(null,he,T,R,k,W,B),O.el=he.el}if(ce&&We(ce,W),!de&&($=ae&&ae.onVnodeMounted)){const he=O;We(()=>Ge($,fe,he),W)}(O.shapeFlag&256||fe&&ci(fe.vnode)&&fe.vnode.shapeFlag&256)&&k.a&&We(k.a,W),k.isMounted=!0,O=T=R=null}},ie=k.effect=new Pn(q,()=>Dr(Q),k.scope),Q=k.update=()=>ie.run();Q.id=k.uid,ei(k,!0),Q()},se=(k,O,T)=>{O.component=k;const R=k.vnode.props;k.vnode=O,k.next=null,sd(k,O.props,R,T),ld(k,O.children,T),Ui(),Ko(),Vi()},oe=(k,O,T,R,W,B,U,q,ie=!1)=>{const Q=k&&k.children,$=k?k.shapeFlag:0,ne=O.children,{patchFlag:ae,shapeFlag:le}=O;if(ae>0){if(ae&128){H(Q,ne,T,R,W,B,U,q,ie);return}else if(ae&256){P(Q,ne,T,R,W,B,U,q,ie);return}}le&8?($&16&&I(Q,W,B),ne!==Q&&h(T,ne)):$&16?le&16?H(Q,ne,T,R,W,B,U,q,ie):I(Q,W,B,!0):($&8&&h(T,""),le&16&&x(ne,T,R,W,B,U,q,ie))},P=(k,O,T,R,W,B,U,q,ie)=>{k=k||ki,O=O||ki;const Q=k.length,$=O.length,ne=Math.min(Q,$);let ae;for(ae=0;ae<ne;ae++){const le=O[ae]=ie?Ut(O[ae]):Ze(O[ae]);g(k[ae],le,T,null,W,B,U,q,ie)}Q>$?I(k,W,B,!0,!1,ne):x(O,T,R,W,B,U,q,ie,ne)},H=(k,O,T,R,W,B,U,q,ie)=>{let Q=0;const $=O.length;let ne=k.length-1,ae=$-1;for(;Q<=ne&&Q<=ae;){const le=k[Q],ce=O[Q]=ie?Ut(O[Q]):Ze(O[Q]);if(ot(le,ce))g(le,ce,T,null,W,B,U,q,ie);else break;Q++}for(;Q<=ne&&Q<=ae;){const le=k[ne],ce=O[ae]=ie?Ut(O[ae]):Ze(O[ae]);if(ot(le,ce))g(le,ce,T,null,W,B,U,q,ie);else break;ne--,ae--}if(Q>ne){if(Q<=ae){const le=ae+1,ce=le<$?O[le].el:R;for(;Q<=ae;)g(null,O[Q]=ie?Ut(O[Q]):Ze(O[Q]),T,ce,W,B,U,q,ie),Q++}}else if(Q>ae)for(;Q<=ne;)A(k[Q],W,B,!0),Q++;else{const le=Q,ce=Q,fe=new Map;for(Q=ce;Q<=ae;Q++){const ke=O[Q]=ie?Ut(O[Q]):Ze(O[Q]);ke.key!=null&&fe.set(ke.key,Q)}let de,he=0;const xe=ae-ce+1;let je=!1,De=0;const Je=new Array(xe);for(Q=0;Q<xe;Q++)Je[Q]=0;for(Q=le;Q<=ne;Q++){const ke=k[Q];if(he>=xe){A(ke,W,B,!0);continue}let Le;if(ke.key!=null)Le=fe.get(ke.key);else for(de=ce;de<=ae;de++)if(Je[de-ce]===0&&ot(ke,O[de])){Le=de;break}Le===void 0?A(ke,W,B,!0):(Je[Le-ce]=Q+1,Le>=De?De=Le:je=!0,g(ke,O[Le],T,null,W,B,U,q,ie),he++)}const rt=je?ud(Je):ki;for(de=rt.length-1,Q=xe-1;Q>=0;Q--){const ke=ce+Q,Le=O[ke],ft=ke+1<$?O[ke+1].el:R;Je[Q]===0?g(null,Le,T,ft,W,B,U,q,ie):je&&(de<0||Q!==rt[de]?j(Le,T,ft,2):de--)}}},j=(k,O,T,R,W=null)=>{const{el:B,type:U,transition:q,children:ie,shapeFlag:Q}=k;if(Q&6){j(k.component.subTree,O,T,R);return}if(Q&128){k.suspense.move(O,T,R);return}if(Q&64){U.move(k,O,T,N);return}if(U===Ne){u(B,O,T);for(let ne=0;ne<ie.length;ne++)j(ie[ne],O,T,R);u(k.anchor,O,T);return}if(U===ui){b(k,O,T);return}if(R!==2&&Q&1&&q)if(R===0)q.beforeEnter(B),u(B,O,T),We(()=>q.enter(B),W);else{const{leave:ne,delayLeave:ae,afterLeave:le}=q,ce=()=>u(B,O,T),fe=()=>{ne(B,()=>{ce(),le&&le()})};ae?ae(B,ce,fe):fe()}else u(B,O,T)},A=(k,O,T,R=!1,W=!1)=>{const{type:B,props:U,ref:q,children:ie,dynamicChildren:Q,shapeFlag:$,patchFlag:ne,dirs:ae}=k;if(q!=null&&fr(q,null,T,k,!0),$&256){O.ctx.deactivate(k);return}const le=$&1&&ae,ce=!ci(k);let fe;if(ce&&(fe=U&&U.onVnodeBeforeUnmount)&&Ge(fe,O,k),$&6)E(k.component,T,R);else{if($&128){k.suspense.unmount(T,R);return}le&&dt(k,null,O,"beforeUnmount"),$&64?k.type.remove(k,O,T,W,N,R):Q&&(B!==Ne||ne>0&&ne&64)?I(Q,O,T,!1,!0):(B===Ne&&ne&384||!W&&$&16)&&I(ie,O,T),R&&X(k)}(ce&&(fe=U&&U.onVnodeUnmounted)||le)&&We(()=>{fe&&Ge(fe,O,k),le&&dt(k,null,O,"unmounted")},T)},X=k=>{const{type:O,el:T,anchor:R,transition:W}=k;if(O===Ne){M(T,R);return}if(O===ui){_(k);return}const B=()=>{p(T),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(k.shapeFlag&1&&W&&!W.persisted){const{leave:U,delayLeave:q}=W,ie=()=>U(T,B);q?q(k.el,B,ie):ie()}else B()},M=(k,O)=>{let T;for(;k!==O;)T=o(k),p(k),k=T;p(O)},E=(k,O,T)=>{const{bum:R,scope:W,update:B,subTree:U,um:q}=k;R&&Fi(R),W.stop(),B&&(B.active=!1,A(U,k,O,T)),q&&We(q,O),We(()=>{k.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&k.asyncDep&&!k.asyncResolved&&k.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},I=(k,O,T,R=!1,W=!1,B=0)=>{for(let U=B;U<k.length;U++)A(k[U],O,T,R,W)},Y=k=>k.shapeFlag&6?Y(k.component.subTree):k.shapeFlag&128?k.suspense.next():o(k.anchor||k.el),K=(k,O,T)=>{k==null?O._vnode&&A(O._vnode,null,null,!0):g(O._vnode||null,k,O,null,null,null,T),Ko(),lr(),O._vnode=k},N={p:g,um:A,m:j,r:X,mt:z,mc:x,pc:oe,pbc:V,n:Y,o:t};let J,ee;return e&&([J,ee]=e(N)),{render:K,hydrate:J,createApp:nd(K,J)}}function ei({effect:t,update:e},s){t.allowRecurse=e.allowRecurse=s}function yo(t,e,s=!1){const u=t.children,p=e.children;if(ue(u)&&ue(p))for(let v=0;v<u.length;v++){const y=u[v];let f=p[v];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=p[v]=Ut(p[v]),f.el=y.el),s||yo(y,f)),f.type===mi&&(f.el=y.el)}}function ud(t){const e=t.slice(),s=[0];let u,p,v,y,f;const n=t.length;for(u=0;u<n;u++){const c=t[u];if(c!==0){if(p=s[s.length-1],t[p]<c){e[u]=p,s.push(u);continue}for(v=0,y=s.length-1;v<y;)f=v+y>>1,t[s[f]]<c?v=f+1:y=f;c<t[s[v]]&&(v>0&&(e[u]=s[v-1]),s[v]=u)}}for(v=s.length,y=s[v-1];v-- >0;)s[v]=y,y=e[y];return s}const fd=t=>t.__isTeleport,on=t=>t&&(t.disabled||t.disabled===""),la=t=>typeof SVGElement<"u"&&t instanceof SVGElement,xs=(t,e)=>{const s=t&&t.to;return Pe(s)?e?e(s):null:s},hd={__isTeleport:!0,process(t,e,s,u,p,v,y,f,n,c){const{mc:h,pc:i,pbc:o,o:{insert:r,querySelector:a,createText:g,createComment:l}}=c,d=on(e.props);let{shapeFlag:m,children:b,dynamicChildren:_}=e;if(t==null){const C=e.el=g(""),S=e.anchor=g("");r(C,s,u),r(S,s,u);const w=e.target=xs(e.props,a),x=e.targetAnchor=g("");w&&(r(x,w),y=y||la(w));const F=(V,L)=>{m&16&&h(b,V,L,p,v,y,f,n)};d?F(s,S):w&&F(w,x)}else{e.el=t.el;const C=e.anchor=t.anchor,S=e.target=t.target,w=e.targetAnchor=t.targetAnchor,x=on(t.props),F=x?s:S,V=x?C:w;if(y=y||la(S),_?(o(t.dynamicChildren,_,F,p,v,y,f),yo(t,e,!0)):n||i(t,e,F,V,p,v,y,f,!1),d)x||Vn(e,s,C,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const L=e.target=xs(e.props,a);L&&Vn(e,L,null,c,0)}else x&&Vn(e,S,w,c,1)}dc(e)},remove(t,e,s,u,{um:p,o:{remove:v}},y){const{shapeFlag:f,children:n,anchor:c,targetAnchor:h,target:i,props:o}=t;if(i&&v(h),(y||!on(o))&&(v(c),f&16))for(let r=0;r<n.length;r++){const a=n[r];p(a,e,s,!0,!!a.dynamicChildren)}},move:Vn,hydrate:dd};function Vn(t,e,s,{o:{insert:u},m:p},v=2){v===0&&u(t.targetAnchor,e,s);const{el:y,anchor:f,shapeFlag:n,children:c,props:h}=t,i=v===2;if(i&&u(y,e,s),(!i||on(h))&&n&16)for(let o=0;o<c.length;o++)p(c[o],e,s,2);i&&u(f,e,s)}function dd(t,e,s,u,p,v,{o:{nextSibling:y,parentNode:f,querySelector:n}},c){const h=e.target=xs(e.props,n);if(h){const i=h._lpa||h.firstChild;if(e.shapeFlag&16)if(on(e.props))e.anchor=c(y(t),e,f(t),s,u,p,v),e.targetAnchor=i;else{e.anchor=y(t);let o=i;for(;o;)if(o=y(o),o&&o.nodeType===8&&o.data==="teleport anchor"){e.targetAnchor=o,h._lpa=e.targetAnchor&&y(e.targetAnchor);break}c(i,e,h,s,u,p,v)}dc(e)}return e.anchor&&y(e.anchor)}const hc=hd;function dc(t){const e=t.ctx;if(e&&e.ut){let s=t.children[0].el;for(;s!==t.targetAnchor;)s.nodeType===1&&s.setAttribute("data-v-owner",e.uid),s=s.nextSibling;e.ut()}}const Ne=Symbol.for("v-fgt"),mi=Symbol.for("v-txt"),Xe=Symbol.for("v-cmt"),ui=Symbol.for("v-stc"),an=[];let $e=null;function Oe(t=!1){an.push($e=t?null:[])}function gc(){an.pop(),$e=an[an.length-1]||null}let vi=1;function Ts(t){vi+=t}function pc(t){return t.dynamicChildren=vi>0?$e||ki:null,gc(),vi>0&&$e&&$e.push(t),t}function Ve(t,e,s,u,p,v){return pc(ye(t,e,s,u,p,v,!0))}function Et(t,e,s,u,p){return pc(Ce(t,e,s,u,p,!0))}function Kt(t){return t?t.__v_isVNode===!0:!1}function ot(t,e){return t.type===e.type&&t.key===e.key}function gd(t){}const Nr="__vInternal",mc=({key:t})=>t??null,Jn=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?Pe(t)||Ee(t)||ge(t)?{i:He,r:t,k:e,f:!!s}:t:null);function ye(t,e=null,s=null,u=0,p=null,v=t===Ne?0:1,y=!1,f=!1){const n={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&mc(e),ref:e&&Jn(e),scopeId:Rr,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:v,patchFlag:u,dynamicProps:p,dynamicChildren:null,appContext:null,ctx:He};return f?(_o(n,s),v&128&&t.normalize(n)):s&&(n.shapeFlag|=Pe(s)?8:16),vi>0&&!y&&$e&&(n.patchFlag>0||v&6)&&n.patchFlag!==32&&$e.push(n),n}const Ce=pd;function pd(t,e=null,s=null,u=0,p=null,v=!1){if((!t||t===ql)&&(t=Xe),Kt(t)){const f=bt(t,e,!0);return s&&_o(f,s),vi>0&&!v&&$e&&(f.shapeFlag&6?$e[$e.indexOf(t)]=f:$e.push(f)),f.patchFlag|=-2,f}if(wd(t)&&(t=t.__vccOpts),e){e=bo(e);let{class:f,style:n}=e;f&&!Pe(f)&&(e.class=di(f)),we(n)&&(to(n)&&!ue(n)&&(n=Te({},n)),e.style=hi(n))}const y=Pe(t)?1:Ll(t)?128:fd(t)?64:we(t)?4:ge(t)?2:0;return ye(t,e,s,u,p,y,v,!0)}function bo(t){return t?to(t)||Nr in t?Te({},t):t:null}function bt(t,e,s=!1){const{props:u,ref:p,patchFlag:v,children:y}=t,f=e?fi(u||{},e):u;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:f,key:f&&mc(f),ref:e&&e.ref?s&&p?ue(p)?p.concat(Jn(e)):[p,Jn(e)]:Jn(e):p,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:y,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ne?v===-1?16:v|16:v,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&bt(t.ssContent),ssFallback:t.ssFallback&&bt(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Ri(t=" ",e=0){return Ce(mi,null,t,e)}function md(t,e){const s=Ce(ui,null,t);return s.staticCount=e,s}function at(t="",e=!1){return e?(Oe(),Et(Xe,null,t)):Ce(Xe,null,t)}function Ze(t){return t==null||typeof t=="boolean"?Ce(Xe):ue(t)?Ce(Ne,null,t.slice()):typeof t=="object"?Ut(t):Ce(mi,null,String(t))}function Ut(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:bt(t)}function _o(t,e){let s=0;const{shapeFlag:u}=t;if(e==null)e=null;else if(ue(e))s=16;else if(typeof e=="object")if(u&65){const p=e.default;p&&(p._c&&(p._d=!1),_o(t,p()),p._c&&(p._d=!0));return}else{s=32;const p=e._;!p&&!(Nr in e)?e._ctx=He:p===3&&He&&(He.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ge(e)?(e={default:e,_ctx:He},s=32):(e=String(e),u&64?(s=16,e=[Ri(e)]):s=8);t.children=e,t.shapeFlag|=s}function fi(...t){const e={};for(let s=0;s<t.length;s++){const u=t[s];for(const p in u)if(p==="class")e.class!==u.class&&(e.class=di([e.class,u.class]));else if(p==="style")e.style=hi([e.style,u.style]);else if(On(p)){const v=e[p],y=u[p];y&&v!==y&&!(ue(v)&&v.includes(y))&&(e[p]=v?[].concat(v,y):y)}else p!==""&&(e[p]=u[p])}return e}function Ge(t,e,s,u=null){et(t,e,7,[s,u])}const vd=tc();let yd=0;function vc(t,e,s){const u=t.type,p=(e?e.appContext:t.appContext)||vd,v={uid:yd++,vnode:t,type:u,parent:e,appContext:p,root:null,next:null,subTree:null,effect:null,update:null,scope:new qs(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(p.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:sc(u,p),emitsOptions:Dl(u,p),emit:null,emitted:null,propsDefaults:Se,inheritAttrs:u.inheritAttrs,ctx:Se,data:Se,props:Se,attrs:Se,slots:Se,refs:Se,setupState:Se,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return v.ctx={_:v},v.root=e?e.root:v,v.emit=hh.bind(null,v),t.ce&&t.ce(v),v}let Ie=null;const ut=()=>Ie||He;let Co,wi,ca="__VUE_INSTANCE_SETTERS__";(wi=hs()[ca])||(wi=hs()[ca]=[]),wi.push(t=>Ie=t),Co=t=>{wi.length>1?wi.forEach(e=>e(t)):wi[0](t)};const Jt=t=>{Co(t),t.scope.on()},zt=()=>{Ie&&Ie.scope.off(),Co(null)};function yc(t){return t.vnode.shapeFlag&4}let ji=!1;function bc(t,e=!1){ji=e;const{props:s,children:u}=t.vnode,p=yc(t);rd(t,s,p,e),ad(t,u);const v=p?bd(t,e):void 0;return ji=!1,v}function bd(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=Tt(new Proxy(t.ctx,_s));const{setup:u}=s;if(u){const p=t.setupContext=u.length>1?Cc(t):null;Jt(t),Ui();const v=Ot(u,t,0,[t.props,p]);if(Vi(),zt(),Ys(v)){if(v.then(zt,zt),e)return v.then(y=>{Os(t,y,e)}).catch(y=>{_i(y,t,0)});t.asyncDep=v}else Os(t,v,e)}else _c(t,e)}function Os(t,e,s){ge(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:we(e)&&(t.setupState=ro(e)),_c(t,s)}let hr,Es;function _d(t){hr=t,Es=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,Bh))}}const Cd=()=>!hr;function _c(t,e,s){const u=t.type;if(!t.render){if(!e&&hr&&!u.render){const p=u.template||mo(t).template;if(p){const{isCustomElement:v,compilerOptions:y}=t.appContext.config,{delimiters:f,compilerOptions:n}=u,c=Te(Te({isCustomElement:v,delimiters:f},y),n);u.render=hr(p,c)}}t.render=u.render||ct,Es&&Es(t)}Jt(t),Ui(),Jh(t),Vi(),zt()}function Sd(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,s){return Ke(t,"get","$attrs"),e[s]}}))}function Cc(t){const e=s=>{t.exposed=s||{}};return{get attrs(){return Sd(t)},slots:t.slots,emit:t.emit,expose:e}}function Hr(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(ro(Tt(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in sn)return sn[s](t)},has(e,s){return s in e||s in sn}}))}function Ps(t,e=!0){return ge(t)?t.displayName||t.name:t.name||e&&t.__name}function wd(t){return ge(t)&&"__vccOpts"in t}const Fe=(t,e)=>sh(t,e,ji);function So(t,e,s){const u=arguments.length;return u===2?we(e)&&!ue(e)?Kt(e)?Ce(t,null,[e]):Ce(t,e):Ce(t,null,e):(u>3?s=Array.prototype.slice.call(arguments,2):u===3&&Kt(s)&&(s=[s]),Ce(t,e,s))}const Sc=Symbol.for("v-scx"),wc=()=>vt(Sc);function xd(){}function Td(t,e,s,u){const p=s[u];if(p&&xc(p,t))return p;const v=e();return v.memo=t.slice(),s[u]=v}function xc(t,e){const s=t.memo;if(s.length!=e.length)return!1;for(let u=0;u<s.length;u++)if(Ii(s[u],e[u]))return!1;return vi>0&&$e&&$e.push(t),!0}const Tc="3.3.4",Od={createComponentInstance:vc,setupComponent:bc,renderComponentRoot:$n,setCurrentRenderingInstance:_n,isVNode:Kt,normalizeVNode:Ze},Ed=Od,Pd=null,Ad=null,kd="http://www.w3.org/2000/svg",ni=typeof document<"u"?document:null,ua=ni&&ni.createElement("template"),Md={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,u)=>{const p=e?ni.createElementNS(kd,t):ni.createElement(t,s?{is:s}:void 0);return t==="select"&&u&&u.multiple!=null&&p.setAttribute("multiple",u.multiple),p},createText:t=>ni.createTextNode(t),createComment:t=>ni.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ni.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,u,p,v){const y=s?s.previousSibling:e.lastChild;if(p&&(p===v||p.nextSibling))for(;e.insertBefore(p.cloneNode(!0),s),!(p===v||!(p=p.nextSibling)););else{ua.innerHTML=u?`<svg>${t}</svg>`:t;const f=ua.content;if(u){const n=f.firstChild;for(;n.firstChild;)f.appendChild(n.firstChild);f.removeChild(n)}e.insertBefore(f,s)}return[y?y.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}};function Fd(t,e,s){const u=t._vtc;u&&(e=(e?[e,...u]:[...u]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}function Dd(t,e,s){const u=t.style,p=Pe(s);if(s&&!p){if(e&&!Pe(e))for(const v in e)s[v]==null&&As(u,v,"");for(const v in s)As(u,v,s[v])}else{const v=u.display;p?e!==s&&(u.cssText=s):e&&t.removeAttribute("style"),"_vod"in t&&(u.display=v)}}const fa=/\s*!important$/;function As(t,e,s){if(ue(s))s.forEach(u=>As(t,e,u));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const u=Ld(t,e);fa.test(s)?t.setProperty(it(u),s.replace(fa,""),"important"):t[u]=s}}const ha=["Webkit","Moz","ms"],es={};function Ld(t,e){const s=es[e];if(s)return s;let u=qe(e);if(u!=="filter"&&u in t)return es[e]=u;u=En(u);for(let p=0;p<ha.length;p++){const v=ha[p]+u;if(v in t)return es[e]=v}return e}const da="http://www.w3.org/1999/xlink";function Rd(t,e,s,u,p){if(u&&e.startsWith("xlink:"))s==null?t.removeAttributeNS(da,e.slice(6,e.length)):t.setAttributeNS(da,e,s);else{const v=mf(e);s==null||v&&!fl(s)?t.removeAttribute(e):t.setAttribute(e,v?"":s)}}function Id(t,e,s,u,p,v,y){if(e==="innerHTML"||e==="textContent"){u&&y(u,p,v),t[e]=s??"";return}const f=t.tagName;if(e==="value"&&f!=="PROGRESS"&&!f.includes("-")){t._value=s;const c=f==="OPTION"?t.getAttribute("value"):t.value,h=s??"";c!==h&&(t.value=h),s==null&&t.removeAttribute(e);return}let n=!1;if(s===""||s==null){const c=typeof t[e];c==="boolean"?s=fl(s):s==null&&c==="string"?(s="",n=!0):c==="number"&&(s=0,n=!0)}try{t[e]=s}catch{}n&&t.removeAttribute(e)}function xt(t,e,s,u){t.addEventListener(e,s,u)}function Bd(t,e,s,u){t.removeEventListener(e,s,u)}function jd(t,e,s,u,p=null){const v=t._vei||(t._vei={}),y=v[e];if(u&&y)y.value=u;else{const[f,n]=Nd(e);if(u){const c=v[e]=Ud(u,p);xt(t,f,c,n)}else y&&(Bd(t,f,y,n),v[e]=void 0)}}const ga=/(?:Once|Passive|Capture)$/;function Nd(t){let e;if(ga.test(t)){e={};let u;for(;u=t.match(ga);)t=t.slice(0,t.length-u[0].length),e[u[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):it(t.slice(2)),e]}let ts=0;const Hd=Promise.resolve(),Wd=()=>ts||(Hd.then(()=>ts=0),ts=Date.now());function Ud(t,e){const s=u=>{if(!u._vts)u._vts=Date.now();else if(u._vts<=s.attached)return;et(Vd(u,s.value),e,5,[u])};return s.value=t,s.attached=Wd(),s}function Vd(t,e){if(ue(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(u=>p=>!p._stopped&&u&&u(p))}else return e}const pa=/^on[a-z]/,Xd=(t,e,s,u,p=!1,v,y,f,n)=>{e==="class"?Fd(t,u,p):e==="style"?Dd(t,s,u):On(e)?Xs(e)||jd(t,e,s,u,y):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):zd(t,e,u,p))?Id(t,e,u,v,y,f,n):(e==="true-value"?t._trueValue=u:e==="false-value"&&(t._falseValue=u),Rd(t,e,u,p))};function zd(t,e,s,u){return u?!!(e==="innerHTML"||e==="textContent"||e in t&&pa.test(e)&&ge(s)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||pa.test(e)&&Pe(s)?!1:e in t}function Oc(t,e){const s=Zt(t);class u extends Wr{constructor(v){super(s,v,e)}}return u.def=s,u}const Yd=t=>Oc(t,Uc),Gd=typeof HTMLElement<"u"?HTMLElement:class{};class Wr extends Gd{constructor(e,s={},u){super(),this._def=e,this._props=s,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&u?u(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,yt(()=>{this._connected||(Ds(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let u=0;u<this.attributes.length;u++)this._setAttr(this.attributes[u].name);new MutationObserver(u=>{for(const p of u)this._setAttr(p.attributeName)}).observe(this,{attributes:!0});const e=(u,p=!1)=>{const{props:v,styles:y}=u;let f;if(v&&!ue(v))for(const n in v){const c=v[n];(c===Number||c&&c.type===Number)&&(n in this._props&&(this._props[n]=or(this._props[n])),(f||(f=Object.create(null)))[qe(n)]=!0)}this._numberProps=f,p&&this._resolveProps(u),this._applyStyles(y),this._update()},s=this._def.__asyncLoader;s?s().then(u=>e(u,!0)):e(this._def)}_resolveProps(e){const{props:s}=e,u=ue(s)?s:Object.keys(s||{});for(const p of Object.keys(this))p[0]!=="_"&&u.includes(p)&&this._setProp(p,this[p],!0,!1);for(const p of u.map(qe))Object.defineProperty(this,p,{get(){return this._getProp(p)},set(v){this._setProp(p,v)}})}_setAttr(e){let s=this.getAttribute(e);const u=qe(e);this._numberProps&&this._numberProps[u]&&(s=or(s)),this._setProp(u,s,!1)}_getProp(e){return this._props[e]}_setProp(e,s,u=!0,p=!0){s!==this._props[e]&&(this._props[e]=s,p&&this._instance&&this._update(),u&&(s===!0?this.setAttribute(it(e),""):typeof s=="string"||typeof s=="number"?this.setAttribute(it(e),s+""):s||this.removeAttribute(it(e))))}_update(){Ds(this._createVNode(),this.shadowRoot)}_createVNode(){const e=Ce(this._def,Te({},this._props));return this._instance||(e.ce=s=>{this._instance=s,s.isCE=!0;const u=(v,y)=>{this.dispatchEvent(new CustomEvent(v,{detail:y}))};s.emit=(v,...y)=>{u(v,y),it(v)!==v&&u(it(v),y)};let p=this;for(;p=p&&(p.parentNode||p.host);)if(p instanceof Wr){s.parent=p._instance,s.provides=p._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(s=>{const u=document.createElement("style");u.textContent=s,this.shadowRoot.appendChild(u)})}}function $d(t="$style"){{const e=ut();if(!e)return Se;const s=e.type.__cssModules;if(!s)return Se;const u=s[t];return u||Se}}function qd(t){const e=ut();if(!e)return;const s=e.ut=(p=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(v=>Ms(v,p))},u=()=>{const p=t(e.proxy);ks(e.subTree,p),s(p)};Il(u),Mt(()=>{const p=new MutationObserver(u);p.observe(e.subTree.el.parentNode,{childList:!0}),Mn(()=>p.disconnect())})}function ks(t,e){if(t.shapeFlag&128){const s=t.suspense;t=s.activeBranch,s.pendingBranch&&!s.isHydrating&&s.effects.push(()=>{ks(s.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Ms(t.el,e);else if(t.type===Ne)t.children.forEach(s=>ks(s,e));else if(t.type===ui){let{el:s,anchor:u}=t;for(;s&&(Ms(s,e),s!==u);)s=s.nextSibling}}function Ms(t,e){if(t.nodeType===1){const s=t.style;for(const u in e)s.setProperty(`--${u}`,e[u])}}const Lt="transition",zi="animation",xn=(t,{slots:e})=>So(jl,Pc(t),e);xn.displayName="Transition";const Ec={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Kd=xn.props=Te({},ho,Ec),ti=(t,e=[])=>{ue(t)?t.forEach(s=>s(...e)):t&&t(...e)},ma=t=>t?ue(t)?t.some(e=>e.length>1):t.length>1:!1;function Pc(t){const e={};for(const D in t)D in Ec||(e[D]=t[D]);if(t.css===!1)return e;const{name:s="v",type:u,duration:p,enterFromClass:v=`${s}-enter-from`,enterActiveClass:y=`${s}-enter-active`,enterToClass:f=`${s}-enter-to`,appearFromClass:n=v,appearActiveClass:c=y,appearToClass:h=f,leaveFromClass:i=`${s}-leave-from`,leaveActiveClass:o=`${s}-leave-active`,leaveToClass:r=`${s}-leave-to`}=t,a=Jd(p),g=a&&a[0],l=a&&a[1],{onBeforeEnter:d,onEnter:m,onEnterCancelled:b,onLeave:_,onLeaveCancelled:C,onBeforeAppear:S=d,onAppear:w=m,onAppearCancelled:x=b}=e,F=(D,G,z)=>{Nt(D,G?h:f),Nt(D,G?c:y),z&&z()},V=(D,G)=>{D._isLeaving=!1,Nt(D,i),Nt(D,r),Nt(D,o),G&&G()},L=D=>(G,z)=>{const Z=D?w:m,te=()=>F(G,D,z);ti(Z,[G,te]),va(()=>{Nt(G,D?n:v),Ct(G,D?h:f),ma(Z)||ya(G,u,g,te)})};return Te(e,{onBeforeEnter(D){ti(d,[D]),Ct(D,v),Ct(D,y)},onBeforeAppear(D){ti(S,[D]),Ct(D,n),Ct(D,c)},onEnter:L(!1),onAppear:L(!0),onLeave(D,G){D._isLeaving=!0;const z=()=>V(D,G);Ct(D,i),kc(),Ct(D,o),va(()=>{D._isLeaving&&(Nt(D,i),Ct(D,r),ma(_)||ya(D,u,l,z))}),ti(_,[D,z])},onEnterCancelled(D){F(D,!1),ti(b,[D])},onAppearCancelled(D){F(D,!0),ti(x,[D])},onLeaveCancelled(D){V(D),ti(C,[D])}})}function Jd(t){if(t==null)return null;if(we(t))return[is(t.enter),is(t.leave)];{const e=is(t);return[e,e]}}function is(t){return or(t)}function Ct(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t._vtc||(t._vtc=new Set)).add(e)}function Nt(t,e){e.split(/\s+/).forEach(u=>u&&t.classList.remove(u));const{_vtc:s}=t;s&&(s.delete(e),s.size||(t._vtc=void 0))}function va(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Qd=0;function ya(t,e,s,u){const p=t._endId=++Qd,v=()=>{p===t._endId&&u()};if(s)return setTimeout(v,s);const{type:y,timeout:f,propCount:n}=Ac(t,e);if(!y)return u();const c=y+"end";let h=0;const i=()=>{t.removeEventListener(c,o),v()},o=r=>{r.target===t&&++h>=n&&i()};setTimeout(()=>{h<n&&i()},f+1),t.addEventListener(c,o)}function Ac(t,e){const s=window.getComputedStyle(t),u=a=>(s[a]||"").split(", "),p=u(`${Lt}Delay`),v=u(`${Lt}Duration`),y=ba(p,v),f=u(`${zi}Delay`),n=u(`${zi}Duration`),c=ba(f,n);let h=null,i=0,o=0;e===Lt?y>0&&(h=Lt,i=y,o=v.length):e===zi?c>0&&(h=zi,i=c,o=n.length):(i=Math.max(y,c),h=i>0?y>c?Lt:zi:null,o=h?h===Lt?v.length:n.length:0);const r=h===Lt&&/\b(transform|all)(,|$)/.test(u(`${Lt}Property`).toString());return{type:h,timeout:i,propCount:o,hasTransform:r}}function ba(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,u)=>_a(s)+_a(t[u])))}function _a(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function kc(){return document.body.offsetHeight}const Mc=new WeakMap,Fc=new WeakMap,Dc={name:"TransitionGroup",props:Te({},Kd,{tag:String,moveClass:String}),setup(t,{slots:e}){const s=ut(),u=fo();let p,v;return jr(()=>{if(!p.length)return;const y=t.moveClass||`${t.name||"v"}-move`;if(!rg(p[0].el,s.vnode.el,y))return;p.forEach(tg),p.forEach(ig);const f=p.filter(ng);kc(),f.forEach(n=>{const c=n.el,h=c.style;Ct(c,y),h.transform=h.webkitTransform=h.transitionDuration="";const i=c._moveCb=o=>{o&&o.target!==c||(!o||/transform$/.test(o.propertyName))&&(c.removeEventListener("transitionend",i),c._moveCb=null,Nt(c,y))};c.addEventListener("transitionend",i)})}),()=>{const y=ve(t),f=Pc(y);let n=y.tag||Ne;p=v,v=e.default?Ir(e.default()):[];for(let c=0;c<v.length;c++){const h=v[c];h.key!=null&&pi(h,Bi(h,f,u,s))}if(p)for(let c=0;c<p.length;c++){const h=p[c];pi(h,Bi(h,f,u,s)),Mc.set(h,h.el.getBoundingClientRect())}return Ce(n,null,v)}}},Zd=t=>delete t.mode;Dc.props;const eg=Dc;function tg(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function ig(t){Fc.set(t,t.el.getBoundingClientRect())}function ng(t){const e=Mc.get(t),s=Fc.get(t),u=e.left-s.left,p=e.top-s.top;if(u||p){const v=t.el.style;return v.transform=v.webkitTransform=`translate(${u}px,${p}px)`,v.transitionDuration="0s",t}}function rg(t,e,s){const u=t.cloneNode();t._vtc&&t._vtc.forEach(y=>{y.split(/\s+/).forEach(f=>f&&u.classList.remove(f))}),s.split(/\s+/).forEach(y=>y&&u.classList.add(y)),u.style.display="none";const p=e.nodeType===1?e:e.parentNode;p.appendChild(u);const{hasTransform:v}=Ac(u);return p.removeChild(u),v}const Qt=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ue(e)?s=>Fi(e,s):e};function sg(t){t.target.composing=!0}function Ca(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const dr={created(t,{modifiers:{lazy:e,trim:s,number:u}},p){t._assign=Qt(p);const v=u||p.props&&p.props.type==="number";xt(t,e?"change":"input",y=>{if(y.target.composing)return;let f=t.value;s&&(f=f.trim()),v&&(f=sr(f)),t._assign(f)}),s&&xt(t,"change",()=>{t.value=t.value.trim()}),e||(xt(t,"compositionstart",sg),xt(t,"compositionend",Ca),xt(t,"change",Ca))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:s,trim:u,number:p}},v){if(t._assign=Qt(v),t.composing||document.activeElement===t&&t.type!=="range"&&(s||u&&t.value.trim()===e||(p||t.type==="number")&&sr(t.value)===e))return;const y=e??"";t.value!==y&&(t.value=y)}},wo={deep:!0,created(t,e,s){t._assign=Qt(s),xt(t,"change",()=>{const u=t._modelValue,p=Ni(t),v=t.checked,y=t._assign;if(ue(u)){const f=Or(u,p),n=f!==-1;if(v&&!n)y(u.concat(p));else if(!v&&n){const c=[...u];c.splice(f,1),y(c)}}else if(bi(u)){const f=new Set(u);v?f.add(p):f.delete(p),y(f)}else y(Rc(t,v))})},mounted:Sa,beforeUpdate(t,e,s){t._assign=Qt(s),Sa(t,e,s)}};function Sa(t,{value:e,oldValue:s},u){t._modelValue=e,ue(e)?t.checked=Or(e,u.props.value)>-1:bi(e)?t.checked=e.has(u.props.value):e!==s&&(t.checked=Yt(e,Rc(t,!0)))}const xo={created(t,{value:e},s){t.checked=Yt(e,s.props.value),t._assign=Qt(s),xt(t,"change",()=>{t._assign(Ni(t))})},beforeUpdate(t,{value:e,oldValue:s},u){t._assign=Qt(u),e!==s&&(t.checked=Yt(e,u.props.value))}},Lc={deep:!0,created(t,{value:e,modifiers:{number:s}},u){const p=bi(e);xt(t,"change",()=>{const v=Array.prototype.filter.call(t.options,y=>y.selected).map(y=>s?sr(Ni(y)):Ni(y));t._assign(t.multiple?p?new Set(v):v:v[0])}),t._assign=Qt(u)},mounted(t,{value:e}){wa(t,e)},beforeUpdate(t,e,s){t._assign=Qt(s)},updated(t,{value:e}){wa(t,e)}};function wa(t,e){const s=t.multiple;if(!(s&&!ue(e)&&!bi(e))){for(let u=0,p=t.options.length;u<p;u++){const v=t.options[u],y=Ni(v);if(s)ue(e)?v.selected=Or(e,y)>-1:v.selected=e.has(y);else if(Yt(Ni(v),e)){t.selectedIndex!==u&&(t.selectedIndex=u);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ni(t){return"_value"in t?t._value:t.value}function Rc(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const Ic={created(t,e,s){Xn(t,e,s,null,"created")},mounted(t,e,s){Xn(t,e,s,null,"mounted")},beforeUpdate(t,e,s,u){Xn(t,e,s,u,"beforeUpdate")},updated(t,e,s,u){Xn(t,e,s,u,"updated")}};function Bc(t,e){switch(t){case"SELECT":return Lc;case"TEXTAREA":return dr;default:switch(e){case"checkbox":return wo;case"radio":return xo;default:return dr}}}function Xn(t,e,s,u,p){const y=Bc(t.tagName,s.props&&s.props.type)[p];y&&y(t,e,s,u)}function og(){dr.getSSRProps=({value:t})=>({value:t}),xo.getSSRProps=({value:t},e)=>{if(e.props&&Yt(e.props.value,t))return{checked:!0}},wo.getSSRProps=({value:t},e)=>{if(ue(t)){if(e.props&&Or(t,e.props.value)>-1)return{checked:!0}}else if(bi(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},Ic.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const s=Bc(e.type.toUpperCase(),e.props&&e.props.type);if(s.getSSRProps)return s.getSSRProps(t,e)}}const ag=["ctrl","shift","alt","meta"],lg={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>ag.some(s=>t[`${s}Key`]&&!e.includes(s))},Fs=(t,e)=>(s,...u)=>{for(let p=0;p<e.length;p++){const v=lg[e[p]];if(v&&v(s,e))return}return t(s,...u)},cg={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},jc=(t,e)=>s=>{if(!("key"in s))return;const u=it(s.key);if(e.some(p=>p===u||cg[p]===u))return t(s)},ln={beforeMount(t,{value:e},{transition:s}){t._vod=t.style.display==="none"?"":t.style.display,s&&e?s.beforeEnter(t):Yi(t,e)},mounted(t,{value:e},{transition:s}){s&&e&&s.enter(t)},updated(t,{value:e,oldValue:s},{transition:u}){!e!=!s&&(u?e?(u.beforeEnter(t),Yi(t,!0),u.enter(t)):u.leave(t,()=>{Yi(t,!1)}):Yi(t,e))},beforeUnmount(t,{value:e}){Yi(t,e)}};function Yi(t,e){t.style.display=e?t._vod:"none"}function ug(){ln.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const Nc=Te({patchProp:Xd},Md);let cn,xa=!1;function Hc(){return cn||(cn=cc(Nc))}function Wc(){return cn=xa?cn:uc(Nc),xa=!0,cn}const Ds=(...t)=>{Hc().render(...t)},Uc=(...t)=>{Wc().hydrate(...t)},Vc=(...t)=>{const e=Hc().createApp(...t),{mount:s}=e;return e.mount=u=>{const p=Xc(u);if(!p)return;const v=e._component;!ge(v)&&!v.render&&!v.template&&(v.template=p.innerHTML),p.innerHTML="";const y=s(p,!1,p instanceof SVGElement);return p instanceof Element&&(p.removeAttribute("v-cloak"),p.setAttribute("data-v-app","")),y},e},fg=(...t)=>{const e=Wc().createApp(...t),{mount:s}=e;return e.mount=u=>{const p=Xc(u);if(p)return s(p,!0,p instanceof SVGElement)},e};function Xc(t){return Pe(t)?document.querySelector(t):t}let Ta=!1;const hg=()=>{Ta||(Ta=!0,og(),ug())},dg=()=>{},gg=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:jl,BaseTransitionPropsValidators:ho,Comment:Xe,EffectScope:qs,Fragment:Ne,KeepAlive:Fh,ReactiveEffect:Pn,Static:ui,Suspense:Ch,Teleport:hc,Text:mi,Transition:xn,TransitionGroup:eg,VueElement:Wr,assertNumber:ah,callWithAsyncErrorHandling:et,callWithErrorHandling:Ot,camelize:qe,capitalize:En,cloneVNode:bt,compatUtils:Ad,compile:dg,computed:Fe,createApp:Vc,createBlock:Et,createCommentVNode:at,createElementBlock:Ve,createElementVNode:ye,createHydrationRenderer:uc,createPropsRestProxy:qh,createRenderer:cc,createSSRApp:fg,createSlots:Kl,createStaticVNode:md,createTextVNode:Ri,createVNode:Ce,customRef:th,defineAsyncComponent:kh,defineComponent:Zt,defineCustomElement:Oc,defineEmits:Nh,defineExpose:Hh,defineModel:Vh,defineOptions:Wh,defineProps:jh,defineSSRCustomElement:Yd,defineSlots:Uh,get devtools(){return Oi},effect:_f,effectScope:Ks,getCurrentInstance:ut,getCurrentScope:Er,getTransitionRawChildren:Ir,guardReactiveProps:bo,h:So,handleError:_i,hasInjectionContext:nc,hydrate:Uc,initCustomFormatter:xd,initDirectivesForSSR:hg,inject:vt,isMemoSame:xc,isProxy:to,isReactive:mt,isReadonly:gi,isRef:Ee,isRuntimeOnly:Cd,isShallow:mn,isVNode:Kt,markRaw:Tt,mergeDefaults:Gh,mergeModels:$h,mergeProps:fi,nextTick:yt,normalizeClass:di,normalizeProps:$s,normalizeStyle:hi,onActivated:Hl,onBeforeMount:Vl,onBeforeUnmount:Ci,onBeforeUpdate:Xl,onDeactivated:Wl,onErrorCaptured:$l,onMounted:Mt,onRenderTracked:Gl,onRenderTriggered:Yl,onScopeDispose:Js,onServerPrefetch:zl,onUnmounted:Mn,onUpdated:jr,openBlock:Oe,popScopeId:gh,provide:ic,proxyRefs:ro,pushScopeId:dh,queuePostFlushCb:ao,reactive:$t,readonly:eo,ref:me,registerRuntimeCompiler:_d,render:Ds,renderList:vs,renderSlot:cr,resolveComponent:Rh,resolveDirective:Ih,resolveDynamicComponent:Kn,resolveFilter:Pd,resolveTransitionHooks:Bi,setBlockTracking:Ts,setDevtoolsHook:Fl,setTransitionHooks:pi,shallowReactive:Pi,shallowReadonly:$f,shallowRef:qf,ssrContextKey:Sc,ssrUtils:Ed,stop:Cf,toDisplayString:Qi,toHandlerKey:rn,toHandlers:ys,toRaw:ve,toRef:so,toRefs:El,toValue:Qf,transformVNodeArgs:gd,triggerRef:Jf,unref:pe,useAttrs:Ql,useCssModule:$d,useCssVars:qd,useModel:Yh,useSSRContext:wc,useSlots:zh,useTransitionState:fo,vModelCheckbox:wo,vModelDynamic:Ic,vModelRadio:xo,vModelSelect:Lc,vModelText:dr,vShow:ln,version:Tc,warn:oh,watch:Ae,watchEffect:uo,watchPostEffect:Il,watchSyncEffect:Eh,withAsyncContext:Kh,withCtx:qt,withDefaults:Xh,withDirectives:qn,withKeys:jc,withMemo:Td,withModifiers:Fs,withScopeId:ph},Symbol.toStringTag,{value:"Module"}));var pg=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let zc;const Ur=t=>zc=t,Yc=Symbol();function Ls(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var un;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(un||(un={}));function mg(){const t=Ks(!0),e=t.run(()=>me({}));let s=[],u=[];const p=Tt({install(v){Ur(p),p._a=v,v.provide(Yc,p),v.config.globalProperties.$pinia=p,u.forEach(y=>s.push(y)),u=[]},use(v){return!this._a&&!pg?u.push(v):s.push(v),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return p}const Gc=()=>{};function Oa(t,e,s,u=Gc){t.push(e);const p=()=>{const v=t.indexOf(e);v>-1&&(t.splice(v,1),u())};return!s&&Er()&&Js(p),p}function xi(t,...e){t.slice().forEach(s=>{s(...e)})}const vg=t=>t();function Rs(t,e){t instanceof Map&&e instanceof Map&&e.forEach((s,u)=>t.set(u,s)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const u=e[s],p=t[s];Ls(p)&&Ls(u)&&t.hasOwnProperty(s)&&!Ee(u)&&!mt(u)?t[s]=Rs(p,u):t[s]=u}return t}const yg=Symbol();function bg(t){return!Ls(t)||!t.hasOwnProperty(yg)}const{assign:Ht}=Object;function _g(t){return!!(Ee(t)&&t.effect)}function Cg(t,e,s,u){const{state:p,actions:v,getters:y}=e,f=s.state.value[t];let n;function c(){f||(s.state.value[t]=p?p():{});const h=El(s.state.value[t]);return Ht(h,v,Object.keys(y||{}).reduce((i,o)=>(i[o]=Tt(Fe(()=>{Ur(s);const r=s._s.get(t);return y[o].call(r,r)})),i),{}))}return n=$c(t,c,e,s,u,!0),n}function $c(t,e,s={},u,p,v){let y;const f=Ht({actions:{}},s),n={deep:!0};let c,h,i=[],o=[],r;const a=u.state.value[t];!v&&!a&&(u.state.value[t]={}),me({});let g;function l(x){let F;c=h=!1,typeof x=="function"?(x(u.state.value[t]),F={type:un.patchFunction,storeId:t,events:r}):(Rs(u.state.value[t],x),F={type:un.patchObject,payload:x,storeId:t,events:r});const V=g=Symbol();yt().then(()=>{g===V&&(c=!0)}),h=!0,xi(i,F,u.state.value[t])}const d=v?function(){const{state:F}=s,V=F?F():{};this.$patch(L=>{Ht(L,V)})}:Gc;function m(){y.stop(),i=[],o=[],u._s.delete(t)}function b(x,F){return function(){Ur(u);const V=Array.from(arguments),L=[],D=[];function G(te){L.push(te)}function z(te){D.push(te)}xi(o,{args:V,name:x,store:C,after:G,onError:z});let Z;try{Z=F.apply(this&&this.$id===t?this:C,V)}catch(te){throw xi(D,te),te}return Z instanceof Promise?Z.then(te=>(xi(L,te),te)).catch(te=>(xi(D,te),Promise.reject(te))):(xi(L,Z),Z)}}const _={_p:u,$id:t,$onAction:Oa.bind(null,o),$patch:l,$reset:d,$subscribe(x,F={}){const V=Oa(i,x,F.detached,()=>L()),L=y.run(()=>Ae(()=>u.state.value[t],D=>{(F.flush==="sync"?h:c)&&x({storeId:t,type:un.direct,events:r},D)},Ht({},n,F)));return V},$dispose:m},C=$t(_);u._s.set(t,C);const S=u._a&&u._a.runWithContext||vg,w=u._e.run(()=>(y=Ks(),S(()=>y.run(e))));for(const x in w){const F=w[x];if(Ee(F)&&!_g(F)||mt(F))v||(a&&bg(F)&&(Ee(F)?F.value=a[x]:Rs(F,a[x])),u.state.value[t][x]=F);else if(typeof F=="function"){const V=b(x,F);w[x]=V,f.actions[x]=F}}return Ht(C,w),Ht(ve(C),w),Object.defineProperty(C,"$state",{get:()=>u.state.value[t],set:x=>{l(F=>{Ht(F,x)})}}),u._p.forEach(x=>{Ht(C,y.run(()=>x({store:C,app:u._a,pinia:u,options:f})))}),a&&v&&s.hydrate&&s.hydrate(C.$state,a),c=!0,h=!0,C}function Sg(t,e,s){let u,p;const v=typeof e=="function";typeof t=="string"?(u=t,p=v?s:e):(p=t,u=t.id);function y(f,n){const c=nc();return f=f||(c?vt(Yc,null):null),f&&Ur(f),f=zc,f._s.has(u)||(v?$c(u,e,p,f):Cg(u,p,f)),f._s.get(u)}return y.$id=u,y}function To(t){{t=ve(t);const e={};for(const s in t){const u=t[s];(Ee(u)||mt(u))&&(e[s]=so(t,s))}return e}}var Ea;const qc=typeof window<"u",wg=t=>typeof t=="string",xg=()=>{};qc&&((Ea=window==null?void 0:window.navigator)!=null&&Ea.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Kc(t){return typeof t=="function"?t():pe(t)}function Tg(t){return t}function Jc(t){return Er()?(Js(t),!0):!1}function Og(t){ut()&&Mn(t)}function Qc(t){var e;const s=Kc(t);return(e=s==null?void 0:s.$el)!=null?e:s}const Eg=qc?window:void 0;function Wt(...t){let e,s,u,p;if(wg(t[0])||Array.isArray(t[0])?([s,u,p]=t,e=Eg):[e,s,u,p]=t,!e)return xg;Array.isArray(s)||(s=[s]),Array.isArray(u)||(u=[u]);const v=[],y=()=>{v.forEach(h=>h()),v.length=0},f=(h,i,o,r)=>(h.addEventListener(i,o,r),()=>h.removeEventListener(i,o,r)),n=Ae(()=>[Qc(e),Kc(p)],([h,i])=>{y(),h&&v.push(...s.flatMap(o=>u.map(r=>f(h,o,r,i))))},{immediate:!0,flush:"post"}),c=()=>{n(),y()};return Jc(c),c}const Pa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Aa="__vueuse_ssr_handlers__";Pa[Aa]=Pa[Aa]||{};var ka;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(ka||(ka={}));var Pg=Object.defineProperty,Ma=Object.getOwnPropertySymbols,Ag=Object.prototype.hasOwnProperty,kg=Object.prototype.propertyIsEnumerable,Fa=(t,e,s)=>e in t?Pg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,Mg=(t,e)=>{for(var s in e||(e={}))Ag.call(e,s)&&Fa(t,s,e[s]);if(Ma)for(var s of Ma(e))kg.call(e,s)&&Fa(t,s,e[s]);return t};const Fg={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Mg({linear:Tg},Fg);/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Zc=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],gr=Zc.join(","),eu=typeof Element>"u",yi=eu?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,pr=!eu&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},mr=function t(e,s){var u;s===void 0&&(s=!0);var p=e==null||(u=e.getAttribute)===null||u===void 0?void 0:u.call(e,"inert"),v=p===""||p==="true",y=v||s&&e&&t(e.parentNode);return y},Dg=function(e){var s,u=e==null||(s=e.getAttribute)===null||s===void 0?void 0:s.call(e,"contenteditable");return u===""||u==="true"},tu=function(e,s,u){if(mr(e))return[];var p=Array.prototype.slice.apply(e.querySelectorAll(gr));return s&&yi.call(e,gr)&&p.unshift(e),p=p.filter(u),p},iu=function t(e,s,u){for(var p=[],v=Array.from(e);v.length;){var y=v.shift();if(!mr(y,!1))if(y.tagName==="SLOT"){var f=y.assignedElements(),n=f.length?f:y.children,c=t(n,!0,u);u.flatten?p.push.apply(p,c):p.push({scopeParent:y,candidates:c})}else{var h=yi.call(y,gr);h&&u.filter(y)&&(s||!e.includes(y))&&p.push(y);var i=y.shadowRoot||typeof u.getShadowRoot=="function"&&u.getShadowRoot(y),o=!mr(i,!1)&&(!u.shadowRootFilter||u.shadowRootFilter(y));if(i&&o){var r=t(i===!0?y.children:i.children,!0,u);u.flatten?p.push.apply(p,r):p.push({scopeParent:y,candidates:r})}else v.unshift.apply(v,y.children)}}return p},nu=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},ri=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Dg(e))&&!nu(e)?0:e.tabIndex},Lg=function(e,s){var u=ri(e);return u<0&&s&&!nu(e)?0:u},Rg=function(e,s){return e.tabIndex===s.tabIndex?e.documentOrder-s.documentOrder:e.tabIndex-s.tabIndex},ru=function(e){return e.tagName==="INPUT"},Ig=function(e){return ru(e)&&e.type==="hidden"},Bg=function(e){var s=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(u){return u.tagName==="SUMMARY"});return s},jg=function(e,s){for(var u=0;u<e.length;u++)if(e[u].checked&&e[u].form===s)return e[u]},Ng=function(e){if(!e.name)return!0;var s=e.form||pr(e),u=function(f){return s.querySelectorAll('input[type="radio"][name="'+f+'"]')},p;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")p=u(window.CSS.escape(e.name));else try{p=u(e.name)}catch(y){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",y.message),!1}var v=jg(p,e.form);return!v||v===e},Hg=function(e){return ru(e)&&e.type==="radio"},Wg=function(e){return Hg(e)&&!Ng(e)},Ug=function(e){var s,u=e&&pr(e),p=(s=u)===null||s===void 0?void 0:s.host,v=!1;if(u&&u!==e){var y,f,n;for(v=!!((y=p)!==null&&y!==void 0&&(f=y.ownerDocument)!==null&&f!==void 0&&f.contains(p)||e!=null&&(n=e.ownerDocument)!==null&&n!==void 0&&n.contains(e));!v&&p;){var c,h,i;u=pr(p),p=(c=u)===null||c===void 0?void 0:c.host,v=!!((h=p)!==null&&h!==void 0&&(i=h.ownerDocument)!==null&&i!==void 0&&i.contains(p))}}return v},Da=function(e){var s=e.getBoundingClientRect(),u=s.width,p=s.height;return u===0&&p===0},Vg=function(e,s){var u=s.displayCheck,p=s.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var v=yi.call(e,"details>summary:first-of-type"),y=v?e.parentElement:e;if(yi.call(y,"details:not([open]) *"))return!0;if(!u||u==="full"||u==="legacy-full"){if(typeof p=="function"){for(var f=e;e;){var n=e.parentElement,c=pr(e);if(n&&!n.shadowRoot&&p(n)===!0)return Da(e);e.assignedSlot?e=e.assignedSlot:!n&&c!==e.ownerDocument?e=c.host:e=n}e=f}if(Ug(e))return!e.getClientRects().length;if(u!=="legacy-full")return!0}else if(u==="non-zero-area")return Da(e);return!1},Xg=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var s=e.parentElement;s;){if(s.tagName==="FIELDSET"&&s.disabled){for(var u=0;u<s.children.length;u++){var p=s.children.item(u);if(p.tagName==="LEGEND")return yi.call(s,"fieldset[disabled] *")?!0:!p.contains(e)}return!0}s=s.parentElement}return!1},vr=function(e,s){return!(s.disabled||mr(s)||Ig(s)||Vg(s,e)||Bg(s)||Xg(s))},Is=function(e,s){return!(Wg(s)||ri(s)<0||!vr(e,s))},zg=function(e){var s=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(s)||s>=0)},Yg=function t(e){var s=[],u=[];return e.forEach(function(p,v){var y=!!p.scopeParent,f=y?p.scopeParent:p,n=Lg(f,y),c=y?t(p.candidates):f;n===0?y?s.push.apply(s,c):s.push(f):u.push({documentOrder:v,tabIndex:n,item:p,isScope:y,content:c})}),u.sort(Rg).reduce(function(p,v){return v.isScope?p.push.apply(p,v.content):p.push(v.content),p},[]).concat(s)},Gg=function(e,s){s=s||{};var u;return s.getShadowRoot?u=iu([e],s.includeContainer,{filter:Is.bind(null,s),flatten:!1,getShadowRoot:s.getShadowRoot,shadowRootFilter:zg}):u=tu(e,s.includeContainer,Is.bind(null,s)),Yg(u)},$g=function(e,s){s=s||{};var u;return s.getShadowRoot?u=iu([e],s.includeContainer,{filter:vr.bind(null,s),flatten:!0,getShadowRoot:s.getShadowRoot}):u=tu(e,s.includeContainer,vr.bind(null,s)),u},Ti=function(e,s){if(s=s||{},!e)throw new Error("No node provided");return yi.call(e,gr)===!1?!1:Is(s,e)},qg=Zc.concat("iframe").join(","),ns=function(e,s){if(s=s||{},!e)throw new Error("No node provided");return yi.call(e,qg)===!1?!1:vr(s,e)};/*!
* focus-trap 7.5.2
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function La(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),s.push.apply(s,u)}return s}function Ra(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?La(Object(s),!0).forEach(function(u){Kg(t,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):La(Object(s)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(s,u))})}return t}function Kg(t,e,s){return e=Qg(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function Jg(t,e){if(typeof t!="object"||t===null)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var u=s.call(t,e||"default");if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qg(t){var e=Jg(t,"string");return typeof e=="symbol"?e:String(e)}var Ia={activateTrap:function(e,s){if(e.length>0){var u=e[e.length-1];u!==s&&u.pause()}var p=e.indexOf(s);p===-1||e.splice(p,1),e.push(s)},deactivateTrap:function(e,s){var u=e.indexOf(s);u!==-1&&e.splice(u,1),e.length>0&&e[e.length-1].unpause()}},Zg=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},ep=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},fn=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},tp=function(e){return fn(e)&&!e.shiftKey},ip=function(e){return fn(e)&&e.shiftKey},Ba=function(e){return setTimeout(e,0)},ja=function(e,s){var u=-1;return e.every(function(p,v){return s(p)?(u=v,!1):!0}),u},Gi=function(e){for(var s=arguments.length,u=new Array(s>1?s-1:0),p=1;p<s;p++)u[p-1]=arguments[p];return typeof e=="function"?e.apply(void 0,u):e},zn=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},np=[],rp=function(e,s){var u=(s==null?void 0:s.document)||document,p=(s==null?void 0:s.trapStack)||np,v=Ra({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:tp,isKeyBackward:ip},s),y={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},f,n=function(L,D,G){return L&&L[D]!==void 0?L[D]:v[G||D]},c=function(L,D){var G=typeof(D==null?void 0:D.composedPath)=="function"?D.composedPath():void 0;return y.containerGroups.findIndex(function(z){var Z=z.container,te=z.tabbableNodes;return Z.contains(L)||(G==null?void 0:G.includes(Z))||te.find(function(se){return se===L})})},h=function(L){var D=v[L];if(typeof D=="function"){for(var G=arguments.length,z=new Array(G>1?G-1:0),Z=1;Z<G;Z++)z[Z-1]=arguments[Z];D=D.apply(void 0,z)}if(D===!0&&(D=void 0),!D){if(D===void 0||D===!1)return D;throw new Error("`".concat(L,"` was specified but was not a node, or did not return a node"))}var te=D;if(typeof D=="string"&&(te=u.querySelector(D),!te))throw new Error("`".concat(L,"` as selector refers to no known node"));return te},i=function(){var L=h("initialFocus");if(L===!1)return!1;if(L===void 0||!ns(L,v.tabbableOptions))if(c(u.activeElement)>=0)L=u.activeElement;else{var D=y.tabbableGroups[0],G=D&&D.firstTabbableNode;L=G||h("fallbackFocus")}if(!L)throw new Error("Your focus-trap needs to have at least one focusable element");return L},o=function(){if(y.containerGroups=y.containers.map(function(L){var D=Gg(L,v.tabbableOptions),G=$g(L,v.tabbableOptions),z=D.length>0?D[0]:void 0,Z=D.length>0?D[D.length-1]:void 0,te=G.find(function(P){return Ti(P)}),se=G.slice().reverse().find(function(P){return Ti(P)}),oe=!!D.find(function(P){return ri(P)>0});return{container:L,tabbableNodes:D,focusableNodes:G,posTabIndexesFound:oe,firstTabbableNode:z,lastTabbableNode:Z,firstDomTabbableNode:te,lastDomTabbableNode:se,nextTabbableNode:function(H){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,A=D.indexOf(H);return A<0?j?G.slice(G.indexOf(H)+1).find(function(X){return Ti(X)}):G.slice(0,G.indexOf(H)).reverse().find(function(X){return Ti(X)}):D[A+(j?1:-1)]}}}),y.tabbableGroups=y.containerGroups.filter(function(L){return L.tabbableNodes.length>0}),y.tabbableGroups.length<=0&&!h("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(y.containerGroups.find(function(L){return L.posTabIndexesFound})&&y.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},r=function V(L){if(L!==!1&&L!==u.activeElement){if(!L||!L.focus){V(i());return}L.focus({preventScroll:!!v.preventScroll}),y.mostRecentlyFocusedNode=L,Zg(L)&&L.select()}},a=function(L){var D=h("setReturnFocus",L);return D||(D===!1?!1:L)},g=function(L){var D=L.target,G=L.event,z=L.isBackward,Z=z===void 0?!1:z;D=D||zn(G),o();var te=null;if(y.tabbableGroups.length>0){var se=c(D,G),oe=se>=0?y.containerGroups[se]:void 0;if(se<0)Z?te=y.tabbableGroups[y.tabbableGroups.length-1].lastTabbableNode:te=y.tabbableGroups[0].firstTabbableNode;else if(Z){var P=ja(y.tabbableGroups,function(E){var I=E.firstTabbableNode;return D===I});if(P<0&&(oe.container===D||ns(D,v.tabbableOptions)&&!Ti(D,v.tabbableOptions)&&!oe.nextTabbableNode(D,!1))&&(P=se),P>=0){var H=P===0?y.tabbableGroups.length-1:P-1,j=y.tabbableGroups[H];te=ri(D)>=0?j.lastTabbableNode:j.lastDomTabbableNode}else fn(G)||(te=oe.nextTabbableNode(D,!1))}else{var A=ja(y.tabbableGroups,function(E){var I=E.lastTabbableNode;return D===I});if(A<0&&(oe.container===D||ns(D,v.tabbableOptions)&&!Ti(D,v.tabbableOptions)&&!oe.nextTabbableNode(D))&&(A=se),A>=0){var X=A===y.tabbableGroups.length-1?0:A+1,M=y.tabbableGroups[X];te=ri(D)>=0?M.firstTabbableNode:M.firstDomTabbableNode}else fn(G)||(te=oe.nextTabbableNode(D))}}else te=h("fallbackFocus");return te},l=function(L){var D=zn(L);if(!(c(D,L)>=0)){if(Gi(v.clickOutsideDeactivates,L)){f.deactivate({returnFocus:v.returnFocusOnDeactivate});return}Gi(v.allowOutsideClick,L)||L.preventDefault()}},d=function(L){var D=zn(L),G=c(D,L)>=0;if(G||D instanceof Document)G&&(y.mostRecentlyFocusedNode=D);else{L.stopImmediatePropagation();var z,Z=!0;if(y.mostRecentlyFocusedNode)if(ri(y.mostRecentlyFocusedNode)>0){var te=c(y.mostRecentlyFocusedNode),se=y.containerGroups[te].tabbableNodes;if(se.length>0){var oe=se.findIndex(function(P){return P===y.mostRecentlyFocusedNode});oe>=0&&(v.isKeyForward(y.recentNavEvent)?oe+1<se.length&&(z=se[oe+1],Z=!1):oe-1>=0&&(z=se[oe-1],Z=!1))}}else y.containerGroups.some(function(P){return P.tabbableNodes.some(function(H){return ri(H)>0})})||(Z=!1);else Z=!1;Z&&(z=g({target:y.mostRecentlyFocusedNode,isBackward:v.isKeyBackward(y.recentNavEvent)})),r(z||y.mostRecentlyFocusedNode||i())}y.recentNavEvent=void 0},m=function(L){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;y.recentNavEvent=L;var G=g({event:L,isBackward:D});G&&(fn(L)&&L.preventDefault(),r(G))},b=function(L){if(ep(L)&&Gi(v.escapeDeactivates,L)!==!1){L.preventDefault(),f.deactivate();return}(v.isKeyForward(L)||v.isKeyBackward(L))&&m(L,v.isKeyBackward(L))},_=function(L){var D=zn(L);c(D,L)>=0||Gi(v.clickOutsideDeactivates,L)||Gi(v.allowOutsideClick,L)||(L.preventDefault(),L.stopImmediatePropagation())},C=function(){if(y.active)return Ia.activateTrap(p,f),y.delayInitialFocusTimer=v.delayInitialFocus?Ba(function(){r(i())}):r(i()),u.addEventListener("focusin",d,!0),u.addEventListener("mousedown",l,{capture:!0,passive:!1}),u.addEventListener("touchstart",l,{capture:!0,passive:!1}),u.addEventListener("click",_,{capture:!0,passive:!1}),u.addEventListener("keydown",b,{capture:!0,passive:!1}),f},S=function(){if(y.active)return u.removeEventListener("focusin",d,!0),u.removeEventListener("mousedown",l,!0),u.removeEventListener("touchstart",l,!0),u.removeEventListener("click",_,!0),u.removeEventListener("keydown",b,!0),f},w=function(L){var D=L.some(function(G){var z=Array.from(G.removedNodes);return z.some(function(Z){return Z===y.mostRecentlyFocusedNode})});D&&r(i())},x=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(w):void 0,F=function(){x&&(x.disconnect(),y.active&&!y.paused&&y.containers.map(function(L){x.observe(L,{subtree:!0,childList:!0})}))};return f={get active(){return y.active},get paused(){return y.paused},activate:function(L){if(y.active)return this;var D=n(L,"onActivate"),G=n(L,"onPostActivate"),z=n(L,"checkCanFocusTrap");z||o(),y.active=!0,y.paused=!1,y.nodeFocusedBeforeActivation=u.activeElement,D==null||D();var Z=function(){z&&o(),C(),F(),G==null||G()};return z?(z(y.containers.concat()).then(Z,Z),this):(Z(),this)},deactivate:function(L){if(!y.active)return this;var D=Ra({onDeactivate:v.onDeactivate,onPostDeactivate:v.onPostDeactivate,checkCanReturnFocus:v.checkCanReturnFocus},L);clearTimeout(y.delayInitialFocusTimer),y.delayInitialFocusTimer=void 0,S(),y.active=!1,y.paused=!1,F(),Ia.deactivateTrap(p,f);var G=n(D,"onDeactivate"),z=n(D,"onPostDeactivate"),Z=n(D,"checkCanReturnFocus"),te=n(D,"returnFocus","returnFocusOnDeactivate");G==null||G();var se=function(){Ba(function(){te&&r(a(y.nodeFocusedBeforeActivation)),z==null||z()})};return te&&Z?(Z(a(y.nodeFocusedBeforeActivation)).then(se,se),this):(se(),this)},pause:function(L){if(y.paused||!y.active)return this;var D=n(L,"onPause"),G=n(L,"onPostPause");return y.paused=!0,D==null||D(),S(),F(),G==null||G(),this},unpause:function(L){if(!y.paused||!y.active)return this;var D=n(L,"onUnpause"),G=n(L,"onPostUnpause");return y.paused=!1,D==null||D(),o(),C(),F(),G==null||G(),this},updateContainerElements:function(L){var D=[].concat(L).filter(Boolean);return y.containers=D.map(function(G){return typeof G=="string"?u.querySelector(G):G}),y.active&&o(),F(),this}},f.updateContainerElements(e),f},sp=Object.defineProperty,op=Object.defineProperties,ap=Object.getOwnPropertyDescriptors,yr=Object.getOwnPropertySymbols,su=Object.prototype.hasOwnProperty,ou=Object.prototype.propertyIsEnumerable,Na=(t,e,s)=>e in t?sp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,lp=(t,e)=>{for(var s in e||(e={}))su.call(e,s)&&Na(t,s,e[s]);if(yr)for(var s of yr(e))ou.call(e,s)&&Na(t,s,e[s]);return t},cp=(t,e)=>op(t,ap(e)),up=(t,e)=>{var s={};for(var u in t)su.call(t,u)&&e.indexOf(u)<0&&(s[u]=t[u]);if(t!=null&&yr)for(var u of yr(t))e.indexOf(u)<0&&ou.call(t,u)&&(s[u]=t[u]);return s};function fp(t,e={}){let s;const u=e,{immediate:p}=u,v=up(u,["immediate"]),y=me(!1),f=me(!1),n=o=>s&&s.activate(o),c=o=>s&&s.deactivate(o),h=()=>{s&&(s.pause(),f.value=!0)},i=()=>{s&&(s.unpause(),f.value=!1)};return Ae(()=>Qc(t),o=>{o&&(s=rp(o,cp(lp({},v),{onActivate(){y.value=!0,e.onActivate&&e.onActivate()},onDeactivate(){y.value=!1,e.onDeactivate&&e.onDeactivate()}})),p&&n())},{flush:"post"}),Jc(()=>c()),{hasFocus:y,isPaused:f,activate:n,deactivate:c,pause:h,unpause:i}}const hp=t=>(...e)=>{t&&(t==null||t(...e),t=null)},gt=()=>{};function Yn(t,e,s){return t>s?s:t<e?e:t}const Oo=t=>typeof t=="string",Eo={modalId:{type:[String,Number,Symbol],default:void 0},modelValue:{type:Boolean,default:void 0},displayDirective:{type:String,default:"if",validator:t=>["if","show","visible"].includes(t)},hideOverlay:{type:Boolean,default:void 0},overlayTransition:{type:[String,Object],default:void 0},contentTransition:{type:[String,Object],default:void 0},overlayClass:{type:void 0,default:void 0},contentClass:{type:void 0,default:void 0},overlayStyle:{type:[String,Object,Array],default:void 0},contentStyle:{type:[String,Object,Array],default:void 0},clickToClose:{type:Boolean,default:!0},escToClose:{type:Boolean,default:!0},background:{type:String,default:"non-interactive",validator:t=>["interactive","non-interactive"].includes(t)},focusTrap:{type:[Boolean,Object],default:()=>({allowOutsideClick:!0})},lockScroll:{type:Boolean,default:!0},reserveScrollBarGap:{type:Boolean,default:!0},zIndexFn:{type:Function,default:({index:t})=>1e3+2*t},swipeToClose:{type:String,default:"none",validator:t=>["none","up","right","down","left"].includes(t)},threshold:{type:Number,default:0},showSwipeBanner:{type:Boolean,default:void 0},preventNavigationGestures:{type:Boolean,default:void 0}};function Ha(t=!1){const e=me(t),s=me(e.value?0:void 0);return[e,s,{beforeEnter(){s.value=1},afterEnter(){s.value=0},beforeLeave(){s.value=3},afterLeave(){s.value=2}}]}function dp(t,e){const{modelValueLocal:s,onEntering:u,onEnter:p,onLeaving:v,onLeave:y}=e,f=me(s.value),[n,c,h]=Ha(f.value),[i,o,r]=Ha(f.value),a=Fe(()=>typeof t.contentTransition=="string"?{name:t.contentTransition}:{...t.contentTransition}),g=Fe(()=>typeof t.overlayTransition=="string"?{name:t.overlayTransition}:{...t.overlayTransition}),l=Fe(()=>(t.hideOverlay||o.value===2)&&c.value===2);Ae(l,b=>{b&&(f.value=!1)}),Ae(c,b=>{if(b===1){if(!f.value)return;u==null||u()}else if(b===0){if(!f.value)return;p==null||p()}else b===3?v==null||v():b===2&&(y==null||y())});async function d(){f.value=!0,await yt(),n.value=!0,i.value=!0}function m(){n.value=!1,i.value=!1}return{visible:f,contentVisible:n,contentListeners:h,contentTransition:a,overlayVisible:i,overlayListeners:r,overlayTransition:g,enterTransition:d,leaveTransition:m}}function gp(t,e,s){const{vfmRootEl:u,vfmContentEl:p,visible:v,modelValueLocal:y}=s,f=me();function n(){v.value&&t.escToClose&&(y.value=!1)}function c(i){f.value=i==null?void 0:i.target}function h(){var i;f.value===u.value&&(t.clickToClose?y.value=!1:((i=p.value)==null||i.focus(),e("clickOutside")))}return{onEsc:n,onMouseupRoot:h,onMousedown:c}}function pp(t,e){const s=me(!!t.modelValue);return Ae(()=>t.modelValue,u=>{s.value=!!u}),Ae(s,u=>{u!==t.modelValue&&e("update:modelValue",u)}),{modelValueLocal:s}}function mp(t,e){if(t.focusTrap===!1)return{focus(){},blur(){}};const{focusEl:s}=e,{hasFocus:u,activate:p,deactivate:v}=fp(s,t.focusTrap);function y(){requestAnimationFrame(()=>{p()})}function f(){u.value&&v()}return{focus:y,blur:f}}let Po=!1;if(typeof window<"u"){const t={get passive(){Po=!0}};window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}const au=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);let Vt=[],br=!1,Qn=0,lu=-1,hn,dn;const vp=t=>{if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return["auto","scroll"].includes(e.overflowY)&&t.scrollHeight>t.clientHeight},yp=(t,e)=>!(t.scrollTop===0&&e<0||t.scrollTop+t.clientHeight+e>=t.scrollHeight&&e>0),bp=t=>{const e=[];for(;t;){if(e.push(t),t.classList.contains("vfm"))return e;t=t.parentElement}return e},_p=(t,e)=>{let s=!1;return bp(t).forEach(u=>{vp(u)&&yp(u,e)&&(s=!0)}),s},cu=t=>Vt.some(()=>_p(t,-Qn)),Ao=t=>{const e=t||window.event;return cu(e.target)||e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)},Cp=t=>{if(dn===void 0){const e=!!t&&t.reserveScrollBarGap===!0,s=window.innerWidth-document.documentElement.clientWidth;if(e&&s>0){const u=parseInt(getComputedStyle(document.body).getPropertyValue("padding-right"),10);dn=document.body.style.paddingRight,document.body.style.paddingRight=`${u+s}px`}}hn===void 0&&(hn=document.body.style.overflow,document.body.style.overflow="hidden")},Sp=()=>{dn!==void 0&&(document.body.style.paddingRight=dn,dn=void 0),hn!==void 0&&(document.body.style.overflow=hn,hn=void 0)},wp=t=>t?t.scrollHeight-t.scrollTop<=t.clientHeight:!1,xp=(t,e)=>(Qn=t.targetTouches[0].clientY-lu,cu(t.target)?!1:e&&e.scrollTop===0&&Qn>0||wp(e)&&Qn<0?Ao(t):(t.stopPropagation(),!0)),Tp=(t,e)=>{if(!t){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(Vt.some(u=>u.targetElement===t))return;const s={targetElement:t,options:e||{}};Vt=[...Vt,s],au?(t.ontouchstart=u=>{u.targetTouches.length===1&&(lu=u.targetTouches[0].clientY)},t.ontouchmove=u=>{u.targetTouches.length===1&&xp(u,t)},br||(document.addEventListener("touchmove",Ao,Po?{passive:!1}:void 0),br=!0)):Cp(e)},Op=t=>{if(!t){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}Vt=Vt.filter(e=>e.targetElement!==t),au?(t.ontouchstart=null,t.ontouchmove=null,br&&Vt.length===0&&(document.removeEventListener("touchmove",Ao,Po?{passive:!1}:void 0),br=!1)):Vt.length||Sp()};function Ep(t,e){const{lockScrollEl:s,modelValueLocal:u}=e;let p;Ae(s,f=>{f&&(p=f)},{immediate:!0}),Ae(()=>t.lockScroll,f=>{f?y():v()}),Ci(()=>{v()});function v(){p&&Op(p)}function y(){u.value&&t.lockScroll&&p&&Tp(p,{reserveScrollBarGap:t.reserveScrollBarGap,allowTouchMove:f=>{for(;f&&f!==document.body;){if(f.getAttribute("vfm-scroll-lock-ignore")!==null)return!0;f=f.parentElement}return!1}})}return{enableBodyScroll:v,disableBodyScroll:y}}function Pp(t){function e(s){switch(s){case"beforeOpen":t(s);break;case"beforeClose":t(s);break;case"opened":t(s);break;case"closed":t(s);break}}return{emitEvent:e}}function Ap(t){const e=me();function s(p){var v;e.value=(v=t.zIndexFn)==null?void 0:v.call(t,{index:p<=-1?0:p})}function u(){e.value=void 0}return{zIndex:e,refreshZIndex:s,resetZIndex:u}}const rs={beforeMount(t,{value:e},{transition:s}){t._vov=t.style.visibility==="hidden"?"":t.style.visibility,s&&e?s.beforeEnter(t):$i(t,e)},mounted(t,{value:e},{transition:s}){s&&e&&s.enter(t)},updated(t,{value:e,oldValue:s},{transition:u}){!e!=!s&&(u?e?(u.beforeEnter(t),$i(t,!0),u.enter(t)):u.leave(t,()=>{$i(t,!1)}):$i(t,e))},beforeUnmount(t,{value:e}){$i(t,e)}};function $i(t,e){t.style.visibility=e?t._vov:"hidden"}const Wa=t=>{if(t instanceof MouseEvent){const{clientX:e,clientY:s}=t;return{x:e,y:s}}else{const{clientX:e,clientY:s}=t.targetTouches[0];return{x:e,y:s}}};function kp(t){if(!t)return!1;let e=!1;const s={get passive(){return e=!0,!1}};return t.addEventListener("x",gt,s),t.removeEventListener("x",gt),e}function Mp(t,{threshold:e=0,onSwipeStart:s,onSwipe:u,onSwipeEnd:p,passive:v=!0}){const y=$t({x:0,y:0}),f=$t({x:0,y:0}),n=Fe(()=>y.x-f.x),c=Fe(()=>y.y-f.y),{max:h,abs:i}=Math,o=Fe(()=>h(i(n.value),i(c.value))>=e),r=me(!1),a=Fe(()=>o.value?i(n.value)>i(c.value)?n.value>0?"left":"right":c.value>0?"up":"down":"none"),g=(w,x)=>{y.x=w,y.y=x},l=(w,x)=>{f.x=w,f.y=x};let d,m;function b(w){d.capture&&!d.passive&&w.preventDefault();const{x,y:F}=Wa(w);g(x,F),l(x,F),s==null||s(w),m=[Wt(t,"mousemove",_,d),Wt(t,"touchmove",_,d),Wt(t,"mouseup",C,d),Wt(t,"touchend",C,d),Wt(t,"touchcancel",C,d)]}function _(w){const{x,y:F}=Wa(w);l(x,F),!r.value&&o.value&&(r.value=!0),r.value&&(u==null||u(w))}function C(w){r.value&&(p==null||p(w,a.value)),r.value=!1,m.forEach(x=>x())}let S=[];return Mt(()=>{const w=kp(window==null?void 0:window.document);v?d=w?{passive:!0}:{capture:!1}:d=w?{passive:!1,capture:!0}:{capture:!0},S=[Wt(t,"mousedown",b,d),Wt(t,"touchstart",b,d)]}),{isSwiping:r,direction:a,coordsStart:y,coordsEnd:f,lengthX:n,lengthY:c,stop:()=>{S.forEach(w=>w()),m.forEach(w=>w())}}}function Fp(t,e){const{vfmContentEl:s,modelValueLocal:u}=e,p=.1,v=300,y=me(),f=Fe(()=>{if(!(t.swipeToClose===void 0||t.swipeToClose==="none"))return t.showSwipeBanner?y.value:s.value}),n=me(0),c=me(!0);let h=gt,i=!0,o,r=!1;const{lengthX:a,lengthY:g,direction:l,isSwiping:d}=Mp(f,{threshold:t.threshold,onSwipeStart(C){h=Wt(document,"selectionchange",()=>{var S;c.value=(S=window.getSelection())==null?void 0:S.isCollapsed}),o=new Date().getTime(),r=_(C==null?void 0:C.target)},onSwipe(){var C,S,w,x;if(r&&c.value&&l.value===t.swipeToClose){if(l.value==="up"){const F=Yn(Math.abs(g.value||0),0,((C=f.value)==null?void 0:C.offsetHeight)||0)-(t.threshold||0);n.value=F}else if(l.value==="down"){const F=Yn(Math.abs(g.value||0),0,((S=f.value)==null?void 0:S.offsetHeight)||0)-(t.threshold||0);n.value=-F}else if(l.value==="right"){const F=Yn(Math.abs(a.value||0),0,((w=f.value)==null?void 0:w.offsetWidth)||0)-(t.threshold||0);n.value=-F}else if(l.value==="left"){const F=Yn(Math.abs(a.value||0),0,((x=f.value)==null?void 0:x.offsetWidth)||0)-(t.threshold||0);n.value=F}}},onSwipeEnd(C,S){if(h(),!c.value){c.value=!0;return}const w=new Date().getTime(),x=S===t.swipeToClose,F=(()=>{var L,D;if(S==="up"||S==="down")return Math.abs((g==null?void 0:g.value)||0)>p*(((L=f.value)==null?void 0:L.offsetHeight)||0);if(S==="left"||S==="right")return Math.abs((a==null?void 0:a.value)||0)>p*(((D=f.value)==null?void 0:D.offsetWidth)||0)})(),V=w-o<=v;if(i&&r&&x&&(F||V)){u.value=!1;return}n.value=0}}),m=Fe(()=>{if(t.swipeToClose==="none")return;const C=(()=>{switch(t.swipeToClose){case"up":case"down":return"translateY";case"left":case"right":return"translateX"}})();return{class:{"vfm-bounce-back":!d.value},style:{transform:`${C}(${-n.value}px)`}}});Ae(()=>c.value,C=>{C||(n.value=0)}),Ae(()=>u.value,C=>{C&&(n.value=0)}),Ae(()=>n.value,(C,S)=>{switch(t.swipeToClose){case"down":case"right":i=C<S;break;case"up":case"left":i=C>S;break}});function b(C){t.preventNavigationGestures&&C.preventDefault()}function _(C){const S=C==null?void 0:C.tagName;if(!S||["INPUT","TEXTAREA"].includes(S))return!1;const w=(()=>{switch(t.swipeToClose){case"up":return(C==null?void 0:C.scrollTop)+(C==null?void 0:C.clientHeight)===(C==null?void 0:C.scrollHeight);case"left":return(C==null?void 0:C.scrollLeft)+(C==null?void 0:C.clientWidth)===(C==null?void 0:C.scrollWidth);case"down":return(C==null?void 0:C.scrollTop)===0;case"right":return(C==null?void 0:C.scrollLeft)===0;default:return!1}})();return C===f.value?w:w&&_(C==null?void 0:C.parentElement)}return{vfmContentEl:s,swipeBannerEl:y,bindSwipe:m,onTouchStartSwipeBanner:b}}const ko=Symbol("vfm"),Mo=Symbol("internalVfm"),Dp=Zt({__name:"CoreModal",props:Eo,emits:["update:modelValue","beforeOpen","opened","beforeClose","closed","clickOutside"],setup(t,{emit:e}){const s=t,{modals:u,openedModals:p}=vt(ko,{modals:[],openedModals:[]}),{openLastOverlay:v,moveToLastOpenedModals:y,deleteFromOpenedModals:f,moveToLastOpenedModalOverlays:n,deleteFromOpenedModalOverlays:c,deleteFromModals:h}=vt(Mo,{openLastOverlay:gt,moveToLastOpenedModals:gt,deleteFromOpenedModals:gt,moveToLastOpenedModalOverlays:gt,deleteFromOpenedModalOverlays:gt,deleteFromModals:gt}),i=me(),o=me(),{focus:r,blur:a}=mp(s,{focusEl:i}),{zIndex:g,refreshZIndex:l,resetZIndex:d}=Ap(s),{modelValueLocal:m}=pp(s,e),{enableBodyScroll:b,disableBodyScroll:_}=Ep(s,{lockScrollEl:i,modelValueLocal:m}),{emitEvent:C}=Pp(e);let S=gt;const{visible:w,contentVisible:x,contentListeners:F,contentTransition:V,overlayVisible:L,overlayListeners:D,overlayTransition:G,enterTransition:z,leaveTransition:Z}=dp(s,{modelValueLocal:m,onEntering(){yt(()=>{_(),r()})},onEnter(){C("opened"),S("opened")},onLeave(){f(M()),d(),b(),C("closed"),S("closed")}}),{onEsc:te,onMouseupRoot:se,onMousedown:oe}=gp(s,e,{vfmRootEl:i,vfmContentEl:o,visible:w,modelValueLocal:m}),{swipeBannerEl:P,bindSwipe:H,onTouchStartSwipeBanner:j}=Fp(s,{vfmContentEl:o,modelValueLocal:m}),A=so(s,"hideOverlay"),X=Fe(()=>({modalId:s.modalId,hideOverlay:A,overlayVisible:L,focus:r,toggle(K){return new Promise(N=>{S=hp(ee=>N(ee));const J=typeof K=="boolean"?K:!m.value;m.value=J,e("update:modelValue",J)})}}));function M(){return X}const E=Fe(()=>p.indexOf(X));Ae(()=>[s.zIndexFn,E.value],()=>{w.value&&l(E.value)}),Mt(()=>{u.push(X)}),m.value&&I(),Ae(m,K=>{K?I():Y()});async function I(){C("beforeOpen"),y(X),n(X),l(E.value),v(),z()}function Y(){C("beforeClose"),c(X),v(),a(),Z()}return Ci(()=>{b(),h(X),f(X),c(X),a(),v()}),(K,N)=>K.displayDirective!=="if"||pe(w)?qn((Oe(),Ve("div",{key:0,ref_key:"vfmRootEl",ref:i,class:di(["vfm vfm--fixed vfm--inset",{"vfm--prevent-none":K.background==="interactive"}]),style:hi({zIndex:pe(g)}),role:"dialog","aria-modal":"true",onKeydown:N[7]||(N[7]=jc(()=>pe(te)(),["esc"])),onMouseup:N[8]||(N[8]=Fs(()=>pe(se)(),["self"])),onMousedown:N[9]||(N[9]=Fs(J=>pe(oe)(J),["self"]))},[A.value?at("",!0):(Oe(),Et(xn,fi({key:0},pe(G),{appear:!0},ys(pe(D))),{default:qt(()=>[K.displayDirective!=="if"||pe(L)?qn((Oe(),Ve("div",{key:0,class:di(["vfm__overlay vfm--overlay vfm--absolute vfm--inset vfm--prevent-none",K.overlayClass]),style:hi(K.overlayStyle),"aria-hidden":"true"},null,6)),[[ln,K.displayDirective!=="show"||pe(L)],[pe(rs),K.displayDirective!=="visible"||pe(L)]]):at("",!0)]),_:1},16)),Ce(xn,fi(pe(V),{appear:!0},ys(pe(F))),{default:qt(()=>[K.displayDirective!=="if"||pe(x)?qn((Oe(),Ve("div",fi({key:0,ref_key:"vfmContentEl",ref:o,class:["vfm__content vfm--outline-none",[K.contentClass,{"vfm--prevent-auto":K.background==="interactive"}]],style:K.contentStyle,tabindex:"0"},pe(H),{onMousedown:N[6]||(N[6]=()=>pe(oe)())}),[cr(K.$slots,"default"),K.showSwipeBanner?(Oe(),Ve("div",{key:0,ref_key:"swipeBannerEl",ref:P,class:"vfm-swipe-banner-container",onTouchstart:N[2]||(N[2]=J=>pe(j)(J))},[cr(K.$slots,"swipe-banner",{},()=>[ye("div",{class:"vfm-swipe-banner-back",onTouchstart:N[0]||(N[0]=J=>K.swipeToClose==="left"&&J.preventDefault())},null,32),ye("div",{class:"vfm-swipe-banner-forward",onTouchstart:N[1]||(N[1]=J=>K.swipeToClose==="right"&&J.preventDefault())},null,32)])],544)):!K.showSwipeBanner&&K.preventNavigationGestures?(Oe(),Ve("div",{key:1,class:"vfm-swipe-banner-container",onTouchstart:N[5]||(N[5]=J=>pe(j)(J))},[ye("div",{class:"vfm-swipe-banner-back",onTouchstart:N[3]||(N[3]=J=>K.swipeToClose==="left"&&J.preventDefault())},null,32),ye("div",{class:"vfm-swipe-banner-forward",onTouchstart:N[4]||(N[4]=J=>K.swipeToClose==="right"&&J.preventDefault())},null,32)],32)):at("",!0)],16)),[[ln,K.displayDirective!=="show"||pe(x)],[pe(rs),K.displayDirective!=="visible"||pe(x)]]):at("",!0)]),_:3},16)],38)),[[ln,K.displayDirective!=="show"||pe(w)],[pe(rs),K.displayDirective!=="visible"||pe(w)]]):at("",!0)}}),Lp={...Eo,teleportTo:{type:[String,null,Boolean,Object],default:"body"}},Rp=Zt({inheritAttrs:!1}),uu=Zt({...Rp,__name:"VueFinalModal",props:Lp,emits:["update:modelValue","beforeOpen","opened","beforeClose","closed","clickOutside"],setup(t,{emit:e}){const s=Xp({props:t,modalProps:Eo,emit:e});return(u,p)=>(Oe(),Et(hc,{to:u.teleportTo?u.teleportTo:void 0,disabled:!u.teleportTo},[Ce(Dp,$s(bo(pe(s))),{default:qt(()=>[cr(u.$slots,"default")]),_:3},16)],8,["to","disabled"]))}});let si;const Ip=t=>si=t,Bp=()=>ut()&&vt(ko)||si;function jp(){const t=Pi([]),e=Pi([]),s=Pi([]),u=Pi([]),p=me([]),v=Tt({install(y){y.provide(ko,v),y.config.globalProperties.$vfm=v;const f=Np(v);y.provide(Mo,f)},modals:t,openedModals:e,openedModalOverlays:s,dynamicModals:u,modalsContainers:p,get(y){return t.find(f=>f.value.modalId&&y===f.value.modalId)},toggle(y,f){const n=v.get(y);return n==null?void 0:n.value.toggle(f)},open(y){return v.toggle(y,!0)},close(y){return v.toggle(y,!1)},closeAll(){return Promise.allSettled([e.map(y=>y.value.toggle(!1))])}});return Ip(v),v}function Np(t){const{modals:e,openedModals:s,openedModalOverlays:u,dynamicModals:p}=t,v={deleteFromModals(y){const f=e.findIndex(n=>n.value===y.value);f!==-1&&e.splice(f,1)},moveToLastOpenedModals(y){v.deleteFromOpenedModals(y),s.push(y)},deleteFromOpenedModals(y){const f=s.findIndex(n=>n.value===y.value);f!==-1&&s.splice(f,1)},moveToLastOpenedModalOverlays(y){v.deleteFromOpenedModalOverlays(y),u.push(y)},deleteFromOpenedModalOverlays(y){const f=u.findIndex(n=>n.value===y.value);f!==-1&&u.splice(f,1)},async openLastOverlay(){var y;if(await yt(),u.forEach(f=>f.value.overlayVisible.value=!1),u.length>0){const f=u[u.length-1];!((y=f.value.hideOverlay)!=null&&y.value)&&(f.value.overlayVisible.value=!0)}},resolvedClosed(y){var f,n,c;(n=(f=p[y])==null?void 0:f.resolveClosed)==null||n.call(f),(c=p[y])!=null&&c.keepAlive||p.splice(y,1)},resolvedOpened(y){var f,n;(n=(f=p[y])==null?void 0:f.resolveOpened)==null||n.call(f)}};return v}function gn(){const t=Bp();if(!t)throw new Error(`[Vue Final Modal]: getActiveVfm was called with no active Vfm. Did you forget to install vfm?
	const vfm = createVfm()
	app.use(vfm)
This will fail in production.`);return t}function Hp(){return vt(Mo)}function Ua(t,e=uu){const{component:s,slots:u,...p}=t,v=typeof u>"u"?{}:Object.fromEntries(Object.entries(u).map(([y,f])=>Oo(f)?[y,f]:"component"in f?[y,{...f,component:Tt(f.component)}]:[y,Tt(f)]));return{...p,component:Tt(s||e),slots:v}}function Wp(t){const e=$t({id:Symbol("useModal"),modelValue:!!(t!=null&&t.defaultModelValue),resolveOpened:()=>{},resolveClosed:()=>{},attrs:{},...Ua(t)});Og(()=>{e!=null&&e.keepAlive||f()}),e.modelValue===!0&&(si?si==null||si.dynamicModals.push(e):yt(()=>{const n=gn();n==null||n.dynamicModals.push(e)}));async function s(){let n;return si?n=si:(await yt(),n=gn()),e.modelValue?Promise.resolve("[Vue Final Modal] modal is already opened."):(f(),e.modelValue=!0,n.dynamicModals.push(e),new Promise(c=>{e.resolveOpened=()=>c("opened")}))}function u(){return e.modelValue?(e.modelValue=!1,new Promise(n=>{e.resolveClosed=()=>n("closed")})):Promise.resolve("[Vue Final Modal] modal is already closed.")}function p(n){const{slots:c,...h}=Ua(n,e.component);n.defaultModelValue!==void 0&&(e.defaultModelValue=n.defaultModelValue),(n==null?void 0:n.keepAlive)!==void 0&&(e.keepAlive=n==null?void 0:n.keepAlive),v(e,h),c&&Object.entries(c).forEach(([i,o])=>{const r=e.slots[i];Oo(r)?e.slots[i]=o:Va(r)&&Va(o)?v(r,o):e.slots[i]=o})}function v(n,c){c.component&&(n.component=c.component),c.attrs&&y(n.attrs,c.attrs)}function y(n,c){return Object.entries(c).forEach(([h,i])=>{n[h]=i}),n}function f(){const n=gn(),c=n.dynamicModals.indexOf(e);c!==-1&&n.dynamicModals.splice(c,1)}return{options:e,open:s,close:u,patchOptions:p,destroy:f}}function Va(t){return"component"in t||"attrs"in t}function Up(t,e){return Object.keys(e).reduce((s,u)=>(s[u]=t[u],s),{})}function Vp(t){return t?{"onUpdate:modelValue":e=>t("update:modelValue",e),onBeforeClose:()=>t("beforeClose"),onClosed:()=>t("closed"),onBeforeOpen:()=>t("beforeOpen"),onOpened:()=>t("opened"),onClickOutside:()=>t("clickOutside")}:{}}function Xp(t){const{props:e,modalProps:s,emit:u}=t,p=Fe(()=>Up(e,s)),v=Vp(u),y=Ql();return Fe(()=>({...p.value,...v,...y}))}const zp=["innerHTML"],Yp=Zt({__name:"ModalsContainer",setup(t){const e=gn(),s=Hp(),u=Symbol("ModalsContainer"),p=Fe(()=>{var v;return u===((v=e.modalsContainers.value)==null?void 0:v[0])});return e.modalsContainers.value.push(u),Ci(()=>{e.modalsContainers.value=e.modalsContainers.value.filter(v=>v!==u)}),(v,y)=>p.value?(Oe(!0),Ve(Ne,{key:0},vs(pe(e).dynamicModals,(f,n)=>(Oe(),Et(Kn(f.component),fi({key:f.id},{displayDirective:f!=null&&f.keepAlive?"show":void 0,...f.attrs},{modelValue:f.modelValue,"onUpdate:modelValue":c=>f.modelValue=c,onClosed:()=>{var c,h;return(h=(c=pe(s)).resolvedClosed)==null?void 0:h.call(c,n)},onOpened:()=>{var c,h;return(h=(c=pe(s)).resolvedOpened)==null?void 0:h.call(c,n)}}),Kl({_:2},[vs(f.slots,(c,h)=>({name:h,fn:qt(()=>[pe(Oo)(c)?(Oe(),Ve("div",{key:0,innerHTML:c},null,8,zp)):"component"in c?(Oe(),Et(Kn(c.component),$s(fi({key:1},c.attrs)),null,16)):(Oe(),Et(Kn(c),{key:2}))])}))]),1040,["modelValue","onUpdate:modelValue","onClosed","onOpened"]))),128)):at("",!0)}});var fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function hu(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function u(){return this instanceof u?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(u){var p=Object.getOwnPropertyDescriptor(t,u);Object.defineProperty(s,u,p.get?p:{enumerable:!0,get:function(){return t[u]}})}),s}var du={exports:{}};const $p=hu(gg);(function(t,e){(function(u,p){t.exports=p($p)})(fu,s=>(()=>{var u={657:(f,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.default=(c,h)=>{const i=c.__vccOpts||c;for(const[o,r]of h)i[o]=r;return i}},976:f=>{f.exports=s}},p={};function v(f){var n=p[f];if(n!==void 0)return n.exports;var c=p[f]={exports:{}};return u[f](c,c.exports,v),c.exports}v.d=(f,n)=>{for(var c in n)v.o(n,c)&&!v.o(f,c)&&Object.defineProperty(f,c,{enumerable:!0,get:n[c]})},v.o=(f,n)=>Object.prototype.hasOwnProperty.call(f,n),v.r=f=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})};var y={};return(()=>{v.r(y),v.d(y,{Component:()=>E,LoadingPlugin:()=>Y,default:()=>K,useLoading:()=>I});var f=v(976);function n(N){var J;typeof N.remove<"u"?N.remove():(J=N.parentNode)==null||J.removeChild(N)}function c(N,J,ee){let k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const O=(0,f.h)(N,J,k),T=document.createElement("div");return T.classList.add("vld-container"),ee.appendChild(T),(0,f.render)(O,T),O.component}function h(){return typeof window<"u"}const i=h()?window.HTMLElement:Object,o=["aria-busy"],r={class:"vl-icon"};function a(N,J,ee,k,O,T){return(0,f.openBlock)(),(0,f.createBlock)(f.Transition,{name:N.transition},{default:(0,f.withCtx)(()=>[(0,f.withDirectives)((0,f.createElementVNode)("div",{tabindex:"0",class:(0,f.normalizeClass)(["vl-overlay vl-active",{"vl-full-page":N.isFullPage}]),"aria-busy":N.isActive,"aria-label":"Loading",style:(0,f.normalizeStyle)({zIndex:N.zIndex})},[(0,f.createElementVNode)("div",{class:"vl-background",onClick:J[0]||(J[0]=(0,f.withModifiers)(function(){return N.cancel&&N.cancel(...arguments)},["prevent"])),style:(0,f.normalizeStyle)(N.bgStyle)},null,4),(0,f.createElementVNode)("div",r,[(0,f.renderSlot)(N.$slots,"before"),(0,f.renderSlot)(N.$slots,"default",{},()=>[((0,f.openBlock)(),(0,f.createBlock)((0,f.resolveDynamicComponent)(N.loader),{color:N.color,width:N.width,height:N.height},null,8,["color","width","height"]))]),(0,f.renderSlot)(N.$slots,"after")])],14,o),[[f.vShow,N.isActive]])]),_:3},8,["name"])}const g={mounted(){this.enforceFocus&&document.addEventListener("focusin",this.focusIn)},methods:{focusIn(N){if(!this.isActive||N.target===this.$el||this.$el.contains(N.target))return;let J=this.container?this.container:this.isFullPage?null:this.$el.parentElement;(this.isFullPage||J&&J.contains(N.target))&&(N.preventDefault(),this.$el.focus())}},beforeUnmount(){document.removeEventListener("focusin",this.focusIn)}},l=["width","height","stroke"],m=[(0,f.createStaticVNode)('<g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke-opacity=".25" cx="18" cy="18" r="18"></circle><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="0.8s" repeatCount="indefinite"></animateTransform></path></g></g>',1)];function b(N,J,ee,k,O,T){return(0,f.openBlock)(),(0,f.createElementBlock)("svg",{viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",width:N.width,height:N.height,stroke:N.color},m,8,l)}const _=(0,f.defineComponent)({name:"spinner",props:{color:{type:String,default:"#000"},height:{type:Number,default:64},width:{type:Number,default:64}}});var C=v(657);const w=(0,C.default)(_,[["render",b]]),x=["fill","width","height"],V=[(0,f.createStaticVNode)('<circle cx="15" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="60" cy="15" r="9" fill-opacity="0.3"><animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="0.5" to="0.5" begin="0s" dur="0.8s" values=".5;1;.5" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="105" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle>',3)];function L(N,J,ee,k,O,T){return(0,f.openBlock)(),(0,f.createElementBlock)("svg",{viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:N.color,width:N.width,height:N.height},V,8,x)}const D=(0,f.defineComponent)({name:"dots",props:{color:{type:String,default:"#000"},height:{type:Number,default:240},width:{type:Number,default:60}}}),z=(0,C.default)(D,[["render",L]]),Z=["height","width","fill"],se=[(0,f.createStaticVNode)('<rect x="0" y="13" width="4" height="5"><animate attributeName="height" attributeType="XML" values="5;21;5" begin="0s" dur="0.6s" repeatCount="indefinite"></animate><animate attributeName="y" attributeType="XML" values="13; 5; 13" begin="0s" dur="0.6s" repeatCount="indefinite"></animate></rect><rect x="10" y="13" width="4" height="5"><animate attributeName="height" attributeType="XML" values="5;21;5" begin="0.15s" dur="0.6s" repeatCount="indefinite"></animate><animate attributeName="y" attributeType="XML" values="13; 5; 13" begin="0.15s" dur="0.6s" repeatCount="indefinite"></animate></rect><rect x="20" y="13" width="4" height="5"><animate attributeName="height" attributeType="XML" values="5;21;5" begin="0.3s" dur="0.6s" repeatCount="indefinite"></animate><animate attributeName="y" attributeType="XML" values="13; 5; 13" begin="0.3s" dur="0.6s" repeatCount="indefinite"></animate></rect>',3)];function oe(N,J,ee,k,O,T){return(0,f.openBlock)(),(0,f.createElementBlock)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",height:N.height,width:N.width,fill:N.color},se,8,Z)}const P=(0,f.defineComponent)({name:"bars",props:{color:{type:String,default:"#000"},height:{type:Number,default:40},width:{type:Number,default:40}}}),A={Spinner:w,Dots:z,Bars:(0,C.default)(P,[["render",oe]])},X=(0,f.defineComponent)({name:"VueLoading",mixins:[g],props:{active:Boolean,programmatic:Boolean,container:[Object,Function,i],isFullPage:{type:Boolean,default:!0},enforceFocus:{type:Boolean,default:!0},lockScroll:Boolean,transition:{type:String,default:"fade"},canCancel:Boolean,onCancel:{type:Function,default:()=>{}},color:String,backgroundColor:String,opacity:Number,width:Number,height:Number,zIndex:Number,loader:{type:String,default:"spinner"}},components:A,emits:["hide","update:active"],data(){return{isActive:this.active}},mounted(){document.addEventListener("keyup",this.keyPress)},methods:{cancel(){!this.canCancel||!this.isActive||(this.hide(),this.onCancel.apply(null,arguments))},hide(){this.$emit("hide"),this.$emit("update:active",!1),this.programmatic&&(this.isActive=!1,setTimeout(()=>{const N=this.$el.parentElement;(0,f.render)(null,N),n(N)},150))},disableScroll(){this.isFullPage&&this.lockScroll&&document.body.classList.add("vl-shown")},enableScroll(){this.isFullPage&&this.lockScroll&&document.body.classList.remove("vl-shown")},keyPress(N){N.keyCode===27&&this.cancel()}},watch:{active(N){this.isActive=N},isActive(N){N?this.disableScroll():this.enableScroll()}},computed:{bgStyle(){return{background:this.backgroundColor,opacity:this.opacity}}},beforeUnmount(){document.removeEventListener("keyup",this.keyPress)}}),E=(0,C.default)(X,[["render",a]]);function I(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return{show(){let ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:N,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:J;const T={...N,...ee,...{programmatic:!0,lockScroll:!0,isFullPage:!1,active:!0}};let R=T.container;T.container||(R=document.body,T.isFullPage=!0);const W={...J,...k};return{hide:c(E,T,R,W).ctx.hide}}}}const Y=function(N){let J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const k=I(J,ee);N.config.globalProperties.$loading=k,N.provide("$loading",k)},K=E})(),y})())})(du);var gu=du.exports;const qp="/tablet/img/logo.svg";function pu(t,e){return function(){return t.apply(e,arguments)}}const{toString:Kp}=Object.prototype,{getPrototypeOf:Fo}=Object,Vr=(t=>e=>{const s=Kp.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),_t=t=>(t=t.toLowerCase(),e=>Vr(e)===t),Xr=t=>e=>typeof e===t,{isArray:Xi}=Array,Tn=Xr("undefined");function Jp(t){return t!==null&&!Tn(t)&&t.constructor!==null&&!Tn(t.constructor)&&nt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const mu=_t("ArrayBuffer");function Qp(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&mu(t.buffer),e}const Zp=Xr("string"),nt=Xr("function"),vu=Xr("number"),zr=t=>t!==null&&typeof t=="object",em=t=>t===!0||t===!1,Zn=t=>{if(Vr(t)!=="object")return!1;const e=Fo(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},tm=_t("Date"),im=_t("File"),nm=_t("Blob"),rm=_t("FileList"),sm=t=>zr(t)&&nt(t.pipe),om=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||nt(t.append)&&((e=Vr(t))==="formdata"||e==="object"&&nt(t.toString)&&t.toString()==="[object FormData]"))},am=_t("URLSearchParams"),lm=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fn(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let u,p;if(typeof t!="object"&&(t=[t]),Xi(t))for(u=0,p=t.length;u<p;u++)e.call(null,t[u],u,t);else{const v=s?Object.getOwnPropertyNames(t):Object.keys(t),y=v.length;let f;for(u=0;u<y;u++)f=v[u],e.call(null,t[f],f,t)}}function yu(t,e){e=e.toLowerCase();const s=Object.keys(t);let u=s.length,p;for(;u-- >0;)if(p=s[u],e===p.toLowerCase())return p;return null}const bu=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),_u=t=>!Tn(t)&&t!==bu;function Bs(){const{caseless:t}=_u(this)&&this||{},e={},s=(u,p)=>{const v=t&&yu(e,p)||p;Zn(e[v])&&Zn(u)?e[v]=Bs(e[v],u):Zn(u)?e[v]=Bs({},u):Xi(u)?e[v]=u.slice():e[v]=u};for(let u=0,p=arguments.length;u<p;u++)arguments[u]&&Fn(arguments[u],s);return e}const cm=(t,e,s,{allOwnKeys:u}={})=>(Fn(e,(p,v)=>{s&&nt(p)?t[v]=pu(p,s):t[v]=p},{allOwnKeys:u}),t),um=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),fm=(t,e,s,u)=>{t.prototype=Object.create(e.prototype,u),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},hm=(t,e,s,u)=>{let p,v,y;const f={};if(e=e||{},t==null)return e;do{for(p=Object.getOwnPropertyNames(t),v=p.length;v-- >0;)y=p[v],(!u||u(y,t,e))&&!f[y]&&(e[y]=t[y],f[y]=!0);t=s!==!1&&Fo(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},dm=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const u=t.indexOf(e,s);return u!==-1&&u===s},gm=t=>{if(!t)return null;if(Xi(t))return t;let e=t.length;if(!vu(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},pm=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Fo(Uint8Array)),mm=(t,e)=>{const u=(t&&t[Symbol.iterator]).call(t);let p;for(;(p=u.next())&&!p.done;){const v=p.value;e.call(t,v[0],v[1])}},vm=(t,e)=>{let s;const u=[];for(;(s=t.exec(e))!==null;)u.push(s);return u},ym=_t("HTMLFormElement"),bm=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,u,p){return u.toUpperCase()+p}),Xa=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),_m=_t("RegExp"),Cu=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),u={};Fn(s,(p,v)=>{let y;(y=e(p,v,t))!==!1&&(u[v]=y||p)}),Object.defineProperties(t,u)},Cm=t=>{Cu(t,(e,s)=>{if(nt(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const u=t[s];if(nt(u)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Sm=(t,e)=>{const s={},u=p=>{p.forEach(v=>{s[v]=!0})};return Xi(t)?u(t):u(String(t).split(e)),s},wm=()=>{},xm=(t,e)=>(t=+t,Number.isFinite(t)?t:e),ss="abcdefghijklmnopqrstuvwxyz",za="0123456789",Su={DIGIT:za,ALPHA:ss,ALPHA_DIGIT:ss+ss.toUpperCase()+za},Tm=(t=16,e=Su.ALPHA_DIGIT)=>{let s="";const{length:u}=e;for(;t--;)s+=e[Math.random()*u|0];return s};function Om(t){return!!(t&&nt(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Em=t=>{const e=new Array(10),s=(u,p)=>{if(zr(u)){if(e.indexOf(u)>=0)return;if(!("toJSON"in u)){e[p]=u;const v=Xi(u)?[]:{};return Fn(u,(y,f)=>{const n=s(y,p+1);!Tn(n)&&(v[f]=n)}),e[p]=void 0,v}}return u};return s(t,0)},Pm=_t("AsyncFunction"),Am=t=>t&&(zr(t)||nt(t))&&nt(t.then)&&nt(t.catch),re={isArray:Xi,isArrayBuffer:mu,isBuffer:Jp,isFormData:om,isArrayBufferView:Qp,isString:Zp,isNumber:vu,isBoolean:em,isObject:zr,isPlainObject:Zn,isUndefined:Tn,isDate:tm,isFile:im,isBlob:nm,isRegExp:_m,isFunction:nt,isStream:sm,isURLSearchParams:am,isTypedArray:pm,isFileList:rm,forEach:Fn,merge:Bs,extend:cm,trim:lm,stripBOM:um,inherits:fm,toFlatObject:hm,kindOf:Vr,kindOfTest:_t,endsWith:dm,toArray:gm,forEachEntry:mm,matchAll:vm,isHTMLForm:ym,hasOwnProperty:Xa,hasOwnProp:Xa,reduceDescriptors:Cu,freezeMethods:Cm,toObjectSet:Sm,toCamelCase:bm,noop:wm,toFiniteNumber:xm,findKey:yu,global:bu,isContextDefined:_u,ALPHABET:Su,generateString:Tm,isSpecCompliantForm:Om,toJSONObject:Em,isAsyncFn:Pm,isThenable:Am};function _e(t,e,s,u,p){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),u&&(this.request=u),p&&(this.response=p)}re.inherits(_e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const wu=_e.prototype,xu={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{xu[t]={value:t}});Object.defineProperties(_e,xu);Object.defineProperty(wu,"isAxiosError",{value:!0});_e.from=(t,e,s,u,p,v)=>{const y=Object.create(wu);return re.toFlatObject(t,y,function(n){return n!==Error.prototype},f=>f!=="isAxiosError"),_e.call(y,t.message,e,s,u,p),y.cause=t,y.name=t.name,v&&Object.assign(y,v),y};const km=null;function js(t){return re.isPlainObject(t)||re.isArray(t)}function Tu(t){return re.endsWith(t,"[]")?t.slice(0,-2):t}function Ya(t,e,s){return t?t.concat(e).map(function(p,v){return p=Tu(p),!s&&v?"["+p+"]":p}).join(s?".":""):e}function Mm(t){return re.isArray(t)&&!t.some(js)}const Fm=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function Yr(t,e,s){if(!re.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,s=re.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,l){return!re.isUndefined(l[g])});const u=s.metaTokens,p=s.visitor||h,v=s.dots,y=s.indexes,n=(s.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(p))throw new TypeError("visitor must be a function");function c(a){if(a===null)return"";if(re.isDate(a))return a.toISOString();if(!n&&re.isBlob(a))throw new _e("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(a)||re.isTypedArray(a)?n&&typeof Blob=="function"?new Blob([a]):Buffer.from(a):a}function h(a,g,l){let d=a;if(a&&!l&&typeof a=="object"){if(re.endsWith(g,"{}"))g=u?g:g.slice(0,-2),a=JSON.stringify(a);else if(re.isArray(a)&&Mm(a)||(re.isFileList(a)||re.endsWith(g,"[]"))&&(d=re.toArray(a)))return g=Tu(g),d.forEach(function(b,_){!(re.isUndefined(b)||b===null)&&e.append(y===!0?Ya([g],_,v):y===null?g:g+"[]",c(b))}),!1}return js(a)?!0:(e.append(Ya(l,g,v),c(a)),!1)}const i=[],o=Object.assign(Fm,{defaultVisitor:h,convertValue:c,isVisitable:js});function r(a,g){if(!re.isUndefined(a)){if(i.indexOf(a)!==-1)throw Error("Circular reference detected in "+g.join("."));i.push(a),re.forEach(a,function(d,m){(!(re.isUndefined(d)||d===null)&&p.call(e,d,re.isString(m)?m.trim():m,g,o))===!0&&r(d,g?g.concat(m):[m])}),i.pop()}}if(!re.isObject(t))throw new TypeError("data must be an object");return r(t),e}function Ga(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(u){return e[u]})}function Do(t,e){this._pairs=[],t&&Yr(t,this,e)}const Ou=Do.prototype;Ou.append=function(e,s){this._pairs.push([e,s])};Ou.toString=function(e){const s=e?function(u){return e.call(this,u,Ga)}:Ga;return this._pairs.map(function(p){return s(p[0])+"="+s(p[1])},"").join("&")};function Dm(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Eu(t,e,s){if(!e)return t;const u=s&&s.encode||Dm,p=s&&s.serialize;let v;if(p?v=p(e,s):v=re.isURLSearchParams(e)?e.toString():new Do(e,s).toString(u),v){const y=t.indexOf("#");y!==-1&&(t=t.slice(0,y)),t+=(t.indexOf("?")===-1?"?":"&")+v}return t}class Lm{constructor(){this.handlers=[]}use(e,s,u){return this.handlers.push({fulfilled:e,rejected:s,synchronous:u?u.synchronous:!1,runWhen:u?u.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(u){u!==null&&e(u)})}}const $a=Lm,Pu={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Rm=typeof URLSearchParams<"u"?URLSearchParams:Do,Im=typeof FormData<"u"?FormData:null,Bm=typeof Blob<"u"?Blob:null,jm=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Nm=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),lt={isBrowser:!0,classes:{URLSearchParams:Rm,FormData:Im,Blob:Bm},isStandardBrowserEnv:jm,isStandardBrowserWebWorkerEnv:Nm,protocols:["http","https","file","blob","url","data"]};function Hm(t,e){return Yr(t,new lt.classes.URLSearchParams,Object.assign({visitor:function(s,u,p,v){return lt.isNode&&re.isBuffer(s)?(this.append(u,s.toString("base64")),!1):v.defaultVisitor.apply(this,arguments)}},e))}function Wm(t){return re.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Um(t){const e={},s=Object.keys(t);let u;const p=s.length;let v;for(u=0;u<p;u++)v=s[u],e[v]=t[v];return e}function Au(t){function e(s,u,p,v){let y=s[v++];const f=Number.isFinite(+y),n=v>=s.length;return y=!y&&re.isArray(p)?p.length:y,n?(re.hasOwnProp(p,y)?p[y]=[p[y],u]:p[y]=u,!f):((!p[y]||!re.isObject(p[y]))&&(p[y]=[]),e(s,u,p[y],v)&&re.isArray(p[y])&&(p[y]=Um(p[y])),!f)}if(re.isFormData(t)&&re.isFunction(t.entries)){const s={};return re.forEachEntry(t,(u,p)=>{e(Wm(u),p,s,0)}),s}return null}function Vm(t,e,s){if(re.isString(t))try{return(e||JSON.parse)(t),re.trim(t)}catch(u){if(u.name!=="SyntaxError")throw u}return(s||JSON.stringify)(t)}const Lo={transitional:Pu,adapter:lt.isNode?"http":"xhr",transformRequest:[function(e,s){const u=s.getContentType()||"",p=u.indexOf("application/json")>-1,v=re.isObject(e);if(v&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return p&&p?JSON.stringify(Au(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(v){if(u.indexOf("application/x-www-form-urlencoded")>-1)return Hm(e,this.formSerializer).toString();if((f=re.isFileList(e))||u.indexOf("multipart/form-data")>-1){const n=this.env&&this.env.FormData;return Yr(f?{"files[]":e}:e,n&&new n,this.formSerializer)}}return v||p?(s.setContentType("application/json",!1),Vm(e)):e}],transformResponse:[function(e){const s=this.transitional||Lo.transitional,u=s&&s.forcedJSONParsing,p=this.responseType==="json";if(e&&re.isString(e)&&(u&&!this.responseType||p)){const y=!(s&&s.silentJSONParsing)&&p;try{return JSON.parse(e)}catch(f){if(y)throw f.name==="SyntaxError"?_e.from(f,_e.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:lt.classes.FormData,Blob:lt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],t=>{Lo.headers[t]={}});const Ro=Lo,Xm=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zm=t=>{const e={};let s,u,p;return t&&t.split(`
`).forEach(function(y){p=y.indexOf(":"),s=y.substring(0,p).trim().toLowerCase(),u=y.substring(p+1).trim(),!(!s||e[s]&&Xm[s])&&(s==="set-cookie"?e[s]?e[s].push(u):e[s]=[u]:e[s]=e[s]?e[s]+", "+u:u)}),e},qa=Symbol("internals");function qi(t){return t&&String(t).trim().toLowerCase()}function er(t){return t===!1||t==null?t:re.isArray(t)?t.map(er):String(t)}function Ym(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let u;for(;u=s.exec(t);)e[u[1]]=u[2];return e}const Gm=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function os(t,e,s,u,p){if(re.isFunction(u))return u.call(this,e,s);if(p&&(e=s),!!re.isString(e)){if(re.isString(u))return e.indexOf(u)!==-1;if(re.isRegExp(u))return u.test(e)}}function $m(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,u)=>s.toUpperCase()+u)}function qm(t,e){const s=re.toCamelCase(" "+e);["get","set","has"].forEach(u=>{Object.defineProperty(t,u+s,{value:function(p,v,y){return this[u].call(this,e,p,v,y)},configurable:!0})})}class Gr{constructor(e){e&&this.set(e)}set(e,s,u){const p=this;function v(f,n,c){const h=qi(n);if(!h)throw new Error("header name must be a non-empty string");const i=re.findKey(p,h);(!i||p[i]===void 0||c===!0||c===void 0&&p[i]!==!1)&&(p[i||n]=er(f))}const y=(f,n)=>re.forEach(f,(c,h)=>v(c,h,n));return re.isPlainObject(e)||e instanceof this.constructor?y(e,s):re.isString(e)&&(e=e.trim())&&!Gm(e)?y(zm(e),s):e!=null&&v(s,e,u),this}get(e,s){if(e=qi(e),e){const u=re.findKey(this,e);if(u){const p=this[u];if(!s)return p;if(s===!0)return Ym(p);if(re.isFunction(s))return s.call(this,p,u);if(re.isRegExp(s))return s.exec(p);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=qi(e),e){const u=re.findKey(this,e);return!!(u&&this[u]!==void 0&&(!s||os(this,this[u],u,s)))}return!1}delete(e,s){const u=this;let p=!1;function v(y){if(y=qi(y),y){const f=re.findKey(u,y);f&&(!s||os(u,u[f],f,s))&&(delete u[f],p=!0)}}return re.isArray(e)?e.forEach(v):v(e),p}clear(e){const s=Object.keys(this);let u=s.length,p=!1;for(;u--;){const v=s[u];(!e||os(this,this[v],v,e,!0))&&(delete this[v],p=!0)}return p}normalize(e){const s=this,u={};return re.forEach(this,(p,v)=>{const y=re.findKey(u,v);if(y){s[y]=er(p),delete s[v];return}const f=e?$m(v):String(v).trim();f!==v&&delete s[v],s[f]=er(p),u[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return re.forEach(this,(u,p)=>{u!=null&&u!==!1&&(s[p]=e&&re.isArray(u)?u.join(", "):u)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const u=new this(e);return s.forEach(p=>u.set(p)),u}static accessor(e){const u=(this[qa]=this[qa]={accessors:{}}).accessors,p=this.prototype;function v(y){const f=qi(y);u[f]||(qm(p,y),u[f]=!0)}return re.isArray(e)?e.forEach(v):v(e),this}}Gr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(Gr.prototype,({value:t},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(u){this[s]=u}}});re.freezeMethods(Gr);const Pt=Gr;function as(t,e){const s=this||Ro,u=e||s,p=Pt.from(u.headers);let v=u.data;return re.forEach(t,function(f){v=f.call(s,v,p.normalize(),e?e.status:void 0)}),p.normalize(),v}function ku(t){return!!(t&&t.__CANCEL__)}function Dn(t,e,s){_e.call(this,t??"canceled",_e.ERR_CANCELED,e,s),this.name="CanceledError"}re.inherits(Dn,_e,{__CANCEL__:!0});function Km(t,e,s){const u=s.config.validateStatus;!s.status||!u||u(s.status)?t(s):e(new _e("Request failed with status code "+s.status,[_e.ERR_BAD_REQUEST,_e.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}const Jm=lt.isStandardBrowserEnv?function(){return{write:function(s,u,p,v,y,f){const n=[];n.push(s+"="+encodeURIComponent(u)),re.isNumber(p)&&n.push("expires="+new Date(p).toGMTString()),re.isString(v)&&n.push("path="+v),re.isString(y)&&n.push("domain="+y),f===!0&&n.push("secure"),document.cookie=n.join("; ")},read:function(s){const u=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return u?decodeURIComponent(u[3]):null},remove:function(s){this.write(s,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Qm(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Zm(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function Mu(t,e){return t&&!Qm(e)?Zm(t,e):e}const ev=lt.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let u;function p(v){let y=v;return e&&(s.setAttribute("href",y),y=s.href),s.setAttribute("href",y),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return u=p(window.location.href),function(y){const f=re.isString(y)?p(y):y;return f.protocol===u.protocol&&f.host===u.host}}():function(){return function(){return!0}}();function tv(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function iv(t,e){t=t||10;const s=new Array(t),u=new Array(t);let p=0,v=0,y;return e=e!==void 0?e:1e3,function(n){const c=Date.now(),h=u[v];y||(y=c),s[p]=n,u[p]=c;let i=v,o=0;for(;i!==p;)o+=s[i++],i=i%t;if(p=(p+1)%t,p===v&&(v=(v+1)%t),c-y<e)return;const r=h&&c-h;return r?Math.round(o*1e3/r):void 0}}function Ka(t,e){let s=0;const u=iv(50,250);return p=>{const v=p.loaded,y=p.lengthComputable?p.total:void 0,f=v-s,n=u(f),c=v<=y;s=v;const h={loaded:v,total:y,progress:y?v/y:void 0,bytes:f,rate:n||void 0,estimated:n&&y&&c?(y-v)/n:void 0,event:p};h[e?"download":"upload"]=!0,t(h)}}const nv=typeof XMLHttpRequest<"u",rv=nv&&function(t){return new Promise(function(s,u){let p=t.data;const v=Pt.from(t.headers).normalize(),y=t.responseType;let f;function n(){t.cancelToken&&t.cancelToken.unsubscribe(f),t.signal&&t.signal.removeEventListener("abort",f)}re.isFormData(p)&&(lt.isStandardBrowserEnv||lt.isStandardBrowserWebWorkerEnv?v.setContentType(!1):v.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(t.auth){const r=t.auth.username||"",a=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";v.set("Authorization","Basic "+btoa(r+":"+a))}const h=Mu(t.baseURL,t.url);c.open(t.method.toUpperCase(),Eu(h,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function i(){if(!c)return;const r=Pt.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),g={data:!y||y==="text"||y==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:r,config:t,request:c};Km(function(d){s(d),n()},function(d){u(d),n()},g),c=null}if("onloadend"in c?c.onloadend=i:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(i)},c.onabort=function(){c&&(u(new _e("Request aborted",_e.ECONNABORTED,t,c)),c=null)},c.onerror=function(){u(new _e("Network Error",_e.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let a=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const g=t.transitional||Pu;t.timeoutErrorMessage&&(a=t.timeoutErrorMessage),u(new _e(a,g.clarifyTimeoutError?_e.ETIMEDOUT:_e.ECONNABORTED,t,c)),c=null},lt.isStandardBrowserEnv){const r=(t.withCredentials||ev(h))&&t.xsrfCookieName&&Jm.read(t.xsrfCookieName);r&&v.set(t.xsrfHeaderName,r)}p===void 0&&v.setContentType(null),"setRequestHeader"in c&&re.forEach(v.toJSON(),function(a,g){c.setRequestHeader(g,a)}),re.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),y&&y!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",Ka(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",Ka(t.onUploadProgress)),(t.cancelToken||t.signal)&&(f=r=>{c&&(u(!r||r.type?new Dn(null,t,c):r),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(f),t.signal&&(t.signal.aborted?f():t.signal.addEventListener("abort",f)));const o=tv(h);if(o&&lt.protocols.indexOf(o)===-1){u(new _e("Unsupported protocol "+o+":",_e.ERR_BAD_REQUEST,t));return}c.send(p||null)})},tr={http:km,xhr:rv};re.forEach(tr,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Fu={getAdapter:t=>{t=re.isArray(t)?t:[t];const{length:e}=t;let s,u;for(let p=0;p<e&&(s=t[p],!(u=re.isString(s)?tr[s.toLowerCase()]:s));p++);if(!u)throw u===!1?new _e(`Adapter ${s} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(re.hasOwnProp(tr,s)?`Adapter '${s}' is not available in the build`:`Unknown adapter '${s}'`);if(!re.isFunction(u))throw new TypeError("adapter is not a function");return u},adapters:tr};function ls(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Dn(null,t)}function Ja(t){return ls(t),t.headers=Pt.from(t.headers),t.data=as.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Fu.getAdapter(t.adapter||Ro.adapter)(t).then(function(u){return ls(t),u.data=as.call(t,t.transformResponse,u),u.headers=Pt.from(u.headers),u},function(u){return ku(u)||(ls(t),u&&u.response&&(u.response.data=as.call(t,t.transformResponse,u.response),u.response.headers=Pt.from(u.response.headers))),Promise.reject(u)})}const Qa=t=>t instanceof Pt?t.toJSON():t;function Hi(t,e){e=e||{};const s={};function u(c,h,i){return re.isPlainObject(c)&&re.isPlainObject(h)?re.merge.call({caseless:i},c,h):re.isPlainObject(h)?re.merge({},h):re.isArray(h)?h.slice():h}function p(c,h,i){if(re.isUndefined(h)){if(!re.isUndefined(c))return u(void 0,c,i)}else return u(c,h,i)}function v(c,h){if(!re.isUndefined(h))return u(void 0,h)}function y(c,h){if(re.isUndefined(h)){if(!re.isUndefined(c))return u(void 0,c)}else return u(void 0,h)}function f(c,h,i){if(i in e)return u(c,h);if(i in t)return u(void 0,c)}const n={url:v,method:v,data:v,baseURL:y,transformRequest:y,transformResponse:y,paramsSerializer:y,timeout:y,timeoutMessage:y,withCredentials:y,adapter:y,responseType:y,xsrfCookieName:y,xsrfHeaderName:y,onUploadProgress:y,onDownloadProgress:y,decompress:y,maxContentLength:y,maxBodyLength:y,beforeRedirect:y,transport:y,httpAgent:y,httpsAgent:y,cancelToken:y,socketPath:y,responseEncoding:y,validateStatus:f,headers:(c,h)=>p(Qa(c),Qa(h),!0)};return re.forEach(Object.keys(Object.assign({},t,e)),function(h){const i=n[h]||p,o=i(t[h],e[h],h);re.isUndefined(o)&&i!==f||(s[h]=o)}),s}const Du="1.5.0",Io={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Io[t]=function(u){return typeof u===t||"a"+(e<1?"n ":" ")+t}});const Za={};Io.transitional=function(e,s,u){function p(v,y){return"[Axios v"+Du+"] Transitional option '"+v+"'"+y+(u?". "+u:"")}return(v,y,f)=>{if(e===!1)throw new _e(p(y," has been removed"+(s?" in "+s:"")),_e.ERR_DEPRECATED);return s&&!Za[y]&&(Za[y]=!0,console.warn(p(y," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(v,y,f):!0}};function sv(t,e,s){if(typeof t!="object")throw new _e("options must be an object",_e.ERR_BAD_OPTION_VALUE);const u=Object.keys(t);let p=u.length;for(;p-- >0;){const v=u[p],y=e[v];if(y){const f=t[v],n=f===void 0||y(f,v,t);if(n!==!0)throw new _e("option "+v+" must be "+n,_e.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new _e("Unknown option "+v,_e.ERR_BAD_OPTION)}}const Ns={assertOptions:sv,validators:Io},Rt=Ns.validators;class _r{constructor(e){this.defaults=e,this.interceptors={request:new $a,response:new $a}}request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=Hi(this.defaults,s);const{transitional:u,paramsSerializer:p,headers:v}=s;u!==void 0&&Ns.assertOptions(u,{silentJSONParsing:Rt.transitional(Rt.boolean),forcedJSONParsing:Rt.transitional(Rt.boolean),clarifyTimeoutError:Rt.transitional(Rt.boolean)},!1),p!=null&&(re.isFunction(p)?s.paramsSerializer={serialize:p}:Ns.assertOptions(p,{encode:Rt.function,serialize:Rt.function},!0)),s.method=(s.method||this.defaults.method||"get").toLowerCase();let y=v&&re.merge(v.common,v[s.method]);v&&re.forEach(["delete","get","head","post","put","patch","common"],a=>{delete v[a]}),s.headers=Pt.concat(y,v);const f=[];let n=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(s)===!1||(n=n&&g.synchronous,f.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let h,i=0,o;if(!n){const a=[Ja.bind(this),void 0];for(a.unshift.apply(a,f),a.push.apply(a,c),o=a.length,h=Promise.resolve(s);i<o;)h=h.then(a[i++],a[i++]);return h}o=f.length;let r=s;for(i=0;i<o;){const a=f[i++],g=f[i++];try{r=a(r)}catch(l){g.call(this,l);break}}try{h=Ja.call(this,r)}catch(a){return Promise.reject(a)}for(i=0,o=c.length;i<o;)h=h.then(c[i++],c[i++]);return h}getUri(e){e=Hi(this.defaults,e);const s=Mu(e.baseURL,e.url);return Eu(s,e.params,e.paramsSerializer)}}re.forEach(["delete","get","head","options"],function(e){_r.prototype[e]=function(s,u){return this.request(Hi(u||{},{method:e,url:s,data:(u||{}).data}))}});re.forEach(["post","put","patch"],function(e){function s(u){return function(v,y,f){return this.request(Hi(f||{},{method:e,headers:u?{"Content-Type":"multipart/form-data"}:{},url:v,data:y}))}}_r.prototype[e]=s(),_r.prototype[e+"Form"]=s(!0)});const ir=_r;class Bo{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(v){s=v});const u=this;this.promise.then(p=>{if(!u._listeners)return;let v=u._listeners.length;for(;v-- >0;)u._listeners[v](p);u._listeners=null}),this.promise.then=p=>{let v;const y=new Promise(f=>{u.subscribe(f),v=f}).then(p);return y.cancel=function(){u.unsubscribe(v)},y},e(function(v,y,f){u.reason||(u.reason=new Dn(v,y,f),s(u.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}static source(){let e;return{token:new Bo(function(p){e=p}),cancel:e}}}const ov=Bo;function av(t){return function(s){return t.apply(null,s)}}function lv(t){return re.isObject(t)&&t.isAxiosError===!0}const Hs={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hs).forEach(([t,e])=>{Hs[e]=t});const cv=Hs;function Lu(t){const e=new ir(t),s=pu(ir.prototype.request,e);return re.extend(s,ir.prototype,e,{allOwnKeys:!0}),re.extend(s,e,null,{allOwnKeys:!0}),s.create=function(p){return Lu(Hi(t,p))},s}const Be=Lu(Ro);Be.Axios=ir;Be.CanceledError=Dn;Be.CancelToken=ov;Be.isCancel=ku;Be.VERSION=Du;Be.toFormData=Yr;Be.AxiosError=_e;Be.Cancel=Be.CanceledError;Be.all=function(e){return Promise.all(e)};Be.spread=av;Be.isAxiosError=lv;Be.mergeConfig=Hi;Be.AxiosHeaders=Pt;Be.formToJSON=t=>Au(re.isHTMLForm(t)?new FormData(t):t);Be.getAdapter=Fu.getAdapter;Be.HttpStatusCode=cv;Be.default=Be;const Gn=Be,uv={apiBaseUrl:"https://documents.zdorovie-plus.com/api/"},Ws={apiBaseUrl:uv.apiBaseUrl,get(t,e={}){return Gn.get(this.apiBaseUrl+t,{params:{...e}})},getLocalJson(t){return Gn.get(t)},sendForm(t,e={}){return Gn.post(this.apiBaseUrl+t,e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},postJson(t,e){return Gn.post(this.apiBaseUrl+t,e,{headers:{"Content-Type":"application/json"}})}},jo=Sg("tablet",()=>{const t=me(null),e=me(!1),s=me(!1);function u(){e.value=!0}function p(){e.value=!1}const v=me(!0);function y(F){v.value=F}const f=me(null),n=me(null),c=me(null);function h(F){f.value=F}const i=me(null),o=me(""),r=me({}),a=me(null);function g(F,V){r.value[F]=V}function l(F){a.value=F}const d=Fe(()=>Object.values(r.value).length),m=Fe(()=>Object.values(r.value).filter(F=>F).length),b=Fe(()=>d.value-m.value===0),_=me("");uo(()=>{const F="{место_для_подписи}",V=o.value.split(F);_.value=V.map((L,D,G)=>{const z=D+1;if(z<G.length){const Z=`signature_${z}`,te=`<button class="btn btn--white" type="button" data-signature="${Z}">Подписать</button>`,se=`<button class="btn btn--white btn--signed" type="button" data-signature="${Z}">Подписано</button>`;return r.value[Z]?L+se:(g(Z,null),L+te)}else return L}).join("")});function C(){i.value===null&&!s.value&&(u(),s.value=!0,Ws.get("get-documents",{tablet_id:f.value}).then(F=>{s.value=!1;const{error:V,error_message:L,data:D}=F.data;if(w(V),V)console.error(V,L);else if(D.length){const[G]=D.reverse();i.value=G.document_id,o.value=G.content,n.value=G.patient_name,c.value=G.patient_birthday}}).finally(()=>p()))}function S(){i.value=null,o.value="",r.value={},a.value=null,n.value=null,c.value=null}function w(F){t.value=F}function x(){t.value=null}return{setErrorCode:w,clearErrorCode:x,isLoading:e,isDocumentsLoading:s,setLoadingOn:u,setLoadingOff:p,tabletId:f,patientName:n,patientBirthday:c,setTabletId:h,updateOnDemand:v,setUpdateOnDemand:y,documentId:i,documentLayout:o,documentSignatures:r,currentSignatureId:a,setSignature:g,setCurrentSignatureId:l,processedLayout:_,totalSignatures:d,completedSignatures:m,isAllSigned:b,getDocumentData:C,clearDocumentData:S}});var fv=typeof global=="object"&&global&&global.Object===Object&&global;const hv=fv;var dv=typeof self=="object"&&self&&self.Object===Object&&self,gv=hv||dv||Function("return this")();const Ru=gv;var pv=Ru.Symbol;const Cr=pv;var Iu=Object.prototype,mv=Iu.hasOwnProperty,vv=Iu.toString,Ki=Cr?Cr.toStringTag:void 0;function yv(t){var e=mv.call(t,Ki),s=t[Ki];try{t[Ki]=void 0;var u=!0}catch{}var p=vv.call(t);return u&&(e?t[Ki]=s:delete t[Ki]),p}var bv=Object.prototype,_v=bv.toString;function Cv(t){return _v.call(t)}var Sv="[object Null]",wv="[object Undefined]",el=Cr?Cr.toStringTag:void 0;function xv(t){return t==null?t===void 0?wv:Sv:el&&el in Object(t)?yv(t):Cv(t)}function Tv(t){return t!=null&&typeof t=="object"}var Ov="[object Symbol]";function Ev(t){return typeof t=="symbol"||Tv(t)&&xv(t)==Ov}var Pv=/\s/;function Av(t){for(var e=t.length;e--&&Pv.test(t.charAt(e)););return e}var kv=/^\s+/;function Mv(t){return t&&t.slice(0,Av(t)+1).replace(kv,"")}function Sr(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var tl=0/0,Fv=/^[-+]0x[0-9a-f]+$/i,Dv=/^0b[01]+$/i,Lv=/^0o[0-7]+$/i,Rv=parseInt;function il(t){if(typeof t=="number")return t;if(Ev(t))return tl;if(Sr(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Sr(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Mv(t);var s=Dv.test(t);return s||Lv.test(t)?Rv(t.slice(2),s?2:8):Fv.test(t)?tl:+t}var Iv=function(){return Ru.Date.now()};const cs=Iv;var Bv="Expected a function",jv=Math.max,Nv=Math.min;function nr(t,e,s){var u,p,v,y,f,n,c=0,h=!1,i=!1,o=!0;if(typeof t!="function")throw new TypeError(Bv);e=il(e)||0,Sr(s)&&(h=!!s.leading,i="maxWait"in s,v=i?jv(il(s.maxWait)||0,e):v,o="trailing"in s?!!s.trailing:o);function r(S){var w=u,x=p;return u=p=void 0,c=S,y=t.apply(x,w),y}function a(S){return c=S,f=setTimeout(d,e),h?r(S):y}function g(S){var w=S-n,x=S-c,F=e-w;return i?Nv(F,v-x):F}function l(S){var w=S-n,x=S-c;return n===void 0||w>=e||w<0||i&&x>=v}function d(){var S=cs();if(l(S))return m(S);f=setTimeout(d,g(S))}function m(S){return f=void 0,o&&u?r(S):(u=p=void 0,y)}function b(){f!==void 0&&clearTimeout(f),c=0,u=n=p=f=void 0}function _(){return f===void 0?y:m(cs())}function C(){var S=cs(),w=l(S);if(u=arguments,p=this,n=S,w){if(f===void 0)return a(n);if(i)return clearTimeout(f),f=setTimeout(d,e),r(n)}return f===void 0&&(f=setTimeout(d,e)),y}return C.cancel=b,C.flush=_,C}var Hv="Expected a function";function Wv(t,e,s){var u=!0,p=!0;if(typeof t!="function")throw new TypeError(Hv);return Sr(s)&&(u="leading"in s?!!s.leading:u,p="trailing"in s?!!s.trailing:p),nr(t,e,{leading:u,maxWait:e,trailing:p})}var Uv=!!(typeof window<"u"&&window.document&&window.document.createElement),Vv=Uv;const Bu=Gp(Vv);var Ai=function(){return Ai=Object.assign||function(e){for(var s,u=1,p=arguments.length;u<p;u++){s=arguments[u];for(var v in s)Object.prototype.hasOwnProperty.call(s,v)&&(e[v]=s[v])}return e},Ai.apply(this,arguments)},Ei=null,nl=null;Bu&&window.addEventListener("resize",function(){nl!==window.devicePixelRatio&&(nl=window.devicePixelRatio,Ei=null)});function rl(){if(Ei===null){if(typeof document>"u")return Ei=0,Ei;var t=document.body,e=document.createElement("div");e.classList.add("simplebar-hide-scrollbar"),t.appendChild(e);var s=e.getBoundingClientRect().right;t.removeChild(e),Ei=s}return Ei}function ju(t){return!t||!t.ownerDocument||!t.ownerDocument.defaultView?window:t.ownerDocument.defaultView}function Nu(t){return!t||!t.ownerDocument?document:t.ownerDocument}var Hu=function(t){var e={},s=Array.prototype.reduce.call(t,function(u,p){var v=p.name.match(/data-simplebar-(.+)/);if(v){var y=v[1].replace(/\W+(.)/g,function(f,n){return n.toUpperCase()});switch(p.value){case"true":u[y]=!0;break;case"false":u[y]=!1;break;case void 0:u[y]=!0;break;default:u[y]=p.value}}return u},e);return s};function Wu(t,e){var s;t&&(s=t.classList).add.apply(s,e.split(" "))}function Uu(t,e){t&&e.split(" ").forEach(function(s){t.classList.remove(s)})}function Vu(t){return".".concat(t.split(" ").join("."))}var Xv=Object.freeze({__proto__:null,getElementWindow:ju,getElementDocument:Nu,getOptions:Hu,addClasses:Wu,removeClasses:Uu,classNamesToQuery:Vu}),It=ju,us=Nu,zv=Hu,Bt=Wu,jt=Uu,Ye=Vu,wr=function(){function t(e,s){s===void 0&&(s={});var u=this;if(this.removePreventClickId=null,this.minScrollbarWidth=20,this.stopScrollDelay=175,this.isScrolling=!1,this.isMouseEntering=!1,this.scrollXTicking=!1,this.scrollYTicking=!1,this.wrapperEl=null,this.contentWrapperEl=null,this.contentEl=null,this.offsetEl=null,this.maskEl=null,this.placeholderEl=null,this.heightAutoObserverWrapperEl=null,this.heightAutoObserverEl=null,this.rtlHelpers=null,this.scrollbarWidth=0,this.resizeObserver=null,this.mutationObserver=null,this.elStyles=null,this.isRtl=null,this.mouseX=0,this.mouseY=0,this.onMouseMove=function(){},this.onWindowResize=function(){},this.onStopScrolling=function(){},this.onMouseEntered=function(){},this.onScroll=function(){var p=It(u.el);u.scrollXTicking||(p.requestAnimationFrame(u.scrollX),u.scrollXTicking=!0),u.scrollYTicking||(p.requestAnimationFrame(u.scrollY),u.scrollYTicking=!0),u.isScrolling||(u.isScrolling=!0,Bt(u.el,u.classNames.scrolling)),u.showScrollbar("x"),u.showScrollbar("y"),u.onStopScrolling()},this.scrollX=function(){u.axis.x.isOverflowing&&u.positionScrollbar("x"),u.scrollXTicking=!1},this.scrollY=function(){u.axis.y.isOverflowing&&u.positionScrollbar("y"),u.scrollYTicking=!1},this._onStopScrolling=function(){jt(u.el,u.classNames.scrolling),u.options.autoHide&&(u.hideScrollbar("x"),u.hideScrollbar("y")),u.isScrolling=!1},this.onMouseEnter=function(){u.isMouseEntering||(Bt(u.el,u.classNames.mouseEntered),u.showScrollbar("x"),u.showScrollbar("y"),u.isMouseEntering=!0),u.onMouseEntered()},this._onMouseEntered=function(){jt(u.el,u.classNames.mouseEntered),u.options.autoHide&&(u.hideScrollbar("x"),u.hideScrollbar("y")),u.isMouseEntering=!1},this._onMouseMove=function(p){u.mouseX=p.clientX,u.mouseY=p.clientY,(u.axis.x.isOverflowing||u.axis.x.forceVisible)&&u.onMouseMoveForAxis("x"),(u.axis.y.isOverflowing||u.axis.y.forceVisible)&&u.onMouseMoveForAxis("y")},this.onMouseLeave=function(){u.onMouseMove.cancel(),(u.axis.x.isOverflowing||u.axis.x.forceVisible)&&u.onMouseLeaveForAxis("x"),(u.axis.y.isOverflowing||u.axis.y.forceVisible)&&u.onMouseLeaveForAxis("y"),u.mouseX=-1,u.mouseY=-1},this._onWindowResize=function(){u.scrollbarWidth=u.getScrollbarWidth(),u.hideNativeScrollbar()},this.onPointerEvent=function(p){if(!(!u.axis.x.track.el||!u.axis.y.track.el||!u.axis.x.scrollbar.el||!u.axis.y.scrollbar.el)){var v,y;u.axis.x.track.rect=u.axis.x.track.el.getBoundingClientRect(),u.axis.y.track.rect=u.axis.y.track.el.getBoundingClientRect(),(u.axis.x.isOverflowing||u.axis.x.forceVisible)&&(v=u.isWithinBounds(u.axis.x.track.rect)),(u.axis.y.isOverflowing||u.axis.y.forceVisible)&&(y=u.isWithinBounds(u.axis.y.track.rect)),(v||y)&&(p.stopPropagation(),p.type==="pointerdown"&&p.pointerType!=="touch"&&(v&&(u.axis.x.scrollbar.rect=u.axis.x.scrollbar.el.getBoundingClientRect(),u.isWithinBounds(u.axis.x.scrollbar.rect)?u.onDragStart(p,"x"):u.onTrackClick(p,"x")),y&&(u.axis.y.scrollbar.rect=u.axis.y.scrollbar.el.getBoundingClientRect(),u.isWithinBounds(u.axis.y.scrollbar.rect)?u.onDragStart(p,"y"):u.onTrackClick(p,"y"))))}},this.drag=function(p){var v,y,f,n,c,h,i,o,r,a,g;if(!(!u.draggedAxis||!u.contentWrapperEl)){var l,d=u.axis[u.draggedAxis].track,m=(y=(v=d.rect)===null||v===void 0?void 0:v[u.axis[u.draggedAxis].sizeAttr])!==null&&y!==void 0?y:0,b=u.axis[u.draggedAxis].scrollbar,_=(n=(f=u.contentWrapperEl)===null||f===void 0?void 0:f[u.axis[u.draggedAxis].scrollSizeAttr])!==null&&n!==void 0?n:0,C=parseInt((h=(c=u.elStyles)===null||c===void 0?void 0:c[u.axis[u.draggedAxis].sizeAttr])!==null&&h!==void 0?h:"0px",10);p.preventDefault(),p.stopPropagation(),u.draggedAxis==="y"?l=p.pageY:l=p.pageX;var S=l-((o=(i=d.rect)===null||i===void 0?void 0:i[u.axis[u.draggedAxis].offsetAttr])!==null&&o!==void 0?o:0)-u.axis[u.draggedAxis].dragOffset;S=u.draggedAxis==="x"&&u.isRtl?((a=(r=d.rect)===null||r===void 0?void 0:r[u.axis[u.draggedAxis].sizeAttr])!==null&&a!==void 0?a:0)-b.size-S:S;var w=S/(m-b.size),x=w*(_-C);u.draggedAxis==="x"&&u.isRtl&&(x=!((g=t.getRtlHelpers())===null||g===void 0)&&g.isScrollingToNegative?-x:x),u.contentWrapperEl[u.axis[u.draggedAxis].scrollOffsetAttr]=x}},this.onEndDrag=function(p){var v=us(u.el),y=It(u.el);p.preventDefault(),p.stopPropagation(),jt(u.el,u.classNames.dragging),v.removeEventListener("mousemove",u.drag,!0),v.removeEventListener("mouseup",u.onEndDrag,!0),u.removePreventClickId=y.setTimeout(function(){v.removeEventListener("click",u.preventClick,!0),v.removeEventListener("dblclick",u.preventClick,!0),u.removePreventClickId=null})},this.preventClick=function(p){p.preventDefault(),p.stopPropagation()},this.el=e,this.options=Ai(Ai({},t.defaultOptions),s),this.classNames=Ai(Ai({},t.defaultOptions.classNames),s.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}}},typeof this.el!="object"||!this.el.nodeName)throw new Error("Argument passed to SimpleBar must be an HTML element instead of ".concat(this.el));this.onMouseMove=Wv(this._onMouseMove,64),this.onWindowResize=nr(this._onWindowResize,64,{leading:!0}),this.onStopScrolling=nr(this._onStopScrolling,this.stopScrollDelay),this.onMouseEntered=nr(this._onMouseEntered,this.stopScrollDelay),this.init()}return t.getRtlHelpers=function(){if(t.rtlHelpers)return t.rtlHelpers;var e=document.createElement("div");e.innerHTML='<div class="simplebar-dummy-scrollbar-size"><div></div></div>';var s=e.firstElementChild,u=s==null?void 0:s.firstElementChild;if(!u)return null;document.body.appendChild(s),s.scrollLeft=0;var p=t.getOffset(s),v=t.getOffset(u);s.scrollLeft=-999;var y=t.getOffset(u);return document.body.removeChild(s),t.rtlHelpers={isScrollOriginAtZero:p.left!==v.left,isScrollingToNegative:v.left!==y.left},t.rtlHelpers},t.prototype.getScrollbarWidth=function(){try{return this.contentWrapperEl&&getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display==="none"||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:rl()}catch{return rl()}},t.getOffset=function(e){var s=e.getBoundingClientRect(),u=us(e),p=It(e);return{top:s.top+(p.pageYOffset||u.documentElement.scrollTop),left:s.left+(p.pageXOffset||u.documentElement.scrollLeft)}},t.prototype.init=function(){Bu&&(this.initDOM(),this.rtlHelpers=t.getRtlHelpers(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},t.prototype.initDOM=function(){var e,s;this.wrapperEl=this.el.querySelector(Ye(this.classNames.wrapper)),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector(Ye(this.classNames.contentWrapper)),this.contentEl=this.options.contentNode||this.el.querySelector(Ye(this.classNames.contentEl)),this.offsetEl=this.el.querySelector(Ye(this.classNames.offset)),this.maskEl=this.el.querySelector(Ye(this.classNames.mask)),this.placeholderEl=this.findChild(this.wrapperEl,Ye(this.classNames.placeholder)),this.heightAutoObserverWrapperEl=this.el.querySelector(Ye(this.classNames.heightAutoObserverWrapperEl)),this.heightAutoObserverEl=this.el.querySelector(Ye(this.classNames.heightAutoObserverEl)),this.axis.x.track.el=this.findChild(this.el,"".concat(Ye(this.classNames.track)).concat(Ye(this.classNames.horizontal))),this.axis.y.track.el=this.findChild(this.el,"".concat(Ye(this.classNames.track)).concat(Ye(this.classNames.vertical))),this.axis.x.scrollbar.el=((e=this.axis.x.track.el)===null||e===void 0?void 0:e.querySelector(Ye(this.classNames.scrollbar)))||null,this.axis.y.scrollbar.el=((s=this.axis.y.track.el)===null||s===void 0?void 0:s.querySelector(Ye(this.classNames.scrollbar)))||null,this.options.autoHide||(Bt(this.axis.x.scrollbar.el,this.classNames.visible),Bt(this.axis.y.scrollbar.el,this.classNames.visible))},t.prototype.initListeners=function(){var e=this,s,u=It(this.el);if(this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("pointerdown",this.onPointerEvent,!0),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),(s=this.contentWrapperEl)===null||s===void 0||s.addEventListener("scroll",this.onScroll),u.addEventListener("resize",this.onWindowResize),!!this.contentEl){if(window.ResizeObserver){var p=!1,v=u.ResizeObserver||ResizeObserver;this.resizeObserver=new v(function(){p&&u.requestAnimationFrame(function(){e.recalculate()})}),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),u.requestAnimationFrame(function(){p=!0})}this.mutationObserver=new u.MutationObserver(function(){u.requestAnimationFrame(function(){e.recalculate()})}),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})}},t.prototype.recalculate=function(){if(!(!this.heightAutoObserverEl||!this.contentEl||!this.contentWrapperEl||!this.wrapperEl||!this.placeholderEl)){var e=It(this.el);this.elStyles=e.getComputedStyle(this.el),this.isRtl=this.elStyles.direction==="rtl";var s=this.contentEl.offsetWidth,u=this.heightAutoObserverEl.offsetHeight<=1,p=this.heightAutoObserverEl.offsetWidth<=1||s>0,v=this.contentWrapperEl.offsetWidth,y=this.elStyles.overflowX,f=this.elStyles.overflowY;this.contentEl.style.padding="".concat(this.elStyles.paddingTop," ").concat(this.elStyles.paddingRight," ").concat(this.elStyles.paddingBottom," ").concat(this.elStyles.paddingLeft),this.wrapperEl.style.margin="-".concat(this.elStyles.paddingTop," -").concat(this.elStyles.paddingRight," -").concat(this.elStyles.paddingBottom," -").concat(this.elStyles.paddingLeft);var n=this.contentEl.scrollHeight,c=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=u?"auto":"100%",this.placeholderEl.style.width=p?"".concat(s||c,"px"):"auto",this.placeholderEl.style.height="".concat(n,"px");var h=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=s!==0&&c>s,this.axis.y.isOverflowing=n>h,this.axis.x.isOverflowing=y==="hidden"?!1:this.axis.x.isOverflowing,this.axis.y.isOverflowing=f==="hidden"?!1:this.axis.y.isOverflowing,this.axis.x.forceVisible=this.options.forceVisible==="x"||this.options.forceVisible===!0,this.axis.y.forceVisible=this.options.forceVisible==="y"||this.options.forceVisible===!0,this.hideNativeScrollbar();var i=this.axis.x.isOverflowing?this.scrollbarWidth:0,o=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&c>v-o,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&n>h-i,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el&&(this.axis.x.scrollbar.el.style.width="".concat(this.axis.x.scrollbar.size,"px")),this.axis.y.scrollbar.el&&(this.axis.y.scrollbar.el.style.height="".concat(this.axis.y.scrollbar.size,"px")),this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")}},t.prototype.getScrollbarSize=function(e){var s,u;if(e===void 0&&(e="y"),!this.axis[e].isOverflowing||!this.contentEl)return 0;var p=this.contentEl[this.axis[e].scrollSizeAttr],v=(u=(s=this.axis[e].track.el)===null||s===void 0?void 0:s[this.axis[e].offsetSizeAttr])!==null&&u!==void 0?u:0,y=v/p,f;return f=Math.max(~~(y*v),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(f=Math.min(f,this.options.scrollbarMaxSize)),f},t.prototype.positionScrollbar=function(e){var s,u,p;e===void 0&&(e="y");var v=this.axis[e].scrollbar;if(!(!this.axis[e].isOverflowing||!this.contentWrapperEl||!v.el||!this.elStyles)){var y=this.contentWrapperEl[this.axis[e].scrollSizeAttr],f=((s=this.axis[e].track.el)===null||s===void 0?void 0:s[this.axis[e].offsetSizeAttr])||0,n=parseInt(this.elStyles[this.axis[e].sizeAttr],10),c=this.contentWrapperEl[this.axis[e].scrollOffsetAttr];c=e==="x"&&this.isRtl&&(!((u=t.getRtlHelpers())===null||u===void 0)&&u.isScrollOriginAtZero)?-c:c,e==="x"&&this.isRtl&&(c=!((p=t.getRtlHelpers())===null||p===void 0)&&p.isScrollingToNegative?c:-c);var h=c/(y-n),i=~~((f-v.size)*h);i=e==="x"&&this.isRtl?-i+(f-v.size):i,v.el.style.transform=e==="x"?"translate3d(".concat(i,"px, 0, 0)"):"translate3d(0, ".concat(i,"px, 0)")}},t.prototype.toggleTrackVisibility=function(e){e===void 0&&(e="y");var s=this.axis[e].track.el,u=this.axis[e].scrollbar.el;!s||!u||!this.contentWrapperEl||(this.axis[e].isOverflowing||this.axis[e].forceVisible?(s.style.visibility="visible",this.contentWrapperEl.style[this.axis[e].overflowAttr]="scroll",this.el.classList.add("".concat(this.classNames.scrollable,"-").concat(e))):(s.style.visibility="hidden",this.contentWrapperEl.style[this.axis[e].overflowAttr]="hidden",this.el.classList.remove("".concat(this.classNames.scrollable,"-").concat(e))),this.axis[e].isOverflowing?u.style.display="block":u.style.display="none")},t.prototype.showScrollbar=function(e){e===void 0&&(e="y"),this.axis[e].isOverflowing&&!this.axis[e].scrollbar.isVisible&&(Bt(this.axis[e].scrollbar.el,this.classNames.visible),this.axis[e].scrollbar.isVisible=!0)},t.prototype.hideScrollbar=function(e){e===void 0&&(e="y"),this.axis[e].isOverflowing&&this.axis[e].scrollbar.isVisible&&(jt(this.axis[e].scrollbar.el,this.classNames.visible),this.axis[e].scrollbar.isVisible=!1)},t.prototype.hideNativeScrollbar=function(){this.offsetEl&&(this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px",this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px")},t.prototype.onMouseMoveForAxis=function(e){e===void 0&&(e="y");var s=this.axis[e];!s.track.el||!s.scrollbar.el||(s.track.rect=s.track.el.getBoundingClientRect(),s.scrollbar.rect=s.scrollbar.el.getBoundingClientRect(),this.isWithinBounds(s.track.rect)?(this.showScrollbar(e),Bt(s.track.el,this.classNames.hover),this.isWithinBounds(s.scrollbar.rect)?Bt(s.scrollbar.el,this.classNames.hover):jt(s.scrollbar.el,this.classNames.hover)):(jt(s.track.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(e)))},t.prototype.onMouseLeaveForAxis=function(e){e===void 0&&(e="y"),jt(this.axis[e].track.el,this.classNames.hover),jt(this.axis[e].scrollbar.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(e)},t.prototype.onDragStart=function(e,s){var u;s===void 0&&(s="y");var p=us(this.el),v=It(this.el),y=this.axis[s].scrollbar,f=s==="y"?e.pageY:e.pageX;this.axis[s].dragOffset=f-(((u=y.rect)===null||u===void 0?void 0:u[this.axis[s].offsetAttr])||0),this.draggedAxis=s,Bt(this.el,this.classNames.dragging),p.addEventListener("mousemove",this.drag,!0),p.addEventListener("mouseup",this.onEndDrag,!0),this.removePreventClickId===null?(p.addEventListener("click",this.preventClick,!0),p.addEventListener("dblclick",this.preventClick,!0)):(v.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},t.prototype.onTrackClick=function(e,s){var u=this,p,v,y,f;s===void 0&&(s="y");var n=this.axis[s];if(!(!this.options.clickOnTrack||!n.scrollbar.el||!this.contentWrapperEl)){e.preventDefault();var c=It(this.el);this.axis[s].scrollbar.rect=n.scrollbar.el.getBoundingClientRect();var h=this.axis[s].scrollbar,i=(v=(p=h.rect)===null||p===void 0?void 0:p[this.axis[s].offsetAttr])!==null&&v!==void 0?v:0,o=parseInt((f=(y=this.elStyles)===null||y===void 0?void 0:y[this.axis[s].sizeAttr])!==null&&f!==void 0?f:"0px",10),r=this.contentWrapperEl[this.axis[s].scrollOffsetAttr],a=s==="y"?this.mouseY-i:this.mouseX-i,g=a<0?-1:1,l=g===-1?r-o:r+o,d=40,m=function(){u.contentWrapperEl&&(g===-1?r>l&&(r-=d,u.contentWrapperEl[u.axis[s].scrollOffsetAttr]=r,c.requestAnimationFrame(m)):r<l&&(r+=d,u.contentWrapperEl[u.axis[s].scrollOffsetAttr]=r,c.requestAnimationFrame(m)))};m()}},t.prototype.getContentElement=function(){return this.contentEl},t.prototype.getScrollElement=function(){return this.contentWrapperEl},t.prototype.removeListeners=function(){var e=It(this.el);this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("pointerdown",this.onPointerEvent,!0),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.onMouseMove.cancel(),this.onWindowResize.cancel(),this.onStopScrolling.cancel(),this.onMouseEntered.cancel()},t.prototype.unMount=function(){this.removeListeners()},t.prototype.isWithinBounds=function(e){return this.mouseX>=e.left&&this.mouseX<=e.left+e.width&&this.mouseY>=e.top&&this.mouseY<=e.top+e.height},t.prototype.findChild=function(e,s){var u=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return Array.prototype.filter.call(e.children,function(p){return u.call(p,s)})[0]},t.rtlHelpers=null,t.defaultOptions={forceVisible:!1,clickOnTrack:!0,scrollbarMinSize:25,scrollbarMaxSize:0,ariaLabel:"scrollable content",classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging",scrolling:"simplebar-scrolling",scrollable:"simplebar-scrollable",mouseEntered:"simplebar-mouse-entered"},scrollableNode:null,contentNode:null,autoHide:!0},t.getOptions=zv,t.helpers=Xv,t}(),oi=function(){return oi=Object.assign||function(e){for(var s,u=1,p=arguments.length;u<p;u++){s=arguments[u];for(var v in s)Object.prototype.hasOwnProperty.call(s,v)&&(e[v]=s[v])}return e},oi.apply(this,arguments)},Yv={beforeUnmount:"beforeUnmount",unmount:"unmount"},Ji;function Gv(t){var e,s=t.h,u=t.emit,p=t.slots,v=t.props,y=function(n){return u("scroll",n)},f=oi(oi({},wr.defaultOptions.classNames),v.classNames);return s("div",oi({ref:"element"},{"data-simplebar":"init"}),[s("div",{class:f.wrapper},[s("div",{class:f.heightAutoObserverWrapperEl},[s("div",{class:f.heightAutoObserverEl})]),s("div",{class:f.mask},[s("div",{class:f.offset},[s("div",oi(oi({},{onScroll:y,class:f.contentWrapper,tabIndex:0,role:"region","aria-label":v.ariaLabel||wr.defaultOptions.ariaLabel}),{ref:"scrollElement"}),[s("div",{class:f.contentEl,ref:"contentElement"},(e=p.default)===null||e===void 0?void 0:e.call(p))])])]),s("div",{class:f.placeholder})]),s("div",{class:"".concat(f.track," simplebar-horizontal")},[s("div",{class:f.scrollbar})]),s("div",{class:"".concat(f.track," simplebar-vertical")},[s("div",{class:f.scrollbar})])])}var $v=Zt((Ji={name:"simplebar-vue",props:{autoHide:{type:Boolean,default:void 0},classNames:Object,forceVisible:{type:[Boolean,String],validator:function(t){return typeof t=="boolean"||t==="x"||t==="y"},default:void 0},ariaLabel:String,direction:{type:String,validator:function(t){return t==="ltr"||t==="rtl"}},timeout:Number,clickOnTrack:{type:Boolean,default:void 0},scrollbarMinSize:Number,scrollbarMaxSize:Number},emits:["scroll"],data:function(){return{}},mounted:function(){for(var t=wr.getOptions(this.$refs.element.attributes),e=0,s=Object.entries(this.$props);e<s.length;e++){var u=s[e],p=u[0],v=u[1];v!=null&&typeof v!="function"&&(t[p]=v)}this.SimpleBar=new wr(this.$refs.element,t),this.scrollElement=this.$refs.scrollElement,this.contentElement=this.$refs.contentElement}},Ji[Yv.beforeUnmount]=function(){var t;(t=this.SimpleBar)===null||t===void 0||t.unMount(),this.SimpleBar=void 0},Ji.methods={recalculate:function(){var t;(t=this.SimpleBar)===null||t===void 0||t.recalculate()}},Ji.render=function(t){var e=this;return Gv({h:typeof t=="function"?t:So,emit:function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return e.$emit.apply(e,s)},slots:this.$slots,props:this.$props})},Ji));var Xu={exports:{}};(function(t,e){(function(s,u){t.exports=u()})(fu,function(){return function(s){function u(v){if(p[v])return p[v].exports;var y=p[v]={i:v,l:!1,exports:{}};return s[v].call(y.exports,y,y.exports,u),y.l=!0,y.exports}var p={};return u.m=s,u.c=p,u.i=function(v){return v},u.d=function(v,y,f){u.o(v,y)||Object.defineProperty(v,y,{configurable:!1,enumerable:!0,get:f})},u.n=function(v){var y=v&&v.__esModule?function(){return v.default}:function(){return v};return u.d(y,"a",y),y},u.o=function(v,y){return Object.prototype.hasOwnProperty.call(v,y)},u.p="",u(u.s=1)}([function(s,u){s.exports=function(p){return p.webpackPolyfill||(p.deprecate=function(){},p.paths=[],p.children||(p.children=[]),Object.defineProperty(p,"loaded",{enumerable:!0,get:function(){return p.l}}),Object.defineProperty(p,"id",{enumerable:!0,get:function(){return p.i}}),p.webpackPolyfill=1),p}},function(s,u,p){(function(v){var y,f,n,c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};(function(h,i){c(u)==="object"&&c(v)==="object"?v.exports=i():(f=[],y=i,n=typeof y=="function"?y.apply(u,f):y,n!==void 0&&(v.exports=n))})(void 0,function(){return function(h){function i(r){if(o[r])return o[r].exports;var a=o[r]={i:r,l:!1,exports:{}};return h[r].call(a.exports,a,a.exports,i),a.l=!0,a.exports}var o={};return i.m=h,i.c=o,i.i=function(r){return r},i.d=function(r,a,g){i.o(r,a)||Object.defineProperty(r,a,{configurable:!1,enumerable:!0,get:g})},i.n=function(r){var a=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(a,"a",a),a},i.o=function(r,a){return Object.prototype.hasOwnProperty.call(r,a)},i.p="",i(i.s=0)}([function(h,i,o){function r(A,X){var M={};for(var E in A)X.indexOf(E)>=0||Object.prototype.hasOwnProperty.call(A,E)&&(M[E]=A[E]);return M}Object.defineProperty(i,"__esModule",{value:!0});var a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(A){return typeof A>"u"?"undefined":c(A)}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A>"u"?"undefined":c(A)},g=Object.assign||function(A){for(var X=1;X<arguments.length;X++){var M=arguments[X];for(var E in M)Object.prototype.hasOwnProperty.call(M,E)&&(A[E]=M[E])}return A},l={top:"top",bottom:"bottom"},d={alertTime:3,dateMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],overlayClickDismiss:!0,overlayOpacity:.75,transitionCurve:"ease",transitionDuration:.3,transitionSelector:"all",classes:{container:"notie-container",textbox:"notie-textbox",textboxInner:"notie-textbox-inner",button:"notie-button",element:"notie-element",elementHalf:"notie-element-half",elementThird:"notie-element-third",overlay:"notie-overlay",backgroundSuccess:"notie-background-success",backgroundWarning:"notie-background-warning",backgroundError:"notie-background-error",backgroundInfo:"notie-background-info",backgroundNeutral:"notie-background-neutral",backgroundOverlay:"notie-background-overlay",alert:"notie-alert",inputField:"notie-input-field",selectChoiceRepeated:"notie-select-choice-repeated",dateSelectorInner:"notie-date-selector-inner",dateSelectorUp:"notie-date-selector-up"},ids:{overlay:"notie-overlay"},positions:{alert:l.top,force:l.top,confirm:l.top,input:l.top,select:l.bottom,date:l.top}},m=i.setOptions=function(A){d=g({},d,A,{classes:g({},d.classes,A.classes),ids:g({},d.ids,A.ids),positions:g({},d.positions,A.positions)})},b=function(){return new Promise(function(A){return setTimeout(A,0)})},_=function(A){return new Promise(function(X){return setTimeout(X,1e3*A)})},C=function(){document.activeElement&&document.activeElement.blur()},S=function(){var A="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(X){var M=16*Math.random()|0,E=X==="x"?M:3&M|8;return E.toString(16)});return"notie-"+A},w={1:d.classes.backgroundSuccess,success:d.classes.backgroundSuccess,2:d.classes.backgroundWarning,warning:d.classes.backgroundWarning,3:d.classes.backgroundError,error:d.classes.backgroundError,4:d.classes.backgroundInfo,info:d.classes.backgroundInfo,5:d.classes.backgroundNeutral,neutral:d.classes.backgroundNeutral},x=function(){return d.transitionSelector+" "+d.transitionDuration+"s "+d.transitionCurve},F=function(A){return A.keyCode===13},V=function(A){return A.keyCode===27},L=function(A,X){A.classList.add(d.classes.container),A.style[X]="-10000px",document.body.appendChild(A),A.style[X]="-"+A.offsetHeight+"px",A.listener&&window.addEventListener("keydown",A.listener),b().then(function(){A.style.transition=x(),A.style[X]=0})},D=function(A,X){var M=document.getElementById(A);M&&(M.style[X]="-"+M.offsetHeight+"px",M.listener&&window.removeEventListener("keydown",M.listener),_(d.transitionDuration).then(function(){M.parentNode&&M.parentNode.removeChild(M)}))},G=function(A,X){var M=document.createElement("div");M.id=d.ids.overlay,M.classList.add(d.classes.overlay),M.classList.add(d.classes.backgroundOverlay),M.style.opacity=0,A&&d.overlayClickDismiss&&(M.onclick=function(){D(A.id,X),z()}),document.body.appendChild(M),b().then(function(){M.style.transition=x(),M.style.opacity=d.overlayOpacity})},z=function(){var A=document.getElementById(d.ids.overlay);A.style.opacity=0,_(d.transitionDuration).then(function(){A.parentNode&&A.parentNode.removeChild(A)})},Z=i.hideAlerts=function(A){var X=document.getElementsByClassName(d.classes.alert);if(X.length){for(var M=0;M<X.length;M++){var E=X[M];D(E.id,E.position)}A&&_(d.transitionDuration).then(function(){return A()})}},te=i.alert=function(A){var X=A.type,M=X===void 0?4:X,E=A.text,I=A.time,Y=I===void 0?d.alertTime:I,K=A.stay,N=K!==void 0&&K,J=A.position,ee=J===void 0?d.positions.alert||ee.top:J;C(),Z();var k=document.createElement("div"),O=S();k.id=O,k.position=ee,k.classList.add(d.classes.textbox),k.classList.add(w[M]),k.classList.add(d.classes.alert),k.innerHTML='<div class="'+d.classes.textboxInner+'">'+E+"</div>",k.onclick=function(){return D(O,ee)},k.listener=function(T){(F(T)||V(T))&&Z()},L(k,ee),Y&&Y<1&&(Y=1),!N&&Y&&_(Y).then(function(){return D(O,ee)})},se=i.force=function(A,X){var M=A.type,E=M===void 0?5:M,I=A.text,Y=A.buttonText,K=Y===void 0?"OK":Y,N=A.callback,J=A.position,ee=J===void 0?d.positions.force||ee.top:J;C(),Z();var k=document.createElement("div"),O=S();k.id=O;var T=document.createElement("div");T.classList.add(d.classes.textbox),T.classList.add(d.classes.backgroundInfo),T.innerHTML='<div class="'+d.classes.textboxInner+'">'+I+"</div>";var R=document.createElement("div");R.classList.add(d.classes.button),R.classList.add(w[E]),R.innerHTML=K,R.onclick=function(){D(O,ee),z(),N?N():X&&X()},k.appendChild(T),k.appendChild(R),k.listener=function(W){F(W)&&R.click()},L(k,ee),G()},oe=i.confirm=function(A,X,M){var E=A.text,I=A.submitText,Y=I===void 0?"Yes":I,K=A.cancelText,N=K===void 0?"Cancel":K,J=A.submitCallback,ee=A.cancelCallback,k=A.position,O=k===void 0?d.positions.confirm||O.top:k;C(),Z();var T=document.createElement("div"),R=S();T.id=R;var W=document.createElement("div");W.classList.add(d.classes.textbox),W.classList.add(d.classes.backgroundInfo),W.innerHTML='<div class="'+d.classes.textboxInner+'">'+E+"</div>";var B=document.createElement("div");B.classList.add(d.classes.button),B.classList.add(d.classes.elementHalf),B.classList.add(d.classes.backgroundSuccess),B.innerHTML=Y,B.onclick=function(){D(R,O),z(),J?J():X&&X()};var U=document.createElement("div");U.classList.add(d.classes.button),U.classList.add(d.classes.elementHalf),U.classList.add(d.classes.backgroundError),U.innerHTML=N,U.onclick=function(){D(R,O),z(),ee?ee():M&&M()},T.appendChild(W),T.appendChild(B),T.appendChild(U),T.listener=function(q){F(q)?B.click():V(q)&&U.click()},L(T,O),G(T,O)},P=function(A,X,M){var E=A.text,I=A.submitText,Y=I===void 0?"Submit":I,K=A.cancelText,N=K===void 0?"Cancel":K,J=A.submitCallback,ee=A.cancelCallback,k=A.position,O=k===void 0?d.positions.input||O.top:k,T=r(A,["text","submitText","cancelText","submitCallback","cancelCallback","position"]);C(),Z();var R=document.createElement("div"),W=S();R.id=W;var B=document.createElement("div");B.classList.add(d.classes.textbox),B.classList.add(d.classes.backgroundInfo),B.innerHTML='<div class="'+d.classes.textboxInner+'">'+E+"</div>";var U=document.createElement("input");U.classList.add(d.classes.inputField),U.setAttribute("autocapitalize",T.autocapitalize||"none"),U.setAttribute("autocomplete",T.autocomplete||"off"),U.setAttribute("autocorrect",T.autocorrect||"off"),U.setAttribute("autofocus",T.autofocus||"true"),U.setAttribute("inputmode",T.inputmode||"verbatim"),U.setAttribute("max",T.max||""),U.setAttribute("maxlength",T.maxlength||""),U.setAttribute("min",T.min||""),U.setAttribute("minlength",T.minlength||""),U.setAttribute("placeholder",T.placeholder||""),U.setAttribute("spellcheck",T.spellcheck||"default"),U.setAttribute("step",T.step||"any"),U.setAttribute("type",T.type||"text"),U.value=T.value||"",T.allowed&&(U.oninput=function(){var Q=void 0;if(Array.isArray(T.allowed)){for(var $="",ne=T.allowed,ae=0;ae<ne.length;ae++)ne[ae]==="an"?$+="0-9a-zA-Z":ne[ae]==="a"?$+="a-zA-Z":ne[ae]==="n"&&($+="0-9"),ne[ae]==="s"&&($+=" ");Q=new RegExp("[^"+$+"]","g")}else a(T.allowed)==="object"&&(Q=T.allowed);U.value=U.value.replace(Q,"")});var q=document.createElement("div");q.classList.add(d.classes.button),q.classList.add(d.classes.elementHalf),q.classList.add(d.classes.backgroundSuccess),q.innerHTML=Y,q.onclick=function(){D(W,O),z(),J?J(U.value):X&&X(U.value)};var ie=document.createElement("div");ie.classList.add(d.classes.button),ie.classList.add(d.classes.elementHalf),ie.classList.add(d.classes.backgroundError),ie.innerHTML=N,ie.onclick=function(){D(W,O),z(),ee?ee(U.value):M&&M(U.value)},R.appendChild(B),R.appendChild(U),R.appendChild(q),R.appendChild(ie),R.listener=function(Q){F(Q)?q.click():V(Q)&&ie.click()},L(R,O),U.focus(),G(R,O)};i.input=P;var H=i.select=function(A,X){var M=A.text,E=A.cancelText,I=E===void 0?"Cancel":E,Y=A.cancelCallback,K=A.choices,N=A.position,J=N===void 0?d.positions.select||J.top:N;C(),Z();var ee=document.createElement("div"),k=S();ee.id=k;var O=document.createElement("div");O.classList.add(d.classes.textbox),O.classList.add(d.classes.backgroundInfo),O.innerHTML='<div class="'+d.classes.textboxInner+'">'+M+"</div>",ee.appendChild(O),K.forEach(function(R,W){var B=R.type,U=B===void 0?1:B,q=R.text,ie=R.handler,Q=document.createElement("div");Q.classList.add(w[U]),Q.classList.add(d.classes.button),Q.classList.add(d.classes.selectChoice);var $=K[W+1];$&&!$.type&&($.type=1),$&&$.type===U&&Q.classList.add(d.classes.selectChoiceRepeated),Q.innerHTML=q,Q.onclick=function(){D(k,J),z(),ie()},ee.appendChild(Q)});var T=document.createElement("div");T.classList.add(d.classes.backgroundNeutral),T.classList.add(d.classes.button),T.innerHTML=I,T.onclick=function(){D(k,J),z(),Y?Y():X&&X()},ee.appendChild(T),ee.listener=function(R){V(R)&&T.click()},L(ee,J),G(ee,J)},j=i.date=function(A,X,M){var E=A.value,I=E===void 0?new Date:E,Y=A.submitText,K=Y===void 0?"OK":Y,N=A.cancelText,J=N===void 0?"Cancel":N,ee=A.submitCallback,k=A.cancelCallback,O=A.position,T=O===void 0?d.positions.date||T.top:O;C(),Z();var R="&#9662",W=document.createElement("div"),B=document.createElement("div"),U=document.createElement("div"),q=function(Me){W.innerHTML=d.dateMonths[Me.getMonth()],B.innerHTML=Me.getDate(),U.innerHTML=Me.getFullYear()},ie=function(Me){var ht=new Date(I.getFullYear(),I.getMonth()+1,0).getDate(),Si=Me.target.textContent.replace(/^0+/,"").replace(/[^\d]/g,"").slice(0,2);Number(Si)>ht&&(Si=ht.toString()),Me.target.textContent=Si,Number(Si)<1&&(Si="1"),I.setDate(Number(Si))},Q=function(Me){var ht=Me.target.textContent.replace(/^0+/,"").replace(/[^\d]/g,"").slice(0,4);Me.target.textContent=ht,I.setFullYear(Number(ht))},$=function(Me){q(I)},ne=function(Me){var ht=new Date(I.getFullYear(),I.getMonth()+Me+1,0).getDate();I.getDate()>ht&&I.setDate(ht),I.setMonth(I.getMonth()+Me),q(I)},ae=function(Me){I.setDate(I.getDate()+Me),q(I)},le=function(Me){var ht=I.getFullYear()+Me;ht<0?I.setFullYear(0):I.setFullYear(I.getFullYear()+Me),q(I)},ce=document.createElement("div"),fe=S();ce.id=fe;var de=document.createElement("div");de.classList.add(d.classes.backgroundInfo);var he=document.createElement("div");he.classList.add(d.classes.dateSelectorInner);var xe=document.createElement("div");xe.classList.add(d.classes.button),xe.classList.add(d.classes.elementThird),xe.classList.add(d.classes.dateSelectorUp),xe.innerHTML=R;var je=document.createElement("div");je.classList.add(d.classes.button),je.classList.add(d.classes.elementThird),je.classList.add(d.classes.dateSelectorUp),je.innerHTML=R;var De=document.createElement("div");De.classList.add(d.classes.button),De.classList.add(d.classes.elementThird),De.classList.add(d.classes.dateSelectorUp),De.innerHTML=R,W.classList.add(d.classes.element),W.classList.add(d.classes.elementThird),W.innerHTML=d.dateMonths[I.getMonth()],B.classList.add(d.classes.element),B.classList.add(d.classes.elementThird),B.setAttribute("contentEditable",!0),B.addEventListener("input",ie),B.addEventListener("blur",$),B.innerHTML=I.getDate(),U.classList.add(d.classes.element),U.classList.add(d.classes.elementThird),U.setAttribute("contentEditable",!0),U.addEventListener("input",Q),U.addEventListener("blur",$),U.innerHTML=I.getFullYear();var Je=document.createElement("div");Je.classList.add(d.classes.button),Je.classList.add(d.classes.elementThird),Je.innerHTML=R;var rt=document.createElement("div");rt.classList.add(d.classes.button),rt.classList.add(d.classes.elementThird),rt.innerHTML=R;var ke=document.createElement("div");ke.classList.add(d.classes.button),ke.classList.add(d.classes.elementThird),ke.innerHTML=R,xe.onclick=function(){return ne(1)},je.onclick=function(){return ae(1)},De.onclick=function(){return le(1)},Je.onclick=function(){return ne(-1)},rt.onclick=function(){return ae(-1)},ke.onclick=function(){return le(-1)};var Le=document.createElement("div");Le.classList.add(d.classes.button),Le.classList.add(d.classes.elementHalf),Le.classList.add(d.classes.backgroundSuccess),Le.innerHTML=K,Le.onclick=function(){D(fe,T),z(),ee?ee(I):X&&X(I)};var ft=document.createElement("div");ft.classList.add(d.classes.button),ft.classList.add(d.classes.elementHalf),ft.classList.add(d.classes.backgroundError),ft.innerHTML=J,ft.onclick=function(){D(fe,T),z(),k?k(I):M&&M(I)},he.appendChild(xe),he.appendChild(je),he.appendChild(De),he.appendChild(W),he.appendChild(B),he.appendChild(U),he.appendChild(Je),he.appendChild(rt),he.appendChild(ke),de.appendChild(he),ce.appendChild(de),ce.appendChild(Le),ce.appendChild(ft),ce.listener=function(Me){F(Me)?Le.click():V(Me)&&ft.click()},L(ce,T),G(ce,T)};i.default={alert:te,force:se,confirm:oe,input:P,select:H,date:j,setOptions:m,hideAlerts:Z}}])})}).call(u,p(0)(s))}])})})(Xu);var sl=Xu.exports;const zu="%[a-f0-9]{2}",ol=new RegExp("("+zu+")|([^%]+?)","gi"),al=new RegExp("("+zu+")+","gi");function Us(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;const s=t.slice(0,e),u=t.slice(e);return Array.prototype.concat.call([],Us(s),Us(u))}function qv(t){try{return decodeURIComponent(t)}catch{let e=t.match(ol)||[];for(let s=1;s<e.length;s++)t=Us(e,s).join(""),e=t.match(ol)||[];return t}}function Kv(t){const e={"%FE%FF":"��","%FF%FE":"��"};let s=al.exec(t);for(;s;){try{e[s[0]]=decodeURIComponent(s[0])}catch{const p=qv(s[0]);p!==s[0]&&(e[s[0]]=p)}s=al.exec(t)}e["%C2"]="�";const u=Object.keys(e);for(const p of u)t=t.replace(new RegExp(p,"g"),e[p]);return t}function Jv(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return decodeURIComponent(t)}catch{return Kv(t)}}function Yu(t,e){if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t===""||e==="")return[];const s=t.indexOf(e);return s===-1?[]:[t.slice(0,s),t.slice(s+e.length)]}function Qv(t,e){const s={};if(Array.isArray(e))for(const u of e){const p=Object.getOwnPropertyDescriptor(t,u);p!=null&&p.enumerable&&Object.defineProperty(s,u,p)}else for(const u of Reflect.ownKeys(t)){const p=Object.getOwnPropertyDescriptor(t,u);if(p.enumerable){const v=t[u];e(u,v,t)&&Object.defineProperty(s,u,p)}}return s}const Zv=t=>t==null,ey=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),Vs=Symbol("encodeFragmentIdentifier");function ty(t){switch(t.arrayFormat){case"index":return e=>(s,u)=>{const p=s.length;return u===void 0||t.skipNull&&u===null||t.skipEmptyString&&u===""?s:u===null?[...s,[Re(e,t),"[",p,"]"].join("")]:[...s,[Re(e,t),"[",Re(p,t),"]=",Re(u,t)].join("")]};case"bracket":return e=>(s,u)=>u===void 0||t.skipNull&&u===null||t.skipEmptyString&&u===""?s:u===null?[...s,[Re(e,t),"[]"].join("")]:[...s,[Re(e,t),"[]=",Re(u,t)].join("")];case"colon-list-separator":return e=>(s,u)=>u===void 0||t.skipNull&&u===null||t.skipEmptyString&&u===""?s:u===null?[...s,[Re(e,t),":list="].join("")]:[...s,[Re(e,t),":list=",Re(u,t)].join("")];case"comma":case"separator":case"bracket-separator":{const e=t.arrayFormat==="bracket-separator"?"[]=":"=";return s=>(u,p)=>p===void 0||t.skipNull&&p===null||t.skipEmptyString&&p===""?u:(p=p===null?"":p,u.length===0?[[Re(s,t),e,Re(p,t)].join("")]:[[u,Re(p,t)].join(t.arrayFormatSeparator)])}default:return e=>(s,u)=>u===void 0||t.skipNull&&u===null||t.skipEmptyString&&u===""?s:u===null?[...s,Re(e,t)]:[...s,[Re(e,t),"=",Re(u,t)].join("")]}}function iy(t){let e;switch(t.arrayFormat){case"index":return(s,u,p)=>{if(e=/\[(\d*)]$/.exec(s),s=s.replace(/\[\d*]$/,""),!e){p[s]=u;return}p[s]===void 0&&(p[s]={}),p[s][e[1]]=u};case"bracket":return(s,u,p)=>{if(e=/(\[])$/.exec(s),s=s.replace(/\[]$/,""),!e){p[s]=u;return}if(p[s]===void 0){p[s]=[u];return}p[s]=[...p[s],u]};case"colon-list-separator":return(s,u,p)=>{if(e=/(:list)$/.exec(s),s=s.replace(/:list$/,""),!e){p[s]=u;return}if(p[s]===void 0){p[s]=[u];return}p[s]=[...p[s],u]};case"comma":case"separator":return(s,u,p)=>{const v=typeof u=="string"&&u.includes(t.arrayFormatSeparator),y=typeof u=="string"&&!v&&wt(u,t).includes(t.arrayFormatSeparator);u=y?wt(u,t):u;const f=v||y?u.split(t.arrayFormatSeparator).map(n=>wt(n,t)):u===null?u:wt(u,t);p[s]=f};case"bracket-separator":return(s,u,p)=>{const v=/(\[])$/.test(s);if(s=s.replace(/\[]$/,""),!v){p[s]=u&&wt(u,t);return}const y=u===null?[]:u.split(t.arrayFormatSeparator).map(f=>wt(f,t));if(p[s]===void 0){p[s]=y;return}p[s]=[...p[s],...y]};default:return(s,u,p)=>{if(p[s]===void 0){p[s]=u;return}p[s]=[...[p[s]].flat(),u]}}}function Gu(t){if(typeof t!="string"||t.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function Re(t,e){return e.encode?e.strict?ey(t):encodeURIComponent(t):t}function wt(t,e){return e.decode?Jv(t):t}function $u(t){return Array.isArray(t)?t.sort():typeof t=="object"?$u(Object.keys(t)).sort((e,s)=>Number(e)-Number(s)).map(e=>t[e]):t}function qu(t){const e=t.indexOf("#");return e!==-1&&(t=t.slice(0,e)),t}function ny(t){let e="";const s=t.indexOf("#");return s!==-1&&(e=t.slice(s)),e}function ll(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&typeof t=="string"&&t.trim()!==""?t=Number(t):e.parseBooleans&&t!==null&&(t.toLowerCase()==="true"||t.toLowerCase()==="false")&&(t=t.toLowerCase()==="true"),t}function No(t){t=qu(t);const e=t.indexOf("?");return e===-1?"":t.slice(e+1)}function Ho(t,e){e={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...e},Gu(e.arrayFormatSeparator);const s=iy(e),u=Object.create(null);if(typeof t!="string"||(t=t.trim().replace(/^[?#&]/,""),!t))return u;for(const p of t.split("&")){if(p==="")continue;const v=e.decode?p.replace(/\+/g," "):p;let[y,f]=Yu(v,"=");y===void 0&&(y=v),f=f===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?f:wt(f,e),s(wt(y,e),f,u)}for(const[p,v]of Object.entries(u))if(typeof v=="object"&&v!==null)for(const[y,f]of Object.entries(v))v[y]=ll(f,e);else u[p]=ll(v,e);return e.sort===!1?u:(e.sort===!0?Object.keys(u).sort():Object.keys(u).sort(e.sort)).reduce((p,v)=>{const y=u[v];return y&&typeof y=="object"&&!Array.isArray(y)?p[v]=$u(y):p[v]=y,p},Object.create(null))}function Ku(t,e){if(!t)return"";e={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...e},Gu(e.arrayFormatSeparator);const s=y=>e.skipNull&&Zv(t[y])||e.skipEmptyString&&t[y]==="",u=ty(e),p={};for(const[y,f]of Object.entries(t))s(y)||(p[y]=f);const v=Object.keys(p);return e.sort!==!1&&v.sort(e.sort),v.map(y=>{const f=t[y];return f===void 0?"":f===null?Re(y,e):Array.isArray(f)?f.length===0&&e.arrayFormat==="bracket-separator"?Re(y,e)+"[]":f.reduce(u(y),[]).join("&"):Re(y,e)+"="+Re(f,e)}).filter(y=>y.length>0).join("&")}function Ju(t,e){var p;e={decode:!0,...e};let[s,u]=Yu(t,"#");return s===void 0&&(s=t),{url:((p=s==null?void 0:s.split("?"))==null?void 0:p[0])??"",query:Ho(No(t),e),...e&&e.parseFragmentIdentifier&&u?{fragmentIdentifier:wt(u,e)}:{}}}function Qu(t,e){e={encode:!0,strict:!0,[Vs]:!0,...e};const s=qu(t.url).split("?")[0]||"",u=No(t.url),p={...Ho(u,{sort:!1}),...t.query};let v=Ku(p,e);v&&(v=`?${v}`);let y=ny(t.url);if(t.fragmentIdentifier){const f=new URL(s);f.hash=t.fragmentIdentifier,y=e[Vs]?f.hash:`#${t.fragmentIdentifier}`}return`${s}${v}${y}`}function Zu(t,e,s){s={parseFragmentIdentifier:!0,[Vs]:!1,...s};const{url:u,query:p,fragmentIdentifier:v}=Ju(t,s);return Qu({url:u,query:Qv(p,e),fragmentIdentifier:v},s)}function ry(t,e,s){const u=Array.isArray(e)?p=>!e.includes(p):(p,v)=>!e(p,v);return Zu(t,u,s)}const sy=Object.freeze(Object.defineProperty({__proto__:null,exclude:ry,extract:No,parse:Ho,parseUrl:Ju,pick:Zu,stringify:Ku,stringifyUrl:Qu},Symbol.toStringTag,{value:"Module"})),oy="/tablet/img/logo-bg.svg",ay="/tablet/img/reload.svg",ly={class:"wallpaper"},cy=ye("img",{src:oy,alt:""},null,-1),uy={key:0,class:"wallpaper__update"},fy=ye("p",{class:"wallpaper__update-text"},"Загрузить договор",-1),hy=ye("img",{src:ay,alt:""},null,-1),dy=[hy],gy={__name:"SplashScreen",emits:["reloadDocument"],setup(t){const{updateOnDemand:e}=To(jo());return(s,u)=>(Oe(),Ve("section",ly,[cy,pe(e)?(Oe(),Ve("div",uy,[fy,ye("button",{onClick:u[0]||(u[0]=p=>s.$emit("reloadDocument")),class:"wallpaper__update-button",type:"button"},dy)])):at("",!0)]))}};var ef={};const py={},my=Object.freeze(Object.defineProperty({__proto__:null,default:py},Symbol.toStringTag,{value:"Module"})),fs=hu(my);(function(t){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var e=e||{version:"5.3.0"};if(t.fabric=e,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?e.document=document:e.document=document.implementation.createHTMLDocument(""),e.window=window;else{var s=fs,u=new s.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;e.document=u.document,e.jsdomImplForWrapper=fs.implForWrapper,e.nodeCanvas=fs.Canvas,e.window=u,DOMParser=e.window.DOMParser}e.isTouchSupported="ontouchstart"in e.window||"ontouchstart"in e.document||e.window&&e.window.navigator&&e.window.navigator.maxTouchPoints>0,e.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",e.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],e.DPI=96,e.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",e.commaWsp="(?:\\s+,?\\s*|,\\s*)",e.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,e.reNonWord=/[ \n\.,;!\?\-]/,e.fontPaths={},e.iMatrix=[1,0,0,1,0,0],e.svgNS="http://www.w3.org/2000/svg",e.perfLimitSizeTotal=2097152,e.maxCacheSideLimit=4096,e.minCacheSideLimit=256,e.charWidthsCache={},e.textureSize=2048,e.disableStyleCopyPaste=!1,e.enableGLFiltering=!0,e.devicePixelRatio=e.window.devicePixelRatio||e.window.webkitDevicePixelRatio||e.window.mozDevicePixelRatio||1,e.browserShadowBlurConstant=1,e.arcToSegmentsCache={},e.boundsOfCurveCache={},e.cachesBoundsOfCurve=!0,e.forceGLPutImageData=!1,e.initFilterBackend=function(){if(e.enableGLFiltering&&e.isWebglSupported&&e.isWebglSupported(e.textureSize))return console.log("max texture size: "+e.maxTextureSize),new e.WebglFilterBackend({tileSize:e.textureSize});if(e.Canvas2dFilterBackend)return new e.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=e),function(){function f(r,a){if(this.__eventListeners[r]){var g=this.__eventListeners[r];a?g[g.indexOf(a)]=!1:e.util.array.fill(g,!1)}}function n(r,a){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var g in r)this.on(g,r[g]);else this.__eventListeners[r]||(this.__eventListeners[r]=[]),this.__eventListeners[r].push(a);return this}function c(r,a){var g=(function(){a.apply(this,arguments),this.off(r,g)}).bind(this);this.on(r,g)}function h(r,a){if(arguments.length===1)for(var g in r)c.call(this,g,r[g]);else c.call(this,r,a);return this}function i(r,a){if(!this.__eventListeners)return this;if(arguments.length===0)for(r in this.__eventListeners)f.call(this,r);else if(arguments.length===1&&typeof arguments[0]=="object")for(var g in r)f.call(this,g,r[g]);else f.call(this,r,a);return this}function o(r,a){if(!this.__eventListeners)return this;var g=this.__eventListeners[r];if(!g)return this;for(var l=0,d=g.length;l<d;l++)g[l]&&g[l].call(this,a||{});return this.__eventListeners[r]=g.filter(function(m){return m!==!1}),this}e.Observable={fire:o,on:n,once:h,off:i}}(),e.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var f=0,n=arguments.length;f<n;f++)this._onObjectAdded(arguments[f]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(f,n,c){var h=this._objects;return c?h[n]=f:h.splice(n,0,f),this._onObjectAdded&&this._onObjectAdded(f),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var f=this._objects,n,c=!1,h=0,i=arguments.length;h<i;h++)n=f.indexOf(arguments[h]),n!==-1&&(c=!0,f.splice(n,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[h]));return this.renderOnAddRemove&&c&&this.requestRenderAll(),this},forEachObject:function(f,n){for(var c=this.getObjects(),h=0,i=c.length;h<i;h++)f.call(n,c[h],h,c);return this},getObjects:function(f){return typeof f>"u"?this._objects.concat():this._objects.filter(function(n){return n.type===f})},item:function(f){return this._objects[f]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(f,n){return this._objects.indexOf(f)>-1?!0:n?this._objects.some(function(c){return typeof c.contains=="function"&&c.contains(f,!0)}):!1},complexity:function(){return this._objects.reduce(function(f,n){return f+=n.complexity?n.complexity():0,f},0)}},e.CommonMethods={_setOptions:function(f){for(var n in f)this.set(n,f[n])},_initGradient:function(f,n){f&&f.colorStops&&!(f instanceof e.Gradient)&&this.set(n,new e.Gradient(f))},_initPattern:function(f,n,c){f&&f.source&&!(f instanceof e.Pattern)?this.set(n,new e.Pattern(f,c)):c&&c()},_setObject:function(f){for(var n in f)this._set(n,f[n])},set:function(f,n){return typeof f=="object"?this._setObject(f):this._set(f,n),this},_set:function(f,n){this[f]=n},toggle:function(f){var n=this.get(f);return typeof n=="boolean"&&this.set(f,!n),this},get:function(f){return this[f]}},function(f){var n=Math.sqrt,c=Math.atan2,h=Math.pow,i=Math.PI/180,o=Math.PI/2;e.util={cos:function(r){if(r===0)return 1;r<0&&(r=-r);var a=r/o;switch(a){case 1:case 3:return 0;case 2:return-1}return Math.cos(r)},sin:function(r){if(r===0)return 0;var a=r/o,g=1;switch(r<0&&(g=-1),a){case 1:return g;case 2:return 0;case 3:return-g}return Math.sin(r)},removeFromArray:function(r,a){var g=r.indexOf(a);return g!==-1&&r.splice(g,1),r},getRandomInt:function(r,a){return Math.floor(Math.random()*(a-r+1))+r},degreesToRadians:function(r){return r*i},radiansToDegrees:function(r){return r/i},rotatePoint:function(r,a,g){var l=new e.Point(r.x-a.x,r.y-a.y),d=e.util.rotateVector(l,g);return new e.Point(d.x,d.y).addEquals(a)},rotateVector:function(r,a){var g=e.util.sin(a),l=e.util.cos(a),d=r.x*l-r.y*g,m=r.x*g+r.y*l;return{x:d,y:m}},createVector:function(r,a){return new e.Point(a.x-r.x,a.y-r.y)},calcAngleBetweenVectors:function(r,a){return Math.acos((r.x*a.x+r.y*a.y)/(Math.hypot(r.x,r.y)*Math.hypot(a.x,a.y)))},getHatVector:function(r){return new e.Point(r.x,r.y).multiply(1/Math.hypot(r.x,r.y))},getBisector:function(r,a,g){var l=e.util.createVector(r,a),d=e.util.createVector(r,g),m=e.util.calcAngleBetweenVectors(l,d),b=e.util.calcAngleBetweenVectors(e.util.rotateVector(l,m),d),_=m*(b===0?1:-1)/2;return{vector:e.util.getHatVector(e.util.rotateVector(l,_)),angle:m}},projectStrokeOnPoints:function(r,a,g){var l=[],d=a.strokeWidth/2,m=a.strokeUniform?new e.Point(1/a.scaleX,1/a.scaleY):new e.Point(1,1),b=function(_){var C=d/Math.hypot(_.x,_.y);return new e.Point(_.x*C*m.x,_.y*C*m.y)};return r.length<=1||r.forEach(function(_,C){var S=new e.Point(_.x,_.y),w,x;C===0?(x=r[C+1],w=g?b(e.util.createVector(x,S)).addEquals(S):r[r.length-1]):C===r.length-1?(w=r[C-1],x=g?b(e.util.createVector(w,S)).addEquals(S):r[0]):(w=r[C-1],x=r[C+1]);var F=e.util.getBisector(S,w,x),V=F.vector,L=F.angle,D,G;if(a.strokeLineJoin==="miter"&&(D=-d/Math.sin(L/2),G=new e.Point(V.x*D*m.x,V.y*D*m.y),Math.hypot(G.x,G.y)/d<=a.strokeMiterLimit)){l.push(S.add(G)),l.push(S.subtract(G));return}D=-d*Math.SQRT2,G=new e.Point(V.x*D*m.x,V.y*D*m.y),l.push(S.add(G)),l.push(S.subtract(G))}),l},transformPoint:function(r,a,g){return g?new e.Point(a[0]*r.x+a[2]*r.y,a[1]*r.x+a[3]*r.y):new e.Point(a[0]*r.x+a[2]*r.y+a[4],a[1]*r.x+a[3]*r.y+a[5])},makeBoundingBoxFromPoints:function(r,a){if(a)for(var g=0;g<r.length;g++)r[g]=e.util.transformPoint(r[g],a);var l=[r[0].x,r[1].x,r[2].x,r[3].x],d=e.util.array.min(l),m=e.util.array.max(l),b=m-d,_=[r[0].y,r[1].y,r[2].y,r[3].y],C=e.util.array.min(_),S=e.util.array.max(_),w=S-C;return{left:d,top:C,width:b,height:w}},invertTransform:function(r){var a=1/(r[0]*r[3]-r[1]*r[2]),g=[a*r[3],-a*r[1],-a*r[2],a*r[0]],l=e.util.transformPoint({x:r[4],y:r[5]},g,!0);return g[4]=-l.x,g[5]=-l.y,g},toFixed:function(r,a){return parseFloat(Number(r).toFixed(a))},parseUnit:function(r,a){var g=/\D{0,2}$/.exec(r),l=parseFloat(r);switch(a||(a=e.Text.DEFAULT_SVG_FONT_SIZE),g[0]){case"mm":return l*e.DPI/25.4;case"cm":return l*e.DPI/2.54;case"in":return l*e.DPI;case"pt":return l*e.DPI/72;case"pc":return l*e.DPI/72*12;case"em":return l*a;default:return l}},falseFunction:function(){return!1},getKlass:function(r,a){return r=e.util.string.camelize(r.charAt(0).toUpperCase()+r.slice(1)),e.util.resolveNamespace(a)[r]},getSvgAttributes:function(r){var a=["instantiated_by_use","style","id","class"];switch(r){case"linearGradient":a=a.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":a=a.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":a=a.concat(["offset","stop-color","stop-opacity"]);break}return a},resolveNamespace:function(r){if(!r)return e;var a=r.split("."),g=a.length,l,d=f||e.window;for(l=0;l<g;++l)d=d[a[l]];return d},loadImage:function(r,a,g,l){if(!r){a&&a.call(g,r);return}var d=e.util.createImage(),m=function(){a&&a.call(g,d,!1),d=d.onload=d.onerror=null};d.onload=m,d.onerror=function(){e.log("Error loading "+d.src),a&&a.call(g,null,!0),d=d.onload=d.onerror=null},r.indexOf("data")!==0&&l!==void 0&&l!==null&&(d.crossOrigin=l),r.substring(0,14)==="data:image/svg"&&(d.onload=null,e.util.loadImageInDom(d,m)),d.src=r},loadImageInDom:function(r,a){var g=e.document.createElement("div");g.style.width=g.style.height="1px",g.style.left=g.style.top="-100%",g.style.position="absolute",g.appendChild(r),e.document.querySelector("body").appendChild(g),r.onload=function(){a(),g.parentNode.removeChild(g),g=null}},enlivenObjects:function(r,a,g,l){r=r||[];var d=[],m=0,b=r.length;function _(){++m===b&&a&&a(d.filter(function(C){return C}))}if(!b){a&&a(d);return}r.forEach(function(C,S){if(!C||!C.type){_();return}var w=e.util.getKlass(C.type,g);w.fromObject(C,function(x,F){F||(d[S]=x),l&&l(C,x,F),_()})})},enlivenObjectEnlivables:function(r,a,g){var l=e.Object.ENLIVEN_PROPS.filter(function(d){return!!r[d]});e.util.enlivenObjects(l.map(function(d){return r[d]}),function(d){var m={};l.forEach(function(b,_){m[b]=d[_],a&&(a[b]=d[_])}),g&&g(m)})},enlivenPatterns:function(r,a){r=r||[];function g(){++d===m&&a&&a(l)}var l=[],d=0,m=r.length;if(!m){a&&a(l);return}r.forEach(function(b,_){b&&b.source?new e.Pattern(b,function(C){l[_]=C,g()}):(l[_]=b,g())})},groupSVGElements:function(r,a,g){var l;return r&&r.length===1?(typeof g<"u"&&(r[0].sourcePath=g),r[0]):(a&&(a.width&&a.height?a.centerPoint={x:a.width/2,y:a.height/2}:(delete a.width,delete a.height)),l=new e.Group(r,a),typeof g<"u"&&(l.sourcePath=g),l)},populateWithProperties:function(r,a,g){if(g&&Array.isArray(g))for(var l=0,d=g.length;l<d;l++)g[l]in r&&(a[g[l]]=r[g[l]])},createCanvasElement:function(){return e.document.createElement("canvas")},copyCanvasElement:function(r){var a=e.util.createCanvasElement();return a.width=r.width,a.height=r.height,a.getContext("2d").drawImage(r,0,0),a},toDataURL:function(r,a,g){return r.toDataURL("image/"+a,g)},createImage:function(){return e.document.createElement("img")},multiplyTransformMatrices:function(r,a,g){return[r[0]*a[0]+r[2]*a[1],r[1]*a[0]+r[3]*a[1],r[0]*a[2]+r[2]*a[3],r[1]*a[2]+r[3]*a[3],g?0:r[0]*a[4]+r[2]*a[5]+r[4],g?0:r[1]*a[4]+r[3]*a[5]+r[5]]},qrDecompose:function(r){var a=c(r[1],r[0]),g=h(r[0],2)+h(r[1],2),l=n(g),d=(r[0]*r[3]-r[2]*r[1])/l,m=c(r[0]*r[2]+r[1]*r[3],g);return{angle:a/i,scaleX:l,scaleY:d,skewX:m/i,skewY:0,translateX:r[4],translateY:r[5]}},calcRotateMatrix:function(r){if(!r.angle)return e.iMatrix.concat();var a=e.util.degreesToRadians(r.angle),g=e.util.cos(a),l=e.util.sin(a);return[g,l,-l,g,0,0]},calcDimensionsMatrix:function(r){var a=typeof r.scaleX>"u"?1:r.scaleX,g=typeof r.scaleY>"u"?1:r.scaleY,l=[r.flipX?-a:a,0,0,r.flipY?-g:g,0,0],d=e.util.multiplyTransformMatrices,m=e.util.degreesToRadians;return r.skewX&&(l=d(l,[1,0,Math.tan(m(r.skewX)),1],!0)),r.skewY&&(l=d(l,[1,Math.tan(m(r.skewY)),0,1],!0)),l},composeMatrix:function(r){var a=[1,0,0,1,r.translateX||0,r.translateY||0],g=e.util.multiplyTransformMatrices;return r.angle&&(a=g(a,e.util.calcRotateMatrix(r))),(r.scaleX!==1||r.scaleY!==1||r.skewX||r.skewY||r.flipX||r.flipY)&&(a=g(a,e.util.calcDimensionsMatrix(r))),a},resetObjectTransform:function(r){r.scaleX=1,r.scaleY=1,r.skewX=0,r.skewY=0,r.flipX=!1,r.flipY=!1,r.rotate(0)},saveObjectTransform:function(r){return{scaleX:r.scaleX,scaleY:r.scaleY,skewX:r.skewX,skewY:r.skewY,angle:r.angle,left:r.left,flipX:r.flipX,flipY:r.flipY,top:r.top}},isTransparent:function(r,a,g,l){l>0&&(a>l?a-=l:a=0,g>l?g-=l:g=0);var d=!0,m,b,_=r.getImageData(a,g,l*2||1,l*2||1),C=_.data.length;for(m=3;m<C&&(b=_.data[m],d=b<=0,d!==!1);m+=4);return _=null,d},parsePreserveAspectRatioAttribute:function(r){var a="meet",g="Mid",l="Mid",d=r.split(" "),m;return d&&d.length&&(a=d.pop(),a!=="meet"&&a!=="slice"?(m=a,a="meet"):d.length&&(m=d.pop())),g=m!=="none"?m.slice(1,4):"none",l=m!=="none"?m.slice(5,8):"none",{meetOrSlice:a,alignX:g,alignY:l}},clearFabricFontCache:function(r){r=(r||"").toLowerCase(),r?e.charWidthsCache[r]&&delete e.charWidthsCache[r]:e.charWidthsCache={}},limitDimsByArea:function(r,a){var g=Math.sqrt(a*r),l=Math.floor(a/g);return{x:Math.floor(g),y:l}},capValue:function(r,a,g){return Math.max(r,Math.min(a,g))},findScaleToFit:function(r,a){return Math.min(a.width/r.width,a.height/r.height)},findScaleToCover:function(r,a){return Math.max(a.width/r.width,a.height/r.height)},matrixToSVG:function(r){return"matrix("+r.map(function(a){return e.util.toFixed(a,e.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(r,a){var g=e.util.invertTransform(a),l=e.util.multiplyTransformMatrices(g,r.calcOwnMatrix());e.util.applyTransformToObject(r,l)},addTransformToObject:function(r,a){e.util.applyTransformToObject(r,e.util.multiplyTransformMatrices(a,r.calcOwnMatrix()))},applyTransformToObject:function(r,a){var g=e.util.qrDecompose(a),l=new e.Point(g.translateX,g.translateY);r.flipX=!1,r.flipY=!1,r.set("scaleX",g.scaleX),r.set("scaleY",g.scaleY),r.skewX=g.skewX,r.skewY=g.skewY,r.angle=g.angle,r.setPositionByOrigin(l,"center","center")},sizeAfterTransform:function(r,a,g){var l=r/2,d=a/2,m=[{x:-l,y:-d},{x:l,y:-d},{x:-l,y:d},{x:l,y:d}],b=e.util.calcDimensionsMatrix(g),_=e.util.makeBoundingBoxFromPoints(m,b);return{x:_.width,y:_.height}},mergeClipPaths:function(r,a){var g=r,l=a;g.inverted&&!l.inverted&&(g=a,l=r),e.util.applyTransformToObject(l,e.util.multiplyTransformMatrices(e.util.invertTransform(g.calcTransformMatrix()),l.calcTransformMatrix()));var d=g.inverted&&l.inverted;return d&&(g.inverted=l.inverted=!1),new e.Group([g],{clipPath:l,inverted:d})},hasStyleChanged:function(r,a,g){return g=g||!1,r.fill!==a.fill||r.stroke!==a.stroke||r.strokeWidth!==a.strokeWidth||r.fontSize!==a.fontSize||r.fontFamily!==a.fontFamily||r.fontWeight!==a.fontWeight||r.fontStyle!==a.fontStyle||r.textBackgroundColor!==a.textBackgroundColor||r.deltaY!==a.deltaY||g&&(r.overline!==a.overline||r.underline!==a.underline||r.linethrough!==a.linethrough)},stylesToArray:function(g,a){for(var g=e.util.object.clone(g,!0),l=a.split(`
`),d=-1,m={},b=[],_=0;_<l.length;_++){if(!g[_]){d+=l[_].length;continue}for(var C=0;C<l[_].length;C++){d++;var S=g[_][C];if(S&&Object.keys(S).length>0){var w=e.util.hasStyleChanged(m,S,!0);w?b.push({start:d,end:d+1,style:S}):b[b.length-1].end++}m=S||{}}}return b},stylesFromArray:function(r,a){if(!Array.isArray(r))return r;for(var g=a.split(`
`),l=-1,d=0,m={},b=0;b<g.length;b++)for(var _=0;_<g[b].length;_++)l++,r[d]&&r[d].start<=l&&l<r[d].end&&(m[b]=m[b]||{},m[b][_]=Object.assign({},r[d].style),l===r[d].end-1&&d++);return m}}}(t),function(){var f=Array.prototype.join,n={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},c={m:"l",M:"L"};function h(P,H,j,A,X,M,E,I,Y,K,N){var J=e.util.cos(P),ee=e.util.sin(P),k=e.util.cos(H),O=e.util.sin(H),T=j*X*k-A*M*O+E,R=A*X*k+j*M*O+I,W=K+Y*(-j*X*ee-A*M*J),B=N+Y*(-A*X*ee+j*M*J),U=T+Y*(j*X*O+A*M*k),q=R+Y*(A*X*O-j*M*k);return["C",W,B,U,q,T,R]}function i(P,H,j,A,X,M,E){var I=Math.PI,Y=E*I/180,K=e.util.sin(Y),N=e.util.cos(Y),J=0,ee=0;j=Math.abs(j),A=Math.abs(A);var k=-N*P*.5-K*H*.5,O=-N*H*.5+K*P*.5,T=j*j,R=A*A,W=O*O,B=k*k,U=T*R-T*W-R*B,q=0;if(U<0){var ie=Math.sqrt(1-U/(T*R));j*=ie,A*=ie}else q=(X===M?-1:1)*Math.sqrt(U/(T*W+R*B));var Q=q*j*O/A,$=-q*A*k/j,ne=N*Q-K*$+P*.5,ae=K*Q+N*$+H*.5,le=o(1,0,(k-Q)/j,(O-$)/A),ce=o((k-Q)/j,(O-$)/A,(-k-Q)/j,(-O-$)/A);M===0&&ce>0?ce-=2*I:M===1&&ce<0&&(ce+=2*I);for(var fe=Math.ceil(Math.abs(ce/I*2)),de=[],he=ce/fe,xe=8/3*Math.sin(he/4)*Math.sin(he/4)/Math.sin(he/2),je=le+he,De=0;De<fe;De++)de[De]=h(le,je,N,K,j,A,ne,ae,xe,J,ee),J=de[De][5],ee=de[De][6],le=je,je+=he;return de}function o(P,H,j,A){var X=Math.atan2(H,P),M=Math.atan2(A,j);return M>=X?M-X:2*Math.PI-(X-M)}function r(P,H,j,A,X,M,E,I){var Y;if(e.cachesBoundsOfCurve&&(Y=f.call(arguments),e.boundsOfCurveCache[Y]))return e.boundsOfCurveCache[Y];var K=Math.sqrt,N=Math.min,J=Math.max,ee=Math.abs,k=[],O=[[],[]],T,R,W,B,U,q,ie,Q;R=6*P-12*j+6*X,T=-3*P+9*j-9*X+3*E,W=3*j-3*P;for(var $=0;$<2;++$){if($>0&&(R=6*H-12*A+6*M,T=-3*H+9*A-9*M+3*I,W=3*A-3*H),ee(T)<1e-12){if(ee(R)<1e-12)continue;B=-W/R,0<B&&B<1&&k.push(B);continue}ie=R*R-4*W*T,!(ie<0)&&(Q=K(ie),U=(-R+Q)/(2*T),0<U&&U<1&&k.push(U),q=(-R-Q)/(2*T),0<q&&q<1&&k.push(q))}for(var ne,ae,le=k.length,ce=le,fe;le--;)B=k[le],fe=1-B,ne=fe*fe*fe*P+3*fe*fe*B*j+3*fe*B*B*X+B*B*B*E,O[0][le]=ne,ae=fe*fe*fe*H+3*fe*fe*B*A+3*fe*B*B*M+B*B*B*I,O[1][le]=ae;O[0][ce]=P,O[1][ce]=H,O[0][ce+1]=E,O[1][ce+1]=I;var de=[{x:N.apply(null,O[0]),y:N.apply(null,O[1])},{x:J.apply(null,O[0]),y:J.apply(null,O[1])}];return e.cachesBoundsOfCurve&&(e.boundsOfCurveCache[Y]=de),de}function a(P,H,j){for(var A=j[1],X=j[2],M=j[3],E=j[4],I=j[5],Y=j[6],K=j[7],N=i(Y-P,K-H,A,X,E,I,M),J=0,ee=N.length;J<ee;J++)N[J][1]+=P,N[J][2]+=H,N[J][3]+=P,N[J][4]+=H,N[J][5]+=P,N[J][6]+=H;return N}function g(P){var H=0,j=0,A=P.length,X=0,M=0,E,I,Y,K=[],N,J,ee;for(I=0;I<A;++I){switch(Y=!1,E=P[I].slice(0),E[0]){case"l":E[0]="L",E[1]+=H,E[2]+=j;case"L":H=E[1],j=E[2];break;case"h":E[1]+=H;case"H":E[0]="L",E[2]=j,H=E[1];break;case"v":E[1]+=j;case"V":E[0]="L",j=E[1],E[1]=H,E[2]=j;break;case"m":E[0]="M",E[1]+=H,E[2]+=j;case"M":H=E[1],j=E[2],X=E[1],M=E[2];break;case"c":E[0]="C",E[1]+=H,E[2]+=j,E[3]+=H,E[4]+=j,E[5]+=H,E[6]+=j;case"C":J=E[3],ee=E[4],H=E[5],j=E[6];break;case"s":E[0]="S",E[1]+=H,E[2]+=j,E[3]+=H,E[4]+=j;case"S":N==="C"?(J=2*H-J,ee=2*j-ee):(J=H,ee=j),H=E[3],j=E[4],E[0]="C",E[5]=E[3],E[6]=E[4],E[3]=E[1],E[4]=E[2],E[1]=J,E[2]=ee,J=E[3],ee=E[4];break;case"q":E[0]="Q",E[1]+=H,E[2]+=j,E[3]+=H,E[4]+=j;case"Q":J=E[1],ee=E[2],H=E[3],j=E[4];break;case"t":E[0]="T",E[1]+=H,E[2]+=j;case"T":N==="Q"?(J=2*H-J,ee=2*j-ee):(J=H,ee=j),E[0]="Q",H=E[1],j=E[2],E[1]=J,E[2]=ee,E[3]=H,E[4]=j;break;case"a":E[0]="A",E[6]+=H,E[7]+=j;case"A":Y=!0,K=K.concat(a(H,j,E)),H=E[6],j=E[7];break;case"z":case"Z":H=X,j=M;break}Y||K.push(E),N=E[0]}return K}function l(P,H,j,A){return Math.sqrt((j-P)*(j-P)+(A-H)*(A-H))}function d(P){return P*P*P}function m(P){return 3*P*P*(1-P)}function b(P){return 3*P*(1-P)*(1-P)}function _(P){return(1-P)*(1-P)*(1-P)}function C(P,H,j,A,X,M,E,I){return function(Y){var K=d(Y),N=m(Y),J=b(Y),ee=_(Y);return{x:E*K+X*N+j*J+P*ee,y:I*K+M*N+A*J+H*ee}}}function S(P,H,j,A,X,M,E,I){return function(Y){var K=1-Y,N=3*K*K*(j-P)+6*K*Y*(X-j)+3*Y*Y*(E-X),J=3*K*K*(A-H)+6*K*Y*(M-A)+3*Y*Y*(I-M);return Math.atan2(J,N)}}function w(P){return P*P}function x(P){return 2*P*(1-P)}function F(P){return(1-P)*(1-P)}function V(P,H,j,A,X,M){return function(E){var I=w(E),Y=x(E),K=F(E);return{x:X*I+j*Y+P*K,y:M*I+A*Y+H*K}}}function L(P,H,j,A,X,M){return function(E){var I=1-E,Y=2*I*(j-P)+2*E*(X-j),K=2*I*(A-H)+2*E*(M-A);return Math.atan2(K,Y)}}function D(P,H,j){var A={x:H,y:j},X,M=0,E;for(E=1;E<=100;E+=1)X=P(E/100),M+=l(A.x,A.y,X.x,X.y),A=X;return M}function G(P,H){for(var j=0,A=0,X=P.iterator,M={x:P.x,y:P.y},E,I,Y=.01,K=P.angleFinder,N;A<H&&Y>1e-4;)E=X(j),N=j,I=l(M.x,M.y,E.x,E.y),I+A>H?(j-=Y,Y/=2):(M=E,j+=Y,A+=I);return E.angle=K(N),E}function z(P){for(var H=0,j=P.length,A,X=0,M=0,E=0,I=0,Y=[],K,N,J,ee=0;ee<j;ee++){switch(A=P[ee],N={x:X,y:M,command:A[0]},A[0]){case"M":N.length=0,E=X=A[1],I=M=A[2];break;case"L":N.length=l(X,M,A[1],A[2]),X=A[1],M=A[2];break;case"C":K=C(X,M,A[1],A[2],A[3],A[4],A[5],A[6]),J=S(X,M,A[1],A[2],A[3],A[4],A[5],A[6]),N.iterator=K,N.angleFinder=J,N.length=D(K,X,M),X=A[5],M=A[6];break;case"Q":K=V(X,M,A[1],A[2],A[3],A[4]),J=L(X,M,A[1],A[2],A[3],A[4]),N.iterator=K,N.angleFinder=J,N.length=D(K,X,M),X=A[3],M=A[4];break;case"Z":case"z":N.destX=E,N.destY=I,N.length=l(X,M,E,I),X=E,M=I;break}H+=N.length,Y.push(N)}return Y.push({length:H,x:X,y:M}),Y}function Z(P,H,j){j||(j=z(P));for(var A=0;H-j[A].length>0&&A<j.length-2;)H-=j[A].length,A++;var X=j[A],M=H/X.length,E=X.command,I=P[A],Y;switch(E){case"M":return{x:X.x,y:X.y,angle:0};case"Z":case"z":return Y=new e.Point(X.x,X.y).lerp(new e.Point(X.destX,X.destY),M),Y.angle=Math.atan2(X.destY-X.y,X.destX-X.x),Y;case"L":return Y=new e.Point(X.x,X.y).lerp(new e.Point(I[1],I[2]),M),Y.angle=Math.atan2(I[2]-X.y,I[1]-X.x),Y;case"C":return G(X,H);case"Q":return G(X,H)}}function te(P){var H=[],j=[],A,X,M=e.rePathCommand,E="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",I="("+E+")"+e.commaWsp,Y="([01])"+e.commaWsp+"?",K=I+"?"+I+"?"+I+Y+Y+I+"?("+E+")",N=new RegExp(K,"g"),J,ee,k;if(!P||!P.match)return H;k=P.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var O=0,T,R=k.length;O<R;O++){A=k[O],ee=A.slice(1).trim(),j.length=0;var W=A.charAt(0);if(T=[W],W.toLowerCase()==="a")for(var B;B=N.exec(ee);)for(var U=1;U<B.length;U++)j.push(B[U]);else for(;J=M.exec(ee);)j.push(J[0]);for(var U=0,q=j.length;U<q;U++)X=parseFloat(j[U]),isNaN(X)||T.push(X);var ie=n[W.toLowerCase()],Q=c[W]||W;if(T.length-1>ie)for(var $=1,ne=T.length;$<ne;$+=ie)H.push([W].concat(T.slice($,$+ie))),W=Q;else H.push(T)}return H}function se(P,H){var j=[],A,X=new e.Point(P[0].x,P[0].y),M=new e.Point(P[1].x,P[1].y),E=P.length,I=1,Y=0,K=E>2;for(H=H||0,K&&(I=P[2].x<M.x?-1:P[2].x===M.x?0:1,Y=P[2].y<M.y?-1:P[2].y===M.y?0:1),j.push(["M",X.x-I*H,X.y-Y*H]),A=1;A<E;A++){if(!X.eq(M)){var N=X.midPointFrom(M);j.push(["Q",X.x,X.y,N.x,N.y])}X=P[A],A+1<P.length&&(M=P[A+1])}return K&&(I=X.x>P[A-2].x?1:X.x===P[A-2].x?0:-1,Y=X.y>P[A-2].y?1:X.y===P[A-2].y?0:-1),j.push(["L",X.x+I*H,X.y+Y*H]),j}function oe(P,H,j){return j&&(H=e.util.multiplyTransformMatrices(H,[1,0,0,1,-j.x,-j.y])),P.map(function(A){for(var X=A.slice(0),M={},E=1;E<A.length-1;E+=2)M.x=A[E],M.y=A[E+1],M=e.util.transformPoint(M,H),X[E]=M.x,X[E+1]=M.y;return X})}e.util.joinPath=function(P){return P.map(function(H){return H.join(" ")}).join(" ")},e.util.parsePath=te,e.util.makePathSimpler=g,e.util.getSmoothPathFromPoints=se,e.util.getPathSegmentsInfo=z,e.util.getBoundsOfCurve=r,e.util.getPointOnPath=Z,e.util.transformPath=oe}(),function(){var f=Array.prototype.slice;function n(r,a){for(var g=f.call(arguments,2),l=[],d=0,m=r.length;d<m;d++)l[d]=g.length?r[d][a].apply(r[d],g):r[d][a].call(r[d]);return l}function c(r,a){return o(r,a,function(g,l){return g>=l})}function h(r,a){return o(r,a,function(g,l){return g<l})}function i(r,a){for(var g=r.length;g--;)r[g]=a;return r}function o(r,a,g){if(!(!r||r.length===0)){var l=r.length-1,d=a?r[l][a]:r[l];if(a)for(;l--;)g(r[l][a],d)&&(d=r[l][a]);else for(;l--;)g(r[l],d)&&(d=r[l]);return d}}e.util.array={fill:i,invoke:n,min:h,max:c}}(),function(){function f(c,h,i){if(i)if(!e.isLikelyNode&&h instanceof Element)c=h;else if(h instanceof Array){c=[];for(var o=0,r=h.length;o<r;o++)c[o]=f({},h[o],i)}else if(h&&typeof h=="object")for(var a in h)a==="canvas"||a==="group"?c[a]=null:h.hasOwnProperty(a)&&(c[a]=f({},h[a],i));else c=h;else for(var a in h)c[a]=h[a];return c}function n(c,h){return f({},c,h)}e.util.object={extend:f,clone:n},e.util.object.extend(e.util,e.Observable)}(),function(){function f(o){return o.replace(/-+(.)?/g,function(r,a){return a?a.toUpperCase():""})}function n(o,r){return o.charAt(0).toUpperCase()+(r?o.slice(1):o.slice(1).toLowerCase())}function c(o){return o.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function h(o){var r=0,a,g=[];for(r=0,a;r<o.length;r++)(a=i(o,r))!==!1&&g.push(a);return g}function i(o,r){var a=o.charCodeAt(r);if(isNaN(a))return"";if(a<55296||a>57343)return o.charAt(r);if(55296<=a&&a<=56319){if(o.length<=r+1)throw"High surrogate without following low surrogate";var g=o.charCodeAt(r+1);if(56320>g||g>57343)throw"High surrogate without following low surrogate";return o.charAt(r)+o.charAt(r+1)}if(r===0)throw"Low surrogate without preceding high surrogate";var l=o.charCodeAt(r-1);if(55296>l||l>56319)throw"Low surrogate without preceding high surrogate";return!1}e.util.string={camelize:f,capitalize:n,escapeXml:c,graphemeSplit:h}}(),function(){var f=Array.prototype.slice,n=function(){},c=function(){for(var a in{toString:1})if(a==="toString")return!1;return!0}(),h=function(a,g,l){for(var d in g)d in a.prototype&&typeof a.prototype[d]=="function"&&(g[d]+"").indexOf("callSuper")>-1?a.prototype[d]=function(m){return function(){var b=this.constructor.superclass;this.constructor.superclass=l;var _=g[m].apply(this,arguments);if(this.constructor.superclass=b,m!=="initialize")return _}}(d):a.prototype[d]=g[d],c&&(g.toString!==Object.prototype.toString&&(a.prototype.toString=g.toString),g.valueOf!==Object.prototype.valueOf&&(a.prototype.valueOf=g.valueOf))};function i(){}function o(a){for(var g=null,l=this;l.constructor.superclass;){var d=l.constructor.superclass.prototype[a];if(l[a]!==d){g=d;break}l=l.constructor.superclass.prototype}return g?arguments.length>1?g.apply(this,f.call(arguments,1)):g.call(this):console.log("tried to callSuper "+a+", method not found in prototype chain",this)}function r(){var a=null,g=f.call(arguments,0);typeof g[0]=="function"&&(a=g.shift());function l(){this.initialize.apply(this,arguments)}l.superclass=a,l.subclasses=[],a&&(i.prototype=a.prototype,l.prototype=new i,a.subclasses.push(l));for(var d=0,m=g.length;d<m;d++)h(l,g[d],a);return l.prototype.initialize||(l.prototype.initialize=n),l.prototype.constructor=l,l.prototype.callSuper=o,l}e.util.createClass=r}(),function(){var f=!!e.document.createElement("div").attachEvent,n=["touchstart","touchmove","touchend"];e.util.addListener=function(h,i,o,r){h&&h.addEventListener(i,o,f?!1:r)},e.util.removeListener=function(h,i,o,r){h&&h.removeEventListener(i,o,f?!1:r)};function c(h){var i=h.changedTouches;return i&&i[0]?i[0]:h}e.util.getPointer=function(h){var i=h.target,o=e.util.getScrollLeftTop(i),r=c(h);return{x:r.clientX+o.left,y:r.clientY+o.top}},e.util.isTouchEvent=function(h){return n.indexOf(h.type)>-1||h.pointerType==="touch"}}(),function(){function f(r,a){var g=r.style;if(!g)return r;if(typeof a=="string")return r.style.cssText+=";"+a,a.indexOf("opacity")>-1?o(r,a.match(/opacity:\s*(\d?\.?\d*)/)[1]):r;for(var l in a)if(l==="opacity")o(r,a[l]);else{var d=l==="float"||l==="cssFloat"?typeof g.styleFloat>"u"?"cssFloat":"styleFloat":l;g.setProperty(d,a[l])}return r}var n=e.document.createElement("div"),c=typeof n.style.opacity=="string",h=typeof n.style.filter=="string",i=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,o=function(r){return r};c?o=function(r,a){return r.style.opacity=a,r}:h&&(o=function(r,a){var g=r.style;return r.currentStyle&&!r.currentStyle.hasLayout&&(g.zoom=1),i.test(g.filter)?(a=a>=.9999?"":"alpha(opacity="+a*100+")",g.filter=g.filter.replace(i,a)):g.filter+=" alpha(opacity="+a*100+")",r}),e.util.setStyle=f}(),function(){var f=Array.prototype.slice;function n(_){return typeof _=="string"?e.document.getElementById(_):_}var c,h=function(_){return f.call(_,0)};try{c=h(e.document.childNodes)instanceof Array}catch{}c||(h=function(_){for(var C=new Array(_.length),S=_.length;S--;)C[S]=_[S];return C});function i(_,C){var S=e.document.createElement(_);for(var w in C)w==="class"?S.className=C[w]:w==="for"?S.htmlFor=C[w]:S.setAttribute(w,C[w]);return S}function o(_,C){_&&(" "+_.className+" ").indexOf(" "+C+" ")===-1&&(_.className+=(_.className?" ":"")+C)}function r(_,C,S){return typeof C=="string"&&(C=i(C,S)),_.parentNode&&_.parentNode.replaceChild(C,_),C.appendChild(_),C}function a(_){for(var C=0,S=0,w=e.document.documentElement,x=e.document.body||{scrollLeft:0,scrollTop:0};_&&(_.parentNode||_.host)&&(_=_.parentNode||_.host,_===e.document?(C=x.scrollLeft||w.scrollLeft||0,S=x.scrollTop||w.scrollTop||0):(C+=_.scrollLeft||0,S+=_.scrollTop||0),!(_.nodeType===1&&_.style.position==="fixed")););return{left:C,top:S}}function g(_){var C,S=_&&_.ownerDocument,w={left:0,top:0},x={left:0,top:0},F,V={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!S)return x;for(var L in V)x[V[L]]+=parseInt(l(_,L),10)||0;return C=S.documentElement,typeof _.getBoundingClientRect<"u"&&(w=_.getBoundingClientRect()),F=a(_),{left:w.left+F.left-(C.clientLeft||0)+x.left,top:w.top+F.top-(C.clientTop||0)+x.top}}var l;e.document.defaultView&&e.document.defaultView.getComputedStyle?l=function(_,C){var S=e.document.defaultView.getComputedStyle(_,null);return S?S[C]:void 0}:l=function(_,C){var S=_.style[C];return!S&&_.currentStyle&&(S=_.currentStyle[C]),S},function(){var _=e.document.documentElement.style,C="userSelect"in _?"userSelect":"MozUserSelect"in _?"MozUserSelect":"WebkitUserSelect"in _?"WebkitUserSelect":"KhtmlUserSelect"in _?"KhtmlUserSelect":"";function S(x){return typeof x.onselectstart<"u"&&(x.onselectstart=e.util.falseFunction),C?x.style[C]="none":typeof x.unselectable=="string"&&(x.unselectable="on"),x}function w(x){return typeof x.onselectstart<"u"&&(x.onselectstart=null),C?x.style[C]="":typeof x.unselectable=="string"&&(x.unselectable=""),x}e.util.makeElementUnselectable=S,e.util.makeElementSelectable=w}();function d(_){var C=e.jsdomImplForWrapper(_);return C._canvas||C._image}function m(_){if(e.isLikelyNode){var C=e.jsdomImplForWrapper(_);C&&(C._image=null,C._canvas=null,C._currentSrc=null,C._attributes=null,C._classList=null)}}function b(_,C){_.imageSmoothingEnabled=_.imageSmoothingEnabled||_.webkitImageSmoothingEnabled||_.mozImageSmoothingEnabled||_.msImageSmoothingEnabled||_.oImageSmoothingEnabled,_.imageSmoothingEnabled=C}e.util.setImageSmoothing=b,e.util.getById=n,e.util.toArray=h,e.util.addClass=o,e.util.makeElement=i,e.util.wrapElement=r,e.util.getScrollLeftTop=a,e.util.getElementOffset=g,e.util.getNodeCanvas=d,e.util.cleanUpJsdomNode=m}(),function(){function f(h,i){return h+(/\?/.test(h)?"&":"?")+i}function n(){}function c(h,i){i||(i={});var o=i.method?i.method.toUpperCase():"GET",r=i.onComplete||function(){},a=new e.window.XMLHttpRequest,g=i.body||i.parameters;return a.onreadystatechange=function(){a.readyState===4&&(r(a),a.onreadystatechange=n)},o==="GET"&&(g=null,typeof i.parameters=="string"&&(h=f(h,i.parameters))),a.open(o,h,!0),(o==="POST"||o==="PUT")&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(g),a}e.util.request=c}(),e.log=console.log,e.warn=console.warn,function(){var f=e.util.object.extend,n=e.util.object.clone,c=[];e.util.object.extend(c,{cancelAll:function(){var d=this.splice(0);return d.forEach(function(m){m.cancel()}),d},cancelByCanvas:function(d){if(!d)return[];var m=this.filter(function(b){return typeof b.target=="object"&&b.target.canvas===d});return m.forEach(function(b){b.cancel()}),m},cancelByTarget:function(d){var m=this.findAnimationsByTarget(d);return m.forEach(function(b){b.cancel()}),m},findAnimationIndex:function(d){return this.indexOf(this.findAnimation(d))},findAnimation:function(d){return this.find(function(m){return m.cancel===d})},findAnimationsByTarget:function(d){return d?this.filter(function(m){return m.target===d}):[]}});function h(){return!1}function i(d,m,b,_){return-b*Math.cos(d/_*(Math.PI/2))+b+m}function o(d){d||(d={});var m=!1,b,_=function(){var C=e.runningAnimations.indexOf(b);return C>-1&&e.runningAnimations.splice(C,1)[0]};return b=f(n(d),{cancel:function(){return m=!0,_()},currentValue:"startValue"in d?d.startValue:0,completionRate:0,durationRate:0}),e.runningAnimations.push(b),g(function(C){var S=C||+new Date,w=d.duration||500,x=S+w,F,V=d.onChange||h,L=d.abort||h,D=d.onComplete||h,G=d.easing||i,z="startValue"in d?d.startValue.length>0:!1,Z="startValue"in d?d.startValue:0,te="endValue"in d?d.endValue:100,se=d.byValue||(z?Z.map(function(oe,P){return te[P]-Z[P]}):te-Z);d.onStart&&d.onStart(),function oe(P){F=P||+new Date;var H=F>x?w:F-S,j=H/w,A=z?Z.map(function(M,E){return G(H,Z[E],se[E],w)}):G(H,Z,se,w),X=Math.abs(z?(A[0]-Z[0])/se[0]:(A-Z)/se);if(b.currentValue=z?A.slice():A,b.completionRate=X,b.durationRate=j,!m){if(L(A,X,j)){_();return}if(F>x){b.currentValue=z?te.slice():te,b.completionRate=1,b.durationRate=1,V(z?te.slice():te,1,1),D(te,1,1),_();return}else V(A,X,j),g(oe)}}(S)}),b.cancel}var r=e.window.requestAnimationFrame||e.window.webkitRequestAnimationFrame||e.window.mozRequestAnimationFrame||e.window.oRequestAnimationFrame||e.window.msRequestAnimationFrame||function(d){return e.window.setTimeout(d,1e3/60)},a=e.window.cancelAnimationFrame||e.window.clearTimeout;function g(){return r.apply(e.window,arguments)}function l(){return a.apply(e.window,arguments)}e.util.animate=o,e.util.requestAnimFrame=g,e.util.cancelAnimFrame=l,e.runningAnimations=c}(),function(){function f(c,h,i){var o="rgba("+parseInt(c[0]+i*(h[0]-c[0]),10)+","+parseInt(c[1]+i*(h[1]-c[1]),10)+","+parseInt(c[2]+i*(h[2]-c[2]),10);return o+=","+(c&&h?parseFloat(c[3]+i*(h[3]-c[3])):1),o+=")",o}function n(c,h,i,o){var r=new e.Color(c).getSource(),a=new e.Color(h).getSource(),g=o.onComplete,l=o.onChange;return o=o||{},e.util.animate(e.util.object.extend(o,{duration:i||500,startValue:r,endValue:a,byValue:a,easing:function(d,m,b,_){var C=o.colorEasing?o.colorEasing(d,_):1-Math.cos(d/_*(Math.PI/2));return f(m,b,C)},onComplete:function(d,m,b){if(g)return g(f(a,a,0),m,b)},onChange:function(d,m,b){if(l){if(Array.isArray(d))return l(f(d,d,0),m,b);l(d,m,b)}}}))}e.util.animateColor=n}(),function(){function f(P,H,j,A){return P<Math.abs(H)?(P=H,A=j/4):H===0&&P===0?A=j/(2*Math.PI)*Math.asin(1):A=j/(2*Math.PI)*Math.asin(H/P),{a:P,c:H,p:j,s:A}}function n(P,H,j){return P.a*Math.pow(2,10*(H-=1))*Math.sin((H*j-P.s)*(2*Math.PI)/P.p)}function c(P,H,j,A){return j*((P=P/A-1)*P*P+1)+H}function h(P,H,j,A){return P/=A/2,P<1?j/2*P*P*P+H:j/2*((P-=2)*P*P+2)+H}function i(P,H,j,A){return j*(P/=A)*P*P*P+H}function o(P,H,j,A){return-j*((P=P/A-1)*P*P*P-1)+H}function r(P,H,j,A){return P/=A/2,P<1?j/2*P*P*P*P+H:-j/2*((P-=2)*P*P*P-2)+H}function a(P,H,j,A){return j*(P/=A)*P*P*P*P+H}function g(P,H,j,A){return j*((P=P/A-1)*P*P*P*P+1)+H}function l(P,H,j,A){return P/=A/2,P<1?j/2*P*P*P*P*P+H:j/2*((P-=2)*P*P*P*P+2)+H}function d(P,H,j,A){return-j*Math.cos(P/A*(Math.PI/2))+j+H}function m(P,H,j,A){return j*Math.sin(P/A*(Math.PI/2))+H}function b(P,H,j,A){return-j/2*(Math.cos(Math.PI*P/A)-1)+H}function _(P,H,j,A){return P===0?H:j*Math.pow(2,10*(P/A-1))+H}function C(P,H,j,A){return P===A?H+j:j*(-Math.pow(2,-10*P/A)+1)+H}function S(P,H,j,A){return P===0?H:P===A?H+j:(P/=A/2,P<1?j/2*Math.pow(2,10*(P-1))+H:j/2*(-Math.pow(2,-10*--P)+2)+H)}function w(P,H,j,A){return-j*(Math.sqrt(1-(P/=A)*P)-1)+H}function x(P,H,j,A){return j*Math.sqrt(1-(P=P/A-1)*P)+H}function F(P,H,j,A){return P/=A/2,P<1?-j/2*(Math.sqrt(1-P*P)-1)+H:j/2*(Math.sqrt(1-(P-=2)*P)+1)+H}function V(P,H,j,A){var X=1.70158,M=0,E=j;if(P===0)return H;if(P/=A,P===1)return H+j;M||(M=A*.3);var I=f(E,j,M,X);return-n(I,P,A)+H}function L(P,H,j,A){var X=1.70158,M=0,E=j;if(P===0)return H;if(P/=A,P===1)return H+j;M||(M=A*.3);var I=f(E,j,M,X);return I.a*Math.pow(2,-10*P)*Math.sin((P*A-I.s)*(2*Math.PI)/I.p)+I.c+H}function D(P,H,j,A){var X=1.70158,M=0,E=j;if(P===0)return H;if(P/=A/2,P===2)return H+j;M||(M=A*(.3*1.5));var I=f(E,j,M,X);return P<1?-.5*n(I,P,A)+H:I.a*Math.pow(2,-10*(P-=1))*Math.sin((P*A-I.s)*(2*Math.PI)/I.p)*.5+I.c+H}function G(P,H,j,A,X){return X===void 0&&(X=1.70158),j*(P/=A)*P*((X+1)*P-X)+H}function z(P,H,j,A,X){return X===void 0&&(X=1.70158),j*((P=P/A-1)*P*((X+1)*P+X)+1)+H}function Z(P,H,j,A,X){return X===void 0&&(X=1.70158),P/=A/2,P<1?j/2*(P*P*(((X*=1.525)+1)*P-X))+H:j/2*((P-=2)*P*(((X*=1.525)+1)*P+X)+2)+H}function te(P,H,j,A){return j-se(A-P,0,j,A)+H}function se(P,H,j,A){return(P/=A)<1/2.75?j*(7.5625*P*P)+H:P<2/2.75?j*(7.5625*(P-=1.5/2.75)*P+.75)+H:P<2.5/2.75?j*(7.5625*(P-=2.25/2.75)*P+.9375)+H:j*(7.5625*(P-=2.625/2.75)*P+.984375)+H}function oe(P,H,j,A){return P<A/2?te(P*2,0,j,A)*.5+H:se(P*2-A,0,j,A)*.5+j*.5+H}e.util.ease={easeInQuad:function(P,H,j,A){return j*(P/=A)*P+H},easeOutQuad:function(P,H,j,A){return-j*(P/=A)*(P-2)+H},easeInOutQuad:function(P,H,j,A){return P/=A/2,P<1?j/2*P*P+H:-j/2*(--P*(P-2)-1)+H},easeInCubic:function(P,H,j,A){return j*(P/=A)*P*P+H},easeOutCubic:c,easeInOutCubic:h,easeInQuart:i,easeOutQuart:o,easeInOutQuart:r,easeInQuint:a,easeOutQuint:g,easeInOutQuint:l,easeInSine:d,easeOutSine:m,easeInOutSine:b,easeInExpo:_,easeOutExpo:C,easeInOutExpo:S,easeInCirc:w,easeOutCirc:x,easeInOutCirc:F,easeInElastic:V,easeOutElastic:L,easeInOutElastic:D,easeInBack:G,easeOutBack:z,easeInOutBack:Z,easeInBounce:te,easeOutBounce:se,easeInOutBounce:oe}}(),function(f){var n=f.fabric||(f.fabric={}),c=n.util.object.extend,h=n.util.object.clone,i=n.util.toFixed,o=n.util.parseUnit,r=n.util.multiplyTransformMatrices,a=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],g=["symbol","image","marker","pattern","view","svg"],l=["pattern","defs","symbol","metadata","clipPath","mask","desc"],d=["symbol","g","a","svg","clipPath","defs"],m={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},b={stroke:"strokeOpacity",fill:"fillOpacity"},_="font-size",C="clip-path";n.svgValidTagNamesRegEx=x(a),n.svgViewBoxElementsRegEx=x(g),n.svgInvalidAncestorsRegEx=x(l),n.svgValidParentsRegEx=x(d),n.cssRules={},n.gradientDefs={},n.clipPaths={};function S(M){return M in m?m[M]:M}function w(M,E,I,Y){var K=Array.isArray(E),N;if((M==="fill"||M==="stroke")&&E==="none")E="";else{if(M==="strokeUniform")return E==="non-scaling-stroke";if(M==="strokeDashArray")E==="none"?E=null:E=E.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(M==="transformMatrix")I&&I.transformMatrix?E=r(I.transformMatrix,n.parseTransformAttribute(E)):E=n.parseTransformAttribute(E);else if(M==="visible")E=E!=="none"&&E!=="hidden",I&&I.visible===!1&&(E=!1);else if(M==="opacity")E=parseFloat(E),I&&typeof I.opacity<"u"&&(E*=I.opacity);else if(M==="textAnchor")E=E==="start"?"left":E==="end"?"right":"center";else if(M==="charSpacing")N=o(E,Y)/Y*1e3;else if(M==="paintFirst"){var J=E.indexOf("fill"),ee=E.indexOf("stroke"),E="fill";(J>-1&&ee>-1&&ee<J||J===-1&&ee>-1)&&(E="stroke")}else{if(M==="href"||M==="xlink:href"||M==="font")return E;if(M==="imageSmoothing")return E==="optimizeQuality";N=K?E.map(o):o(E,Y)}}return!K&&isNaN(N)?E:N}function x(M){return new RegExp("^("+M.join("|")+")\\b","i")}function F(M){for(var E in b)if(!(typeof M[b[E]]>"u"||M[E]==="")){if(typeof M[E]>"u"){if(!n.Object.prototype[E])continue;M[E]=n.Object.prototype[E]}if(M[E].indexOf("url(")!==0){var I=new n.Color(M[E]);M[E]=I.setAlpha(i(I.getAlpha()*M[b[E]],2)).toRgba()}}return M}function V(M,E){var I,Y=[],K,N,J;for(N=0,J=E.length;N<J;N++)I=E[N],K=M.getElementsByTagName(I),Y=Y.concat(Array.prototype.slice.call(K));return Y}n.parseTransformAttribute=function(){function M($,ne){var ae=n.util.cos(ne[0]),le=n.util.sin(ne[0]),ce=0,fe=0;ne.length===3&&(ce=ne[1],fe=ne[2]),$[0]=ae,$[1]=le,$[2]=-le,$[3]=ae,$[4]=ce-(ae*ce-le*fe),$[5]=fe-(le*ce+ae*fe)}function E($,ne){var ae=ne[0],le=ne.length===2?ne[1]:ne[0];$[0]=ae,$[3]=le}function I($,ne,ae){$[ae]=Math.tan(n.util.degreesToRadians(ne[0]))}function Y($,ne){$[4]=ne[0],ne.length===2&&($[5]=ne[1])}var K=n.iMatrix,N=n.reNum,J=n.commaWsp,ee="(?:(skewX)\\s*\\(\\s*("+N+")\\s*\\))",k="(?:(skewY)\\s*\\(\\s*("+N+")\\s*\\))",O="(?:(rotate)\\s*\\(\\s*("+N+")(?:"+J+"("+N+")"+J+"("+N+"))?\\s*\\))",T="(?:(scale)\\s*\\(\\s*("+N+")(?:"+J+"("+N+"))?\\s*\\))",R="(?:(translate)\\s*\\(\\s*("+N+")(?:"+J+"("+N+"))?\\s*\\))",W="(?:(matrix)\\s*\\(\\s*("+N+")"+J+"("+N+")"+J+"("+N+")"+J+"("+N+")"+J+"("+N+")"+J+"("+N+")\\s*\\))",B="(?:"+W+"|"+R+"|"+T+"|"+O+"|"+ee+"|"+k+")",U="(?:"+B+"(?:"+J+"*"+B+")*)",q="^\\s*(?:"+U+"?)\\s*$",ie=new RegExp(q),Q=new RegExp(B,"g");return function($){var ne=K.concat(),ae=[];if(!$||$&&!ie.test($))return ne;$.replace(Q,function(ce){var fe=new RegExp(B).exec(ce).filter(function(xe){return!!xe}),de=fe[1],he=fe.slice(2).map(parseFloat);switch(de){case"translate":Y(ne,he);break;case"rotate":he[0]=n.util.degreesToRadians(he[0]),M(ne,he);break;case"scale":E(ne,he);break;case"skewX":I(ne,he,2);break;case"skewY":I(ne,he,1);break;case"matrix":ne=he;break}ae.push(ne.concat()),ne=K.concat()});for(var le=ae[0];ae.length>1;)ae.shift(),le=n.util.multiplyTransformMatrices(le,ae[0]);return le}}();function L(M,E){var I,Y;M.replace(/;\s*$/,"").split(";").forEach(function(K){var N=K.split(":");I=N[0].trim().toLowerCase(),Y=N[1].trim(),E[I]=Y})}function D(M,E){var I,Y;for(var K in M)typeof M[K]>"u"||(I=K.toLowerCase(),Y=M[K],E[I]=Y)}function G(M,E){var I={};for(var Y in n.cssRules[E])if(z(M,Y.split(" ")))for(var K in n.cssRules[E][Y])I[K]=n.cssRules[E][Y][K];return I}function z(M,E){var I,Y=!0;return I=te(M,E.pop()),I&&E.length&&(Y=Z(M,E)),I&&Y&&E.length===0}function Z(M,E){for(var I,Y=!0;M.parentNode&&M.parentNode.nodeType===1&&E.length;)Y&&(I=E.pop()),M=M.parentNode,Y=te(M,I);return E.length===0}function te(M,E){var I=M.nodeName,Y=M.getAttribute("class"),K=M.getAttribute("id"),N,J;if(N=new RegExp("^"+I,"i"),E=E.replace(N,""),K&&E.length&&(N=new RegExp("#"+K+"(?![a-zA-Z\\-]+)","i"),E=E.replace(N,"")),Y&&E.length)for(Y=Y.split(" "),J=Y.length;J--;)N=new RegExp("\\."+Y[J]+"(?![a-zA-Z\\-]+)","i"),E=E.replace(N,"");return E.length===0}function se(M,E){var I;if(M.getElementById&&(I=M.getElementById(E)),I)return I;var Y,K,N,J=M.getElementsByTagName("*");for(K=0,N=J.length;K<N;K++)if(Y=J[K],E===Y.getAttribute("id"))return Y}function oe(M){for(var E=V(M,["use","svg:use"]),I=0;E.length&&I<E.length;){var Y=E[I],K=Y.getAttribute("xlink:href")||Y.getAttribute("href");if(K===null)return;var N=K.slice(1),J=Y.getAttribute("x")||0,ee=Y.getAttribute("y")||0,k=se(M,N).cloneNode(!0),O=(k.getAttribute("transform")||"")+" translate("+J+", "+ee+")",T,R=E.length,W,B,U,q,ie=n.svgNS;if(H(k),/^svg$/i.test(k.nodeName)){var Q=k.ownerDocument.createElementNS(ie,"g");for(B=0,U=k.attributes,q=U.length;B<q;B++)W=U.item(B),Q.setAttributeNS(ie,W.nodeName,W.nodeValue);for(;k.firstChild;)Q.appendChild(k.firstChild);k=Q}for(B=0,U=Y.attributes,q=U.length;B<q;B++)W=U.item(B),!(W.nodeName==="x"||W.nodeName==="y"||W.nodeName==="xlink:href"||W.nodeName==="href")&&(W.nodeName==="transform"?O=W.nodeValue+" "+O:k.setAttribute(W.nodeName,W.nodeValue));k.setAttribute("transform",O),k.setAttribute("instantiated_by_use","1"),k.removeAttribute("id"),T=Y.parentNode,T.replaceChild(k,Y),E.length===R&&I++}}var P=new RegExp("^\\s*("+n.reNum+"+)\\s*,?\\s*("+n.reNum+"+)\\s*,?\\s*("+n.reNum+"+)\\s*,?\\s*("+n.reNum+"+)\\s*$");function H(M){if(!n.svgViewBoxElementsRegEx.test(M.nodeName))return{};var E=M.getAttribute("viewBox"),I=1,Y=1,K=0,N=0,J,ee,k,O,T=M.getAttribute("width"),R=M.getAttribute("height"),W=M.getAttribute("x")||0,B=M.getAttribute("y")||0,U=M.getAttribute("preserveAspectRatio")||"",q=!E||!(E=E.match(P)),ie=!T||!R||T==="100%"||R==="100%",Q=q&&ie,$={},ne="",ae=0,le=0;if($.width=0,$.height=0,$.toBeParsed=Q,q&&(W||B)&&M.parentNode&&M.parentNode.nodeName!=="#document"&&(ne=" translate("+o(W)+" "+o(B)+") ",k=(M.getAttribute("transform")||"")+ne,M.setAttribute("transform",k),M.removeAttribute("x"),M.removeAttribute("y")),Q)return $;if(q)return $.width=o(T),$.height=o(R),$;if(K=-parseFloat(E[1]),N=-parseFloat(E[2]),J=parseFloat(E[3]),ee=parseFloat(E[4]),$.minX=K,$.minY=N,$.viewBoxWidth=J,$.viewBoxHeight=ee,ie?($.width=J,$.height=ee):($.width=o(T),$.height=o(R),I=$.width/J,Y=$.height/ee),U=n.util.parsePreserveAspectRatioAttribute(U),U.alignX!=="none"&&(U.meetOrSlice==="meet"&&(Y=I=I>Y?Y:I),U.meetOrSlice==="slice"&&(Y=I=I>Y?I:Y),ae=$.width-J*I,le=$.height-ee*I,U.alignX==="Mid"&&(ae/=2),U.alignY==="Mid"&&(le/=2),U.alignX==="Min"&&(ae=0),U.alignY==="Min"&&(le=0)),I===1&&Y===1&&K===0&&N===0&&W===0&&B===0)return $;if((W||B)&&M.parentNode.nodeName!=="#document"&&(ne=" translate("+o(W)+" "+o(B)+") "),k=ne+" matrix("+I+" 0 0 "+Y+" "+(K*I+ae)+" "+(N*Y+le)+") ",M.nodeName==="svg"){for(O=M.ownerDocument.createElementNS(n.svgNS,"g");M.firstChild;)O.appendChild(M.firstChild);M.appendChild(O)}else O=M,O.removeAttribute("x"),O.removeAttribute("y"),k=O.getAttribute("transform")+k;return O.setAttribute("transform",k),$}function j(M,E){for(;M&&(M=M.parentNode);)if(M.nodeName&&E.test(M.nodeName.replace("svg:",""))&&!M.getAttribute("instantiated_by_use"))return!0;return!1}n.parseSVGDocument=function(M,E,I,Y){if(M){oe(M);var K=n.Object.__uid++,N,J,ee=H(M),k=n.util.toArray(M.getElementsByTagName("*"));if(ee.crossOrigin=Y&&Y.crossOrigin,ee.svgUid=K,k.length===0&&n.isLikelyNode){k=M.selectNodes('//*[name(.)!="svg"]');var O=[];for(N=0,J=k.length;N<J;N++)O[N]=k[N];k=O}var T=k.filter(function(W){return H(W),n.svgValidTagNamesRegEx.test(W.nodeName.replace("svg:",""))&&!j(W,n.svgInvalidAncestorsRegEx)});if(!T||T&&!T.length){E&&E([],{});return}var R={};k.filter(function(W){return W.nodeName.replace("svg:","")==="clipPath"}).forEach(function(W){var B=W.getAttribute("id");R[B]=n.util.toArray(W.getElementsByTagName("*")).filter(function(U){return n.svgValidTagNamesRegEx.test(U.nodeName.replace("svg:",""))})}),n.gradientDefs[K]=n.getGradientDefs(M),n.cssRules[K]=n.getCSSRules(M),n.clipPaths[K]=R,n.parseElements(T,function(W,B){E&&(E(W,ee,B,k),delete n.gradientDefs[K],delete n.cssRules[K],delete n.clipPaths[K])},h(ee),I,Y)}};function A(M,E){var I=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],Y="xlink:href",K=E.getAttribute(Y).slice(1),N=se(M,K);if(N&&N.getAttribute(Y)&&A(M,N),I.forEach(function(ee){N&&!E.hasAttribute(ee)&&N.hasAttribute(ee)&&E.setAttribute(ee,N.getAttribute(ee))}),!E.children.length)for(var J=N.cloneNode(!0);J.firstChild;)E.appendChild(J.firstChild);E.removeAttribute(Y)}var X=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+n.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+n.reNum+"))?\\s+(.*)");c(n,{parseFontDeclaration:function(M,E){var I=M.match(X);if(I){var Y=I[1],K=I[3],N=I[4],J=I[5],ee=I[6];Y&&(E.fontStyle=Y),K&&(E.fontWeight=isNaN(parseFloat(K))?K:parseFloat(K)),N&&(E.fontSize=o(N)),ee&&(E.fontFamily=ee),J&&(E.lineHeight=J==="normal"?1:J)}},getGradientDefs:function(M){var E=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],I=V(M,E),Y,K=0,N={};for(K=I.length;K--;)Y=I[K],Y.getAttribute("xlink:href")&&A(M,Y),N[Y.getAttribute("id")]=Y;return N},parseAttributes:function(M,E,I){if(M){var Y,K={},N,J;typeof I>"u"&&(I=M.getAttribute("svgUid")),M.parentNode&&n.svgValidParentsRegEx.test(M.parentNode.nodeName)&&(K=n.parseAttributes(M.parentNode,E,I));var ee=E.reduce(function(U,q){return Y=M.getAttribute(q),Y&&(U[q]=Y),U},{}),k=c(G(M,I),n.parseStyleAttribute(M));ee=c(ee,k),k[C]&&M.setAttribute(C,k[C]),N=J=K.fontSize||n.Text.DEFAULT_SVG_FONT_SIZE,ee[_]&&(ee[_]=N=o(ee[_],J));var O,T,R={};for(var W in ee)O=S(W),T=w(O,ee[W],K,N),R[O]=T;R&&R.font&&n.parseFontDeclaration(R.font,R);var B=c(K,R);return n.svgValidParentsRegEx.test(M.nodeName)?B:F(B)}},parseElements:function(M,E,I,Y,K){new n.ElementsParser(M,E,I,Y,K).parse()},parseStyleAttribute:function(M){var E={},I=M.getAttribute("style");return I&&(typeof I=="string"?L(I,E):D(I,E)),E},parsePointsAttribute:function(M){if(!M)return null;M=M.replace(/,/g," ").trim(),M=M.split(/\s+/);var E=[],I,Y;for(I=0,Y=M.length;I<Y;I+=2)E.push({x:parseFloat(M[I]),y:parseFloat(M[I+1])});return E},getCSSRules:function(M){var E=M.getElementsByTagName("style"),I,Y,K={},N;for(I=0,Y=E.length;I<Y;I++){var J=E[I].textContent;J=J.replace(/\/\*[\s\S]*?\*\//g,""),J.trim()!==""&&(N=J.split("}"),N=N.filter(function(ee){return ee.trim()}),N.forEach(function(ee){var k=ee.split("{"),O={},T=k[1].trim(),R=T.split(";").filter(function(q){return q.trim()});for(I=0,Y=R.length;I<Y;I++){var W=R[I].split(":"),B=W[0].trim(),U=W[1].trim();O[B]=U}ee=k[0].trim(),ee.split(",").forEach(function(q){q=q.replace(/^svg/i,"").trim(),q!==""&&(K[q]?n.util.object.extend(K[q],O):K[q]=n.util.object.clone(O))})}))}return K},loadSVGFromURL:function(M,E,I,Y){M=M.replace(/^\n\s*/,"").trim(),new n.util.request(M,{method:"get",onComplete:K});function K(N){var J=N.responseXML;if(!J||!J.documentElement)return E&&E(null),!1;n.parseSVGDocument(J.documentElement,function(ee,k,O,T){E&&E(ee,k,O,T)},I,Y)}},loadSVGFromString:function(M,E,I,Y){var K=new n.window.DOMParser,N=K.parseFromString(M.trim(),"text/xml");n.parseSVGDocument(N.documentElement,function(J,ee,k,O){E(J,ee,k,O)},I,Y)}})}(t),e.ElementsParser=function(f,n,c,h,i,o){this.elements=f,this.callback=n,this.options=c,this.reviver=h,this.svgUid=c&&c.svgUid||0,this.parsingOptions=i,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=o},function(f){f.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},f.createObjects=function(){var n=this;this.elements.forEach(function(c,h){c.setAttribute("svgUid",n.svgUid),n.createObject(c,h)})},f.findTag=function(n){return e[e.util.string.capitalize(n.tagName.replace("svg:",""))]},f.createObject=function(n,c){var h=this.findTag(n);if(h&&h.fromElement)try{h.fromElement(n,this.createCallback(c,n),this.options)}catch(i){e.log(i)}else this.checkIfDone()},f.createCallback=function(n,c){var h=this;return function(i){var o;h.resolveGradient(i,c,"fill"),h.resolveGradient(i,c,"stroke"),i instanceof e.Image&&i._originalElement&&(o=i.parsePreserveAspectRatioAttribute(c)),i._removeTransformMatrix(o),h.resolveClipPath(i,c),h.reviver&&h.reviver(c,i),h.instances[n]=i,h.checkIfDone()}},f.extractPropertyDefinition=function(n,c,h){var i=n[c],o=this.regexUrl;if(o.test(i)){o.lastIndex=0;var r=o.exec(i)[1];return o.lastIndex=0,e[h][this.svgUid][r]}},f.resolveGradient=function(n,c,h){var i=this.extractPropertyDefinition(n,h,"gradientDefs");if(i){var o=c.getAttribute(h+"-opacity"),r=e.Gradient.fromElement(i,n,o,this.options);n.set(h,r)}},f.createClipPathCallback=function(n,c){return function(h){h._removeTransformMatrix(),h.fillRule=h.clipRule,c.push(h)}},f.resolveClipPath=function(n,c){var h=this.extractPropertyDefinition(n,"clipPath","clipPaths"),i,o,r,a,g,l;if(h){a=[],r=e.util.invertTransform(n.calcTransformMatrix());for(var d=h[0].parentNode,m=c;m.parentNode&&m.getAttribute("clip-path")!==n.clipPath;)m=m.parentNode;m.parentNode.appendChild(d);for(var b=0;b<h.length;b++)i=h[b],o=this.findTag(i),o.fromElement(i,this.createClipPathCallback(n,a),this.options);a.length===1?h=a[0]:h=new e.Group(a),g=e.util.multiplyTransformMatrices(r,h.calcTransformMatrix()),h.clipPath&&this.resolveClipPath(h,m);var l=e.util.qrDecompose(g);h.flipX=!1,h.flipY=!1,h.set("scaleX",l.scaleX),h.set("scaleY",l.scaleY),h.angle=l.angle,h.skewX=l.skewX,h.skewY=0,h.setPositionByOrigin({x:l.translateX,y:l.translateY},"center","center"),n.clipPath=h}else delete n.clipPath},f.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(n){return n!=null}),this.callback(this.instances,this.elements))}}(e.ElementsParser.prototype),function(f){var n=f.fabric||(f.fabric={});if(n.Point){n.warn("fabric.Point is already defined");return}n.Point=c;function c(h,i){this.x=h,this.y=i}c.prototype={type:"point",constructor:c,add:function(h){return new c(this.x+h.x,this.y+h.y)},addEquals:function(h){return this.x+=h.x,this.y+=h.y,this},scalarAdd:function(h){return new c(this.x+h,this.y+h)},scalarAddEquals:function(h){return this.x+=h,this.y+=h,this},subtract:function(h){return new c(this.x-h.x,this.y-h.y)},subtractEquals:function(h){return this.x-=h.x,this.y-=h.y,this},scalarSubtract:function(h){return new c(this.x-h,this.y-h)},scalarSubtractEquals:function(h){return this.x-=h,this.y-=h,this},multiply:function(h){return new c(this.x*h,this.y*h)},multiplyEquals:function(h){return this.x*=h,this.y*=h,this},divide:function(h){return new c(this.x/h,this.y/h)},divideEquals:function(h){return this.x/=h,this.y/=h,this},eq:function(h){return this.x===h.x&&this.y===h.y},lt:function(h){return this.x<h.x&&this.y<h.y},lte:function(h){return this.x<=h.x&&this.y<=h.y},gt:function(h){return this.x>h.x&&this.y>h.y},gte:function(h){return this.x>=h.x&&this.y>=h.y},lerp:function(h,i){return typeof i>"u"&&(i=.5),i=Math.max(Math.min(1,i),0),new c(this.x+(h.x-this.x)*i,this.y+(h.y-this.y)*i)},distanceFrom:function(h){var i=this.x-h.x,o=this.y-h.y;return Math.sqrt(i*i+o*o)},midPointFrom:function(h){return this.lerp(h)},min:function(h){return new c(Math.min(this.x,h.x),Math.min(this.y,h.y))},max:function(h){return new c(Math.max(this.x,h.x),Math.max(this.y,h.y))},toString:function(){return this.x+","+this.y},setXY:function(h,i){return this.x=h,this.y=i,this},setX:function(h){return this.x=h,this},setY:function(h){return this.y=h,this},setFromPoint:function(h){return this.x=h.x,this.y=h.y,this},swap:function(h){var i=this.x,o=this.y;this.x=h.x,this.y=h.y,h.x=i,h.y=o},clone:function(){return new c(this.x,this.y)}}}(t),function(f){var n=f.fabric||(f.fabric={});if(n.Intersection){n.warn("fabric.Intersection is already defined");return}function c(h){this.status=h,this.points=[]}n.Intersection=c,n.Intersection.prototype={constructor:c,appendPoint:function(h){return this.points.push(h),this},appendPoints:function(h){return this.points=this.points.concat(h),this}},n.Intersection.intersectLineLine=function(h,i,o,r){var a,g=(r.x-o.x)*(h.y-o.y)-(r.y-o.y)*(h.x-o.x),l=(i.x-h.x)*(h.y-o.y)-(i.y-h.y)*(h.x-o.x),d=(r.y-o.y)*(i.x-h.x)-(r.x-o.x)*(i.y-h.y);if(d!==0){var m=g/d,b=l/d;0<=m&&m<=1&&0<=b&&b<=1?(a=new c("Intersection"),a.appendPoint(new n.Point(h.x+m*(i.x-h.x),h.y+m*(i.y-h.y)))):a=new c}else g===0||l===0?a=new c("Coincident"):a=new c("Parallel");return a},n.Intersection.intersectLinePolygon=function(h,i,o){var r=new c,a=o.length,g,l,d,m;for(m=0;m<a;m++)g=o[m],l=o[(m+1)%a],d=c.intersectLineLine(h,i,g,l),r.appendPoints(d.points);return r.points.length>0&&(r.status="Intersection"),r},n.Intersection.intersectPolygonPolygon=function(h,i){var o=new c,r=h.length,a;for(a=0;a<r;a++){var g=h[a],l=h[(a+1)%r],d=c.intersectLinePolygon(g,l,i);o.appendPoints(d.points)}return o.points.length>0&&(o.status="Intersection"),o},n.Intersection.intersectPolygonRectangle=function(h,i,o){var r=i.min(o),a=i.max(o),g=new n.Point(a.x,r.y),l=new n.Point(r.x,a.y),d=c.intersectLinePolygon(r,g,h),m=c.intersectLinePolygon(g,a,h),b=c.intersectLinePolygon(a,l,h),_=c.intersectLinePolygon(l,r,h),C=new c;return C.appendPoints(d.points),C.appendPoints(m.points),C.appendPoints(b.points),C.appendPoints(_.points),C.points.length>0&&(C.status="Intersection"),C}}(t),function(f){var n=f.fabric||(f.fabric={});if(n.Color){n.warn("fabric.Color is already defined.");return}function c(i){i?this._tryParsingColor(i):this.setSource([0,0,0,1])}n.Color=c,n.Color.prototype={_tryParsingColor:function(i){var o;i in c.colorNameMap&&(i=c.colorNameMap[i]),i==="transparent"&&(o=[255,255,255,0]),o||(o=c.sourceFromHex(i)),o||(o=c.sourceFromRgb(i)),o||(o=c.sourceFromHsl(i)),o||(o=[0,0,0,1]),o&&this.setSource(o)},_rgbToHsl:function(i,o,r){i/=255,o/=255,r/=255;var a,g,l,d=n.util.array.max([i,o,r]),m=n.util.array.min([i,o,r]);if(l=(d+m)/2,d===m)a=g=0;else{var b=d-m;switch(g=l>.5?b/(2-d-m):b/(d+m),d){case i:a=(o-r)/b+(o<r?6:0);break;case o:a=(r-i)/b+2;break;case r:a=(i-o)/b+4;break}a/=6}return[Math.round(a*360),Math.round(g*100),Math.round(l*100)]},getSource:function(){return this._source},setSource:function(i){this._source=i},toRgb:function(){var i=this.getSource();return"rgb("+i[0]+","+i[1]+","+i[2]+")"},toRgba:function(){var i=this.getSource();return"rgba("+i[0]+","+i[1]+","+i[2]+","+i[3]+")"},toHsl:function(){var i=this.getSource(),o=this._rgbToHsl(i[0],i[1],i[2]);return"hsl("+o[0]+","+o[1]+"%,"+o[2]+"%)"},toHsla:function(){var i=this.getSource(),o=this._rgbToHsl(i[0],i[1],i[2]);return"hsla("+o[0]+","+o[1]+"%,"+o[2]+"%,"+i[3]+")"},toHex:function(){var i=this.getSource(),o,r,a;return o=i[0].toString(16),o=o.length===1?"0"+o:o,r=i[1].toString(16),r=r.length===1?"0"+r:r,a=i[2].toString(16),a=a.length===1?"0"+a:a,o.toUpperCase()+r.toUpperCase()+a.toUpperCase()},toHexa:function(){var i=this.getSource(),o;return o=Math.round(i[3]*255),o=o.toString(16),o=o.length===1?"0"+o:o,this.toHex()+o.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(i){var o=this.getSource();return o[3]=i,this.setSource(o),this},toGrayscale:function(){var i=this.getSource(),o=parseInt((i[0]*.3+i[1]*.59+i[2]*.11).toFixed(0),10),r=i[3];return this.setSource([o,o,o,r]),this},toBlackWhite:function(i){var o=this.getSource(),r=(o[0]*.3+o[1]*.59+o[2]*.11).toFixed(0),a=o[3];return i=i||127,r=Number(r)<Number(i)?0:255,this.setSource([r,r,r,a]),this},overlayWith:function(i){i instanceof c||(i=new c(i));var o=[],r=this.getAlpha(),a=.5,g=this.getSource(),l=i.getSource(),d;for(d=0;d<3;d++)o.push(Math.round(g[d]*(1-a)+l[d]*a));return o[3]=r,this.setSource(o),this}},n.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,n.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,n.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,n.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function h(i,o,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?i+(o-i)*6*r:r<1/2?o:r<2/3?i+(o-i)*(2/3-r)*6:i}n.Color.fromRgb=function(i){return c.fromSource(c.sourceFromRgb(i))},n.Color.sourceFromRgb=function(i){var o=i.match(c.reRGBa);if(o){var r=parseInt(o[1],10)/(/%$/.test(o[1])?100:1)*(/%$/.test(o[1])?255:1),a=parseInt(o[2],10)/(/%$/.test(o[2])?100:1)*(/%$/.test(o[2])?255:1),g=parseInt(o[3],10)/(/%$/.test(o[3])?100:1)*(/%$/.test(o[3])?255:1);return[parseInt(r,10),parseInt(a,10),parseInt(g,10),o[4]?parseFloat(o[4]):1]}},n.Color.fromRgba=c.fromRgb,n.Color.fromHsl=function(i){return c.fromSource(c.sourceFromHsl(i))},n.Color.sourceFromHsl=function(i){var o=i.match(c.reHSLa);if(o){var r=(parseFloat(o[1])%360+360)%360/360,a=parseFloat(o[2])/(/%$/.test(o[2])?100:1),g=parseFloat(o[3])/(/%$/.test(o[3])?100:1),l,d,m;if(a===0)l=d=m=g;else{var b=g<=.5?g*(a+1):g+a-g*a,_=g*2-b;l=h(_,b,r+1/3),d=h(_,b,r),m=h(_,b,r-1/3)}return[Math.round(l*255),Math.round(d*255),Math.round(m*255),o[4]?parseFloat(o[4]):1]}},n.Color.fromHsla=c.fromHsl,n.Color.fromHex=function(i){return c.fromSource(c.sourceFromHex(i))},n.Color.sourceFromHex=function(i){if(i.match(c.reHex)){var o=i.slice(i.indexOf("#")+1),r=o.length===3||o.length===4,a=o.length===8||o.length===4,g=r?o.charAt(0)+o.charAt(0):o.substring(0,2),l=r?o.charAt(1)+o.charAt(1):o.substring(2,4),d=r?o.charAt(2)+o.charAt(2):o.substring(4,6),m=a?r?o.charAt(3)+o.charAt(3):o.substring(6,8):"FF";return[parseInt(g,16),parseInt(l,16),parseInt(d,16),parseFloat((parseInt(m,16)/255).toFixed(2))]}},n.Color.fromSource=function(i){var o=new c;return o.setSource(i),o}}(t),function(f){var n=f.fabric||(f.fabric={}),c=["e","se","s","sw","w","nw","n","ne","e"],h=["ns","nesw","ew","nwse"],i={},o="left",r="top",a="right",g="bottom",l="center",d={top:g,bottom:r,left:a,right:o,center:l},m=n.util.radiansToDegrees,b=Math.sign||function(O){return(O>0)-(O<0)||+O};function _(O,T){var R=O.angle+m(Math.atan2(T.y,T.x))+360;return Math.round(R%360/45)}function C(O,T){var R=T.transform.target,W=R.canvas,B=n.util.object.clone(T);B.target=R,W&&W.fire("object:"+O,B),R.fire(O,T)}function S(O,T){var R=T.canvas,W=R.uniScaleKey,B=O[W];return R.uniformScaling&&!B||!R.uniformScaling&&B}function w(O){return O.originX===l&&O.originY===l}function x(O,T,R){var W=O.lockScalingX,B=O.lockScalingY;return!!(W&&B||!T&&(W||B)&&R||W&&T==="x"||B&&T==="y")}function F(O,T,R){var W="not-allowed",B=S(O,R),U="";if(T.x!==0&&T.y===0?U="x":T.x===0&&T.y!==0&&(U="y"),x(R,U,B))return W;var q=_(R,T);return c[q]+"-resize"}function V(O,T,R){var W="not-allowed";if(T.x!==0&&R.lockSkewingY||T.y!==0&&R.lockSkewingX)return W;var B=_(R,T)%4;return h[B]+"-resize"}function L(O,T,R){return O[R.canvas.altActionKey]?i.skewCursorStyleHandler(O,T,R):i.scaleCursorStyleHandler(O,T,R)}function D(O,T,R){var W=O[R.canvas.altActionKey];if(T.x===0)return W?"skewX":"scaleY";if(T.y===0)return W?"skewY":"scaleX"}function G(O,T,R){return R.lockRotation?"not-allowed":T.cursorStyle}function z(O,T,R,W){return{e:O,transform:T,pointer:{x:R,y:W}}}function Z(O){return function(T,R,W,B){var U=R.target,q=U.getCenterPoint(),ie=U.translateToOriginPoint(q,R.originX,R.originY),Q=O(T,R,W,B);return U.setPositionByOrigin(ie,R.originX,R.originY),Q}}function te(O,T){return function(R,W,B,U){var q=T(R,W,B,U);return q&&C(O,z(R,W,B,U)),q}}function se(O,T,R,W,B){var U=O.target,q=U.controls[O.corner],ie=U.canvas.getZoom(),Q=U.padding/ie,$=U.toLocalPoint(new n.Point(W,B),T,R);return $.x>=Q&&($.x-=Q),$.x<=-Q&&($.x+=Q),$.y>=Q&&($.y-=Q),$.y<=Q&&($.y+=Q),$.x-=q.offsetX,$.y-=q.offsetY,$}function oe(O){return O.flipX!==O.flipY}function P(O,T,R,W,B){if(O[T]!==0){var U=O._getTransformedDimensions()[W],q=B/U*O[R];O.set(R,q)}}function H(O,T,R,W){var B=T.target,U=B._getTransformedDimensions(0,B.skewY),q=se(T,T.originX,T.originY,R,W),ie=Math.abs(q.x*2)-U.x,Q=B.skewX,$;ie<2?$=0:($=m(Math.atan2(ie/B.scaleX,U.y/B.scaleY)),T.originX===o&&T.originY===g&&($=-$),T.originX===a&&T.originY===r&&($=-$),oe(B)&&($=-$));var ne=Q!==$;if(ne){var ae=B._getTransformedDimensions().y;B.set("skewX",$),P(B,"skewY","scaleY","y",ae)}return ne}function j(O,T,R,W){var B=T.target,U=B._getTransformedDimensions(B.skewX,0),q=se(T,T.originX,T.originY,R,W),ie=Math.abs(q.y*2)-U.y,Q=B.skewY,$;ie<2?$=0:($=m(Math.atan2(ie/B.scaleY,U.x/B.scaleX)),T.originX===o&&T.originY===g&&($=-$),T.originX===a&&T.originY===r&&($=-$),oe(B)&&($=-$));var ne=Q!==$;if(ne){var ae=B._getTransformedDimensions().x;B.set("skewY",$),P(B,"skewX","scaleX","x",ae)}return ne}function A(O,T,R,W){var B=T.target,U=B.skewX,q,ie=T.originY;if(B.lockSkewingX)return!1;if(U===0){var Q=se(T,l,l,R,W);Q.x>0?q=o:q=a}else U>0&&(q=ie===r?o:a),U<0&&(q=ie===r?a:o),oe(B)&&(q=q===o?a:o);T.originX=q;var $=te("skewing",Z(H));return $(O,T,R,W)}function X(O,T,R,W){var B=T.target,U=B.skewY,q,ie=T.originX;if(B.lockSkewingY)return!1;if(U===0){var Q=se(T,l,l,R,W);Q.y>0?q=r:q=g}else U>0&&(q=ie===o?r:g),U<0&&(q=ie===o?g:r),oe(B)&&(q=q===r?g:r);T.originY=q;var $=te("skewing",Z(j));return $(O,T,R,W)}function M(O,T,R,W){var B=T,U=B.target,q=U.translateToOriginPoint(U.getCenterPoint(),B.originX,B.originY);if(U.lockRotation)return!1;var ie=Math.atan2(B.ey-q.y,B.ex-q.x),Q=Math.atan2(W-q.y,R-q.x),$=m(Q-ie+B.theta),ne=!0;if(U.snapAngle>0){var ae=U.snapAngle,le=U.snapThreshold||ae,ce=Math.ceil($/ae)*ae,fe=Math.floor($/ae)*ae;Math.abs($-fe)<le?$=fe:Math.abs($-ce)<le&&($=ce)}return $<0&&($=360+$),$%=360,ne=U.angle!==$,U.angle=$,ne}function E(O,T,R,W,B){B=B||{};var U=T.target,q=U.lockScalingX,ie=U.lockScalingY,Q=B.by,$,ne,ae,le,ce=S(O,U),fe=x(U,Q,ce),de,he,xe=T.gestureScale;if(fe)return!1;if(xe)ne=T.scaleX*xe,ae=T.scaleY*xe;else{if($=se(T,T.originX,T.originY,R,W),de=Q!=="y"?b($.x):1,he=Q!=="x"?b($.y):1,T.signX||(T.signX=de),T.signY||(T.signY=he),U.lockScalingFlip&&(T.signX!==de||T.signY!==he))return!1;if(le=U._getTransformedDimensions(),ce&&!Q){var je=Math.abs($.x)+Math.abs($.y),De=T.original,Je=Math.abs(le.x*De.scaleX/U.scaleX)+Math.abs(le.y*De.scaleY/U.scaleY),rt=je/Je;ne=De.scaleX*rt,ae=De.scaleY*rt}else ne=Math.abs($.x*U.scaleX/le.x),ae=Math.abs($.y*U.scaleY/le.y);w(T)&&(ne*=2,ae*=2),T.signX!==de&&Q!=="y"&&(T.originX=d[T.originX],ne*=-1,T.signX=de),T.signY!==he&&Q!=="x"&&(T.originY=d[T.originY],ae*=-1,T.signY=he)}var ke=U.scaleX,Le=U.scaleY;return Q?(Q==="x"&&U.set("scaleX",ne),Q==="y"&&U.set("scaleY",ae)):(!q&&U.set("scaleX",ne),!ie&&U.set("scaleY",ae)),ke!==U.scaleX||Le!==U.scaleY}function I(O,T,R,W){return E(O,T,R,W)}function Y(O,T,R,W){return E(O,T,R,W,{by:"x"})}function K(O,T,R,W){return E(O,T,R,W,{by:"y"})}function N(O,T,R,W){return O[T.target.canvas.altActionKey]?i.skewHandlerX(O,T,R,W):i.scalingY(O,T,R,W)}function J(O,T,R,W){return O[T.target.canvas.altActionKey]?i.skewHandlerY(O,T,R,W):i.scalingX(O,T,R,W)}function ee(O,T,R,W){var B=T.target,U=se(T,T.originX,T.originY,R,W),q=B.strokeWidth/(B.strokeUniform?B.scaleX:1),ie=w(T)?2:1,Q=B.width,$=Math.abs(U.x*ie/B.scaleX)-q;return B.set("width",Math.max($,0)),Q!==$}function k(O,T,R,W){var B=T.target,U=R-T.offsetX,q=W-T.offsetY,ie=!B.get("lockMovementX")&&B.left!==U,Q=!B.get("lockMovementY")&&B.top!==q;return ie&&B.set("left",U),Q&&B.set("top",q),(ie||Q)&&C("moving",z(O,T,R,W)),ie||Q}i.scaleCursorStyleHandler=F,i.skewCursorStyleHandler=V,i.scaleSkewCursorStyleHandler=L,i.rotationWithSnapping=te("rotating",Z(M)),i.scalingEqually=te("scaling",Z(I)),i.scalingX=te("scaling",Z(Y)),i.scalingY=te("scaling",Z(K)),i.scalingYOrSkewingX=N,i.scalingXOrSkewingY=J,i.changeWidth=te("resizing",Z(ee)),i.skewHandlerX=A,i.skewHandlerY=X,i.dragHandler=k,i.scaleOrSkewActionName=D,i.rotationStyleHandler=G,i.fireEvent=C,i.wrapWithFixedAnchor=Z,i.wrapWithFireEvent=te,i.getLocalPoint=se,n.controlsUtils=i}(t),function(f){var n=f.fabric||(f.fabric={}),c=n.util.degreesToRadians,h=n.controlsUtils;function i(r,a,g,l,d){l=l||{};var m=this.sizeX||l.cornerSize||d.cornerSize,b=this.sizeY||l.cornerSize||d.cornerSize,_=typeof l.transparentCorners<"u"?l.transparentCorners:d.transparentCorners,C=_?"stroke":"fill",S=!_&&(l.cornerStrokeColor||d.cornerStrokeColor),w=a,x=g,F;r.save(),r.fillStyle=l.cornerColor||d.cornerColor,r.strokeStyle=l.cornerStrokeColor||d.cornerStrokeColor,m>b?(F=m,r.scale(1,b/m),x=g*m/b):b>m?(F=b,r.scale(m/b,1),w=a*b/m):F=m,r.lineWidth=1,r.beginPath(),r.arc(w,x,F/2,0,2*Math.PI,!1),r[C](),S&&r.stroke(),r.restore()}function o(r,a,g,l,d){l=l||{};var m=this.sizeX||l.cornerSize||d.cornerSize,b=this.sizeY||l.cornerSize||d.cornerSize,_=typeof l.transparentCorners<"u"?l.transparentCorners:d.transparentCorners,C=_?"stroke":"fill",S=!_&&(l.cornerStrokeColor||d.cornerStrokeColor),w=m/2,x=b/2;r.save(),r.fillStyle=l.cornerColor||d.cornerColor,r.strokeStyle=l.cornerStrokeColor||d.cornerStrokeColor,r.lineWidth=1,r.translate(a,g),r.rotate(c(d.angle)),r[C+"Rect"](-w,-x,m,b),S&&r.strokeRect(-w,-x,m,b),r.restore()}h.renderCircleControl=i,h.renderSquareControl=o}(t),function(f){var n=f.fabric||(f.fabric={});function c(h){for(var i in h)this[i]=h[i]}n.Control=c,n.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(h,i){return i.cursorStyle},getActionName:function(h,i){return i.actionName},getVisibility:function(h,i){var o=h._controlsVisibility;return o&&typeof o[i]<"u"?o[i]:this.visible},setVisibility:function(h){this.visible=h},positionHandler:function(h,i){var o=n.util.transformPoint({x:this.x*h.x+this.offsetX,y:this.y*h.y+this.offsetY},i);return o},calcCornerCoords:function(h,i,o,r,a){var g,l,d,m,b=a?this.touchSizeX:this.sizeX,_=a?this.touchSizeY:this.sizeY;if(b&&_&&b!==_){var C=Math.atan2(_,b),S=Math.sqrt(b*b+_*_)/2,w=C-n.util.degreesToRadians(h),x=Math.PI/2-C-n.util.degreesToRadians(h);g=S*n.util.cos(w),l=S*n.util.sin(w),d=S*n.util.cos(x),m=S*n.util.sin(x)}else{var F=b&&_?b:i;S=F*.7071067812;var w=n.util.degreesToRadians(45-h);g=d=S*n.util.cos(w),l=m=S*n.util.sin(w)}return{tl:{x:o-m,y:r-d},tr:{x:o+g,y:r-l},bl:{x:o-g,y:r+l},br:{x:o+m,y:r+d}}},render:function(h,i,o,r,a){switch(r=r||{},r.cornerStyle||a.cornerStyle){case"circle":n.controlsUtils.renderCircleControl.call(this,h,i,o,r,a);break;default:n.controlsUtils.renderSquareControl.call(this,h,i,o,r,a)}}}}(t),function(){function f(o,r){var a=o.getAttribute("style"),g=o.getAttribute("offset")||0,l,d,m,b;if(g=parseFloat(g)/(/%$/.test(g)?100:1),g=g<0?0:g>1?1:g,a){var _=a.split(/\s*;\s*/);for(_[_.length-1]===""&&_.pop(),b=_.length;b--;){var C=_[b].split(/\s*:\s*/),S=C[0].trim(),w=C[1].trim();S==="stop-color"?l=w:S==="stop-opacity"&&(m=w)}}return l||(l=o.getAttribute("stop-color")||"rgb(0,0,0)"),m||(m=o.getAttribute("stop-opacity")),l=new e.Color(l),d=l.getAlpha(),m=isNaN(parseFloat(m))?1:parseFloat(m),m*=d*r,{offset:g,color:l.toRgb(),opacity:m}}function n(o){return{x1:o.getAttribute("x1")||0,y1:o.getAttribute("y1")||0,x2:o.getAttribute("x2")||"100%",y2:o.getAttribute("y2")||0}}function c(o){return{x1:o.getAttribute("fx")||o.getAttribute("cx")||"50%",y1:o.getAttribute("fy")||o.getAttribute("cy")||"50%",r1:0,x2:o.getAttribute("cx")||"50%",y2:o.getAttribute("cy")||"50%",r2:o.getAttribute("r")||"50%"}}var h=e.util.object.clone;e.Gradient=e.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(o){o||(o={}),o.coords||(o.coords={});var r,a=this;Object.keys(o).forEach(function(g){a[g]=o[g]}),this.id?this.id+="_"+e.Object.__uid++:this.id=e.Object.__uid++,r={x1:o.coords.x1||0,y1:o.coords.y1||0,x2:o.coords.x2||0,y2:o.coords.y2||0},this.type==="radial"&&(r.r1=o.coords.r1||0,r.r2=o.coords.r2||0),this.coords=r,this.colorStops=o.colorStops.slice()},addColorStop:function(o){for(var r in o){var a=new e.Color(o[r]);this.colorStops.push({offset:parseFloat(r),color:a.toRgb(),opacity:a.getAlpha()})}return this},toObject:function(o){var r={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return e.util.populateWithProperties(this,r,o),r},toSVG:function(o,d){var a=h(this.coords,!0),g,l,d=d||{},m,b,_=h(this.colorStops,!0),C=a.r1>a.r2,S=this.gradientTransform?this.gradientTransform.concat():e.iMatrix.concat(),w=-this.offsetX,x=-this.offsetY,F=!!d.additionalTransform,V=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(_.sort(function(Z,te){return Z.offset-te.offset}),V==="objectBoundingBox"?(w/=o.width,x/=o.height):(w+=o.width/2,x+=o.height/2),o.type==="path"&&this.gradientUnits!=="percentage"&&(w-=o.pathOffset.x,x-=o.pathOffset.y),S[4]-=w,S[5]-=x,b='id="SVGID_'+this.id+'" gradientUnits="'+V+'"',b+=' gradientTransform="'+(F?d.additionalTransform+" ":"")+e.util.matrixToSVG(S)+'" ',this.type==="linear"?m=["<linearGradient ",b,' x1="',a.x1,'" y1="',a.y1,'" x2="',a.x2,'" y2="',a.y2,`">
`]:this.type==="radial"&&(m=["<radialGradient ",b,' cx="',C?a.x1:a.x2,'" cy="',C?a.y1:a.y2,'" r="',C?a.r1:a.r2,'" fx="',C?a.x2:a.x1,'" fy="',C?a.y2:a.y1,`">
`]),this.type==="radial"){if(C)for(_=_.concat(),_.reverse(),g=0,l=_.length;g<l;g++)_[g].offset=1-_[g].offset;var L=Math.min(a.r1,a.r2);if(L>0){var D=Math.max(a.r1,a.r2),G=L/D;for(g=0,l=_.length;g<l;g++)_[g].offset+=G*(1-_[g].offset)}}for(g=0,l=_.length;g<l;g++){var z=_[g];m.push("<stop ",'offset="',z.offset*100+"%",'" style="stop-color:',z.color,typeof z.opacity<"u"?";stop-opacity: "+z.opacity:";",`"/>
`)}return m.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),m.join("")},toLive:function(o){var r,a=e.util.object.clone(this.coords),g,l;if(this.type){for(this.type==="linear"?r=o.createLinearGradient(a.x1,a.y1,a.x2,a.y2):this.type==="radial"&&(r=o.createRadialGradient(a.x1,a.y1,a.r1,a.x2,a.y2,a.r2)),g=0,l=this.colorStops.length;g<l;g++){var d=this.colorStops[g].color,m=this.colorStops[g].opacity,b=this.colorStops[g].offset;typeof m<"u"&&(d=new e.Color(d).setAlpha(m).toRgba()),r.addColorStop(b,d)}return r}}}),e.util.object.extend(e.Gradient,{fromElement:function(o,r,a,g){var l=parseFloat(a)/(/%$/.test(a)?100:1);l=l<0?0:l>1?1:l,isNaN(l)&&(l=1);var d=o.getElementsByTagName("stop"),m,b=o.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",_=o.getAttribute("gradientTransform")||"",C=[],S,w,x=0,F=0,V;for(o.nodeName==="linearGradient"||o.nodeName==="LINEARGRADIENT"?(m="linear",S=n(o)):(m="radial",S=c(o)),w=d.length;w--;)C.push(f(d[w],l));V=e.parseTransformAttribute(_),i(r,S,g,b),b==="pixels"&&(x=-r.left,F=-r.top);var L=new e.Gradient({id:o.getAttribute("id"),type:m,coords:S,colorStops:C,gradientUnits:b,gradientTransform:V,offsetX:x,offsetY:F});return L}});function i(o,r,a,g){var l,d;Object.keys(r).forEach(function(m){l=r[m],l==="Infinity"?d=1:l==="-Infinity"?d=0:(d=parseFloat(r[m],10),typeof l=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(l)&&(d*=.01,g==="pixels"&&((m==="x1"||m==="x2"||m==="r2")&&(d*=a.viewBoxWidth||a.width),(m==="y1"||m==="y2")&&(d*=a.viewBoxHeight||a.height)))),r[m]=d})}}(),function(){var f=e.util.toFixed;e.Pattern=e.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(n,c){if(n||(n={}),this.id=e.Object.__uid++,this.setOptions(n),!n.source||n.source&&typeof n.source!="string"){c&&c(this);return}else{var h=this;this.source=e.util.createImage(),e.util.loadImage(n.source,function(i,o){h.source=i,c&&c(h,o)},null,this.crossOrigin)}},toObject:function(n){var c=e.Object.NUM_FRACTION_DIGITS,h,i;return typeof this.source.src=="string"?h=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(h=this.source.toDataURL()),i={type:"pattern",source:h,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:f(this.offsetX,c),offsetY:f(this.offsetY,c),patternTransform:this.patternTransform?this.patternTransform.concat():null},e.util.populateWithProperties(this,i,n),i},toSVG:function(n){var c=typeof this.source=="function"?this.source():this.source,h=c.width/n.width,i=c.height/n.height,o=this.offsetX/n.width,r=this.offsetY/n.height,a="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(i=1,r&&(i+=Math.abs(r))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(h=1,o&&(h+=Math.abs(o))),c.src?a=c.src:c.toDataURL&&(a=c.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+o+'" y="'+r+'" width="'+h+'" height="'+i+`">
<image x="0" y="0" width="`+c.width+'" height="'+c.height+'" xlink:href="'+a+`"></image>
</pattern>
`},setOptions:function(n){for(var c in n)this[c]=n[c]},toLive:function(n){var c=this.source;return!c||typeof c.src<"u"&&(!c.complete||c.naturalWidth===0||c.naturalHeight===0)?"":n.createPattern(c,this.repeat)}})}(),function(f){var n=f.fabric||(f.fabric={}),c=n.util.toFixed;if(n.Shadow){n.warn("fabric.Shadow is already defined.");return}n.Shadow=n.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(h){typeof h=="string"&&(h=this._parseShadow(h));for(var i in h)this[i]=h[i];this.id=n.Object.__uid++},_parseShadow:function(h){var i=h.trim(),o=n.Shadow.reOffsetsAndBlur.exec(i)||[],r=i.replace(n.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:r.trim(),offsetX:parseFloat(o[1],10)||0,offsetY:parseFloat(o[2],10)||0,blur:parseFloat(o[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(h){var i=40,o=40,r=n.Object.NUM_FRACTION_DIGITS,a=n.util.rotateVector({x:this.offsetX,y:this.offsetY},n.util.degreesToRadians(-h.angle)),g=20,l=new n.Color(this.color);return h.width&&h.height&&(i=c((Math.abs(a.x)+this.blur)/h.width,r)*100+g,o=c((Math.abs(a.y)+this.blur)/h.height,r)*100+g),h.flipX&&(a.x*=-1),h.flipY&&(a.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+o+'%" height="'+(100+2*o)+'%" x="-'+i+'%" width="'+(100+2*i)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+c(this.blur?this.blur/2:0,r)+`"></feGaussianBlur>
	<feOffset dx="`+c(a.x,r)+'" dy="'+c(a.y,r)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+l.toRgb()+'" flood-opacity="'+l.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var h={},i=n.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(o){this[o]!==i[o]&&(h[o]=this[o])},this),h}}),n.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(t),function(){if(e.StaticCanvas){e.warn("fabric.StaticCanvas is already defined.");return}var f=e.util.object.extend,n=e.util.getElementOffset,c=e.util.removeFromArray,h=e.util.toFixed,i=e.util.transformPoint,o=e.util.invertTransform,r=e.util.getNodeCanvas,a=e.util.createCanvasElement,g=new Error("Could not initialize `canvas` element");e.StaticCanvas=e.util.createClass(e.CommonMethods,{initialize:function(l,d){d||(d={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(l,d)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:e.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(l,d){var m=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(l),this._initOptions(d),this.interactive||this._initRetinaScaling(),d.overlayImage&&this.setOverlayImage(d.overlayImage,m),d.backgroundImage&&this.setBackgroundImage(d.backgroundImage,m),d.backgroundColor&&this.setBackgroundColor(d.backgroundColor,m),d.overlayColor&&this.setOverlayColor(d.overlayColor,m),this.calcOffset()},_isRetinaScaling:function(){return e.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,e.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var l=e.devicePixelRatio;this.__initRetinaScaling(l,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(l,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(l,d,m){d.setAttribute("width",this.width*l),d.setAttribute("height",this.height*l),m.scale(l,l)},calcOffset:function(){return this._offset=n(this.lowerCanvasEl),this},setOverlayImage:function(l,d,m){return this.__setBgOverlayImage("overlayImage",l,d,m)},setBackgroundImage:function(l,d,m){return this.__setBgOverlayImage("backgroundImage",l,d,m)},setOverlayColor:function(l,d){return this.__setBgOverlayColor("overlayColor",l,d)},setBackgroundColor:function(l,d){return this.__setBgOverlayColor("backgroundColor",l,d)},__setBgOverlayImage:function(l,d,m,b){return typeof d=="string"?e.util.loadImage(d,function(_,C){if(_){var S=new e.Image(_,b);this[l]=S,S.canvas=this}m&&m(_,C)},this,b&&b.crossOrigin):(b&&d.setOptions(b),this[l]=d,d&&(d.canvas=this),m&&m(d,!1)),this},__setBgOverlayColor:function(l,d,m){return this[l]=d,this._initGradient(d,l),this._initPattern(d,l,m),this},_createCanvasElement:function(){var l=a();if(!l||(l.style||(l.style={}),typeof l.getContext>"u"))throw g;return l},_initOptions:function(l){var d=this.lowerCanvasEl;this._setOptions(l),this.width=this.width||parseInt(d.width,10)||0,this.height=this.height||parseInt(d.height,10)||0,this.lowerCanvasEl.style&&(d.width=this.width,d.height=this.height,d.style.width=this.width+"px",d.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(l){l&&l.getContext?this.lowerCanvasEl=l:this.lowerCanvasEl=e.util.getById(l)||this._createCanvasElement(),e.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(l,d){return this.setDimensions({width:l},d)},setHeight:function(l,d){return this.setDimensions({height:l},d)},setDimensions:function(l,d){var m;d=d||{};for(var b in l)m=l[b],d.cssOnly||(this._setBackstoreDimension(b,l[b]),m+="px",this.hasLostContext=!0),d.backstoreOnly||this._setCssDimension(b,m);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),d.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(l,d){return this.lowerCanvasEl[l]=d,this.upperCanvasEl&&(this.upperCanvasEl[l]=d),this.cacheCanvasEl&&(this.cacheCanvasEl[l]=d),this[l]=d,this},_setCssDimension:function(l,d){return this.lowerCanvasEl.style[l]=d,this.upperCanvasEl&&(this.upperCanvasEl.style[l]=d),this.wrapperEl&&(this.wrapperEl.style[l]=d),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(l){var d=this._activeObject,m=this.backgroundImage,b=this.overlayImage,_,C,S;for(this.viewportTransform=l,C=0,S=this._objects.length;C<S;C++)_=this._objects[C],_.group||_.setCoords(!0);return d&&d.setCoords(),m&&m.setCoords(!0),b&&b.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(l,d){var m=l,b=this.viewportTransform.slice(0);l=i(l,o(this.viewportTransform)),b[0]=d,b[3]=d;var _=i(l,b);return b[4]+=m.x-_.x,b[5]+=m.y-_.y,this.setViewportTransform(b)},setZoom:function(l){return this.zoomToPoint(new e.Point(0,0),l),this},absolutePan:function(l){var d=this.viewportTransform.slice(0);return d[4]=-l.x,d[5]=-l.y,this.setViewportTransform(d)},relativePan:function(l){return this.absolutePan(new e.Point(-l.x-this.viewportTransform[4],-l.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(l){this.stateful&&l.setupState(),l._set("canvas",this),l.setCoords(),this.fire("object:added",{target:l}),l.fire("added")},_onObjectRemoved:function(l){this.fire("object:removed",{target:l}),l.fire("removed"),delete l.canvas},clearContext:function(l){return l.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var l=this.contextContainer;return this.renderCanvas(l,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=e.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var l={},d=this.width,m=this.height,b=o(this.viewportTransform);return l.tl=i({x:0,y:0},b),l.br=i({x:d,y:m},b),l.tr=new e.Point(l.br.x,l.tl.y),l.bl=new e.Point(l.tl.x,l.br.y),this.vptCoords=l,l},cancelRequestedRender:function(){this.isRendering&&(e.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(l,d){var m=this.viewportTransform,b=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(l),e.util.setImageSmoothing(l,this.imageSmoothingEnabled),this.fire("before:render",{ctx:l}),this._renderBackground(l),l.save(),l.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._renderObjects(l,d),l.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(l),b&&(b.canvas=this,b.shouldCache(),b._transformDone=!0,b.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(l)),this._renderOverlay(l),this.controlsAboveOverlay&&this.interactive&&this.drawControls(l),this.fire("after:render",{ctx:l})},drawClipPathOnCanvas:function(l){var d=this.viewportTransform,m=this.clipPath;l.save(),l.transform(d[0],d[1],d[2],d[3],d[4],d[5]),l.globalCompositeOperation="destination-in",m.transform(l),l.scale(1/m.zoomX,1/m.zoomY),l.drawImage(m._cacheCanvas,-m.cacheTranslationX,-m.cacheTranslationY),l.restore()},_renderObjects:function(l,d){var m,b;for(m=0,b=d.length;m<b;++m)d[m]&&d[m].render(l)},_renderBackgroundOrOverlay:function(l,d){var m=this[d+"Color"],b=this[d+"Image"],_=this.viewportTransform,C=this[d+"Vpt"];if(!(!m&&!b)){if(m){l.save(),l.beginPath(),l.moveTo(0,0),l.lineTo(this.width,0),l.lineTo(this.width,this.height),l.lineTo(0,this.height),l.closePath(),l.fillStyle=m.toLive?m.toLive(l,this):m,C&&l.transform(_[0],_[1],_[2],_[3],_[4],_[5]),l.transform(1,0,0,1,m.offsetX||0,m.offsetY||0);var S=m.gradientTransform||m.patternTransform;S&&l.transform(S[0],S[1],S[2],S[3],S[4],S[5]),l.fill(),l.restore()}b&&(l.save(),C&&l.transform(_[0],_[1],_[2],_[3],_[4],_[5]),b.render(l),l.restore())}},_renderBackground:function(l){this._renderBackgroundOrOverlay(l,"background")},_renderOverlay:function(l){this._renderBackgroundOrOverlay(l,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new e.Point(this.width/2,this.height/2)},centerObjectH:function(l){return this._centerObject(l,new e.Point(this.getCenterPoint().x,l.getCenterPoint().y))},centerObjectV:function(l){return this._centerObject(l,new e.Point(l.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(l){var d=this.getCenterPoint();return this._centerObject(l,d)},viewportCenterObject:function(l){var d=this.getVpCenter();return this._centerObject(l,d)},viewportCenterObjectH:function(l){var d=this.getVpCenter();return this._centerObject(l,new e.Point(d.x,l.getCenterPoint().y)),this},viewportCenterObjectV:function(l){var d=this.getVpCenter();return this._centerObject(l,new e.Point(l.getCenterPoint().x,d.y))},getVpCenter:function(){var l=this.getCenterPoint(),d=o(this.viewportTransform);return i(l,d)},_centerObject:function(l,d){return l.setPositionByOrigin(d,"center","center"),l.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(l){return this.toDatalessObject(l)},toObject:function(l){return this._toObjectMethod("toObject",l)},toDatalessObject:function(l){return this._toObjectMethod("toDatalessObject",l)},_toObjectMethod:function(l,d){var m=this.clipPath,b={version:e.version,objects:this._toObjects(l,d)};return m&&!m.excludeFromExport&&(b.clipPath=this._toObject(this.clipPath,l,d)),f(b,this.__serializeBgOverlay(l,d)),e.util.populateWithProperties(this,b,d),b},_toObjects:function(l,d){return this._objects.filter(function(m){return!m.excludeFromExport}).map(function(m){return this._toObject(m,l,d)},this)},_toObject:function(l,d,m){var b;this.includeDefaultValues||(b=l.includeDefaultValues,l.includeDefaultValues=!1);var _=l[d](m);return this.includeDefaultValues||(l.includeDefaultValues=b),_},__serializeBgOverlay:function(l,d){var m={},b=this.backgroundImage,_=this.overlayImage,C=this.backgroundColor,S=this.overlayColor;return C&&C.toObject?C.excludeFromExport||(m.background=C.toObject(d)):C&&(m.background=C),S&&S.toObject?S.excludeFromExport||(m.overlay=S.toObject(d)):S&&(m.overlay=S),b&&!b.excludeFromExport&&(m.backgroundImage=this._toObject(b,l,d)),_&&!_.excludeFromExport&&(m.overlayImage=this._toObject(_,l,d)),m},svgViewportTransformation:!0,toSVG:function(l,d){l||(l={}),l.reviver=d;var m=[];return this._setSVGPreamble(m,l),this._setSVGHeader(m,l),this.clipPath&&m.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(m,"background"),this._setSVGBgOverlayImage(m,"backgroundImage",d),this._setSVGObjects(m,d),this.clipPath&&m.push(`</g>
`),this._setSVGBgOverlayColor(m,"overlay"),this._setSVGBgOverlayImage(m,"overlayImage",d),m.push("</svg>"),m.join("")},_setSVGPreamble:function(l,d){d.suppressPreamble||l.push('<?xml version="1.0" encoding="',d.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(l,d){var m=d.width||this.width,b=d.height||this.height,_,C='viewBox="0 0 '+this.width+" "+this.height+'" ',S=e.Object.NUM_FRACTION_DIGITS;d.viewBox?C='viewBox="'+d.viewBox.x+" "+d.viewBox.y+" "+d.viewBox.width+" "+d.viewBox.height+'" ':this.svgViewportTransformation&&(_=this.viewportTransform,C='viewBox="'+h(-_[4]/_[0],S)+" "+h(-_[5]/_[3],S)+" "+h(this.width/_[0],S)+" "+h(this.height/_[3],S)+'" '),l.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',m,'" ','height="',b,'" ',C,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",e.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(d),`</defs>
`)},createSVGClipPathMarkup:function(l){var d=this.clipPath;return d?(d.clipPathId="CLIPPATH_"+e.Object.__uid++,'<clipPath id="'+d.clipPathId+`" >
`+this.clipPath.toClipPathSVG(l.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var l=this,d=["background","overlay"].map(function(m){var b=l[m+"Color"];if(b&&b.toLive){var _=l[m+"Vpt"],C=l.viewportTransform,S={width:l.width/(_?C[0]:1),height:l.height/(_?C[3]:1)};return b.toSVG(S,{additionalTransform:_?e.util.matrixToSVG(C):""})}});return d.join("")},createSVGFontFacesMarkup:function(){var l="",d={},m,b,_,C,S,w,x,F,V,L=e.fontPaths,D=[];for(this._objects.forEach(function z(Z){D.push(Z),Z._objects&&Z._objects.forEach(z)}),F=0,V=D.length;F<V;F++)if(m=D[F],b=m.fontFamily,!(m.type.indexOf("text")===-1||d[b]||!L[b])&&(d[b]=!0,!!m.styles)){_=m.styles;for(S in _){C=_[S];for(x in C)w=C[x],b=w.fontFamily,!d[b]&&L[b]&&(d[b]=!0)}}for(var G in d)l+=[`		@font-face {
`,"			font-family: '",G,`';
`,"			src: url('",L[G],`');
`,`		}
`].join("");return l&&(l=['	<style type="text/css">',`<![CDATA[
`,l,"]]>",`</style>
`].join("")),l},_setSVGObjects:function(l,d){var m,b,_,C=this._objects;for(b=0,_=C.length;b<_;b++)m=C[b],!m.excludeFromExport&&this._setSVGObject(l,m,d)},_setSVGObject:function(l,d,m){l.push(d.toSVG(m))},_setSVGBgOverlayImage:function(l,d,m){this[d]&&!this[d].excludeFromExport&&this[d].toSVG&&l.push(this[d].toSVG(m))},_setSVGBgOverlayColor:function(l,d){var m=this[d+"Color"],b=this.viewportTransform,_=this.width,C=this.height;if(m)if(m.toLive){var S=m.repeat,w=e.util.invertTransform(b),x=this[d+"Vpt"],F=x?e.util.matrixToSVG(w):"";l.push('<rect transform="'+F+" translate(",_/2,",",C/2,')"',' x="',m.offsetX-_/2,'" y="',m.offsetY-C/2,'" ','width="',S==="repeat-y"||S==="no-repeat"?m.source.width:_,'" height="',S==="repeat-x"||S==="no-repeat"?m.source.height:C,'" fill="url(#SVGID_'+m.id+')"',`></rect>
`)}else l.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',m,'"',`></rect>
`)},sendToBack:function(l){if(!l)return this;var d=this._activeObject,m,b,_;if(l===d&&l.type==="activeSelection")for(_=d._objects,m=_.length;m--;)b=_[m],c(this._objects,b),this._objects.unshift(b);else c(this._objects,l),this._objects.unshift(l);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(l){if(!l)return this;var d=this._activeObject,m,b,_;if(l===d&&l.type==="activeSelection")for(_=d._objects,m=0;m<_.length;m++)b=_[m],c(this._objects,b),this._objects.push(b);else c(this._objects,l),this._objects.push(l);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(l,d){if(!l)return this;var m=this._activeObject,b,_,C,S,w,x=0;if(l===m&&l.type==="activeSelection")for(w=m._objects,b=0;b<w.length;b++)_=w[b],C=this._objects.indexOf(_),C>0+x&&(S=C-1,c(this._objects,_),this._objects.splice(S,0,_)),x++;else C=this._objects.indexOf(l),C!==0&&(S=this._findNewLowerIndex(l,C,d),c(this._objects,l),this._objects.splice(S,0,l));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(l,d,m){var b,_;if(m)for(b=d,_=d-1;_>=0;--_){var C=l.intersectsWithObject(this._objects[_])||l.isContainedWithinObject(this._objects[_])||this._objects[_].isContainedWithinObject(l);if(C){b=_;break}}else b=d-1;return b},bringForward:function(l,d){if(!l)return this;var m=this._activeObject,b,_,C,S,w,x=0;if(l===m&&l.type==="activeSelection")for(w=m._objects,b=w.length;b--;)_=w[b],C=this._objects.indexOf(_),C<this._objects.length-1-x&&(S=C+1,c(this._objects,_),this._objects.splice(S,0,_)),x++;else C=this._objects.indexOf(l),C!==this._objects.length-1&&(S=this._findNewUpperIndex(l,C,d),c(this._objects,l),this._objects.splice(S,0,l));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(l,d,m){var b,_,C;if(m)for(b=d,_=d+1,C=this._objects.length;_<C;++_){var S=l.intersectsWithObject(this._objects[_])||l.isContainedWithinObject(this._objects[_])||this._objects[_].isContainedWithinObject(l);if(S){b=_;break}}else b=d+1;return b},moveTo:function(l,d){return c(this._objects,l),this._objects.splice(d,0,l),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(e.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(l){l.dispose&&l.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),e.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),e.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),f(e.StaticCanvas.prototype,e.Observable),f(e.StaticCanvas.prototype,e.Collection),f(e.StaticCanvas.prototype,e.DataURLExporter),f(e.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(l){var d=a();if(!d||!d.getContext)return null;var m=d.getContext("2d");if(!m)return null;switch(l){case"setLineDash":return typeof m.setLineDash<"u";default:return null}}}),e.StaticCanvas.prototype.toJSON=e.StaticCanvas.prototype.toObject,e.isLikelyNode&&(e.StaticCanvas.prototype.createPNGStream=function(){var l=r(this.lowerCanvasEl);return l&&l.createPNGStream()},e.StaticCanvas.prototype.createJPEGStream=function(l){var d=r(this.lowerCanvasEl);return d&&d.createJPEGStream(l)})}(),e.BaseBrush=e.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(f){f.strokeStyle=this.color,f.lineWidth=this.width,f.lineCap=this.strokeLineCap,f.miterLimit=this.strokeMiterLimit,f.lineJoin=this.strokeLineJoin,f.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(f){var n=this.canvas.viewportTransform;f.save(),f.transform(n[0],n[1],n[2],n[3],n[4],n[5])},_setShadow:function(){if(this.shadow){var f=this.canvas,n=this.shadow,c=f.contextTop,h=f.getZoom();f&&f._isRetinaScaling()&&(h*=e.devicePixelRatio),c.shadowColor=n.color,c.shadowBlur=n.blur*h,c.shadowOffsetX=n.offsetX*h,c.shadowOffsetY=n.offsetY*h}},needsFullRender:function(){var f=new e.Color(this.color);return f.getAlpha()<1||!!this.shadow},_resetShadow:function(){var f=this.canvas.contextTop;f.shadowColor="",f.shadowBlur=f.shadowOffsetX=f.shadowOffsetY=0},_isOutSideCanvas:function(f){return f.x<0||f.x>this.canvas.getWidth()||f.y<0||f.y>this.canvas.getHeight()}}),function(){e.PencilBrush=e.util.createClass(e.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(f){this.canvas=f,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(f,n,c){var h=n.midPointFrom(c);return f.quadraticCurveTo(n.x,n.y,h.x,h.y),h},onMouseDown:function(f,n){this.canvas._isMainEvent(n.e)&&(this.drawStraightLine=n.e[this.straightLineKey],this._prepareForDrawing(f),this._captureDrawingPath(f),this._render())},onMouseMove:function(f,n){if(this.canvas._isMainEvent(n.e)&&(this.drawStraightLine=n.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(f))&&this._captureDrawingPath(f)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var c=this._points,h=c.length,i=this.canvas.contextTop;this._saveAndTransform(i),this.oldEnd&&(i.beginPath(),i.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(i,c[h-2],c[h-1],!0),i.stroke(),i.restore()}},onMouseUp:function(f){return this.canvas._isMainEvent(f.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(f){var n=new e.Point(f.x,f.y);this._reset(),this._addPoint(n),this.canvas.contextTop.moveTo(n.x,n.y)},_addPoint:function(f){return this._points.length>1&&f.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(f),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(f){var n=new e.Point(f.x,f.y);return this._addPoint(n)},_render:function(f){var n,c,h=this._points[0],i=this._points[1];if(f=f||this.canvas.contextTop,this._saveAndTransform(f),f.beginPath(),this._points.length===2&&h.x===i.x&&h.y===i.y){var o=this.width/1e3;h=new e.Point(h.x,h.y),i=new e.Point(i.x,i.y),h.x-=o,i.x+=o}for(f.moveTo(h.x,h.y),n=1,c=this._points.length;n<c;n++)this._drawSegment(f,h,i),h=this._points[n],i=this._points[n+1];f.lineTo(h.x,h.y),f.stroke(),f.restore()},convertPointsToSVGPath:function(f){var n=this.width/1e3;return e.util.getSmoothPathFromPoints(f,n)},_isEmptySVGPath:function(f){var n=e.util.joinPath(f);return n==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(f){var n=new e.Path(f,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,n.shadow=new e.Shadow(this.shadow)),n},decimatePoints:function(f,n){if(f.length<=2)return f;var c=this.canvas.getZoom(),h=Math.pow(n/c,2),i,o=f.length-1,r=f[0],a=[r],g;for(i=1;i<o-1;i++)g=Math.pow(r.x-f[i].x,2)+Math.pow(r.y-f[i].y,2),g>=h&&(r=f[i],a.push(r));return a.push(f[o]),a},_finalizeAndAddPath:function(){var f=this.canvas.contextTop;f.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var n=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(n)){this.canvas.requestRenderAll();return}var c=this.createPath(n);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:c}),this.canvas.add(c),this.canvas.requestRenderAll(),c.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:c})}})}(),e.CircleBrush=e.util.createClass(e.BaseBrush,{width:10,initialize:function(f){this.canvas=f,this.points=[]},drawDot:function(f){var n=this.addPoint(f),c=this.canvas.contextTop;this._saveAndTransform(c),this.dot(c,n),c.restore()},dot:function(f,n){f.fillStyle=n.fill,f.beginPath(),f.arc(n.x,n.y,n.radius,0,Math.PI*2,!1),f.closePath(),f.fill()},onMouseDown:function(f){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(f)},_render:function(){var f=this.canvas.contextTop,n,c,h=this.points;for(this._saveAndTransform(f),n=0,c=h.length;n<c;n++)this.dot(f,h[n]);f.restore()},onMouseMove:function(f){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(f)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(f),this._render()):this.drawDot(f))},onMouseUp:function(){var f=this.canvas.renderOnAddRemove,n,c;this.canvas.renderOnAddRemove=!1;var h=[];for(n=0,c=this.points.length;n<c;n++){var i=this.points[n],o=new e.Circle({radius:i.radius,left:i.x,top:i.y,originX:"center",originY:"center",fill:i.fill});this.shadow&&(o.shadow=new e.Shadow(this.shadow)),h.push(o)}var r=new e.Group(h);r.canvas=this.canvas,this.canvas.fire("before:path:created",{path:r}),this.canvas.add(r),this.canvas.fire("path:created",{path:r}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=f,this.canvas.requestRenderAll()},addPoint:function(f){var n=new e.Point(f.x,f.y),c=e.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,h=new e.Color(this.color).setAlpha(e.util.getRandomInt(0,100)/100).toRgba();return n.radius=c,n.fill=h,this.points.push(n),n}}),e.SprayBrush=e.util.createClass(e.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(f){this.canvas=f,this.sprayChunks=[]},onMouseDown:function(f){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(f),this.render(this.sprayChunkPoints)},onMouseMove:function(f){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(f)||(this.addSprayChunk(f),this.render(this.sprayChunkPoints))},onMouseUp:function(){var f=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var n=[],c=0,h=this.sprayChunks.length;c<h;c++)for(var i=this.sprayChunks[c],o=0,r=i.length;o<r;o++){var a=new e.Rect({width:i[o].width,height:i[o].width,left:i[o].x+1,top:i[o].y+1,originX:"center",originY:"center",fill:this.color});n.push(a)}this.optimizeOverlapping&&(n=this._getOptimizedRects(n));var g=new e.Group(n);this.shadow&&g.set("shadow",new e.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:g}),this.canvas.add(g),this.canvas.fire("path:created",{path:g}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=f,this.canvas.requestRenderAll()},_getOptimizedRects:function(f){var n={},c,h,i;for(h=0,i=f.length;h<i;h++)c=f[h].left+""+f[h].top,n[c]||(n[c]=f[h]);var o=[];for(c in n)o.push(n[c]);return o},render:function(f){var n=this.canvas.contextTop,c,h;for(n.fillStyle=this.color,this._saveAndTransform(n),c=0,h=f.length;c<h;c++){var i=f[c];typeof i.opacity<"u"&&(n.globalAlpha=i.opacity),n.fillRect(i.x,i.y,i.width,i.width)}n.restore()},_render:function(){var f=this.canvas.contextTop,n,c;for(f.fillStyle=this.color,this._saveAndTransform(f),n=0,c=this.sprayChunks.length;n<c;n++)this.render(this.sprayChunks[n]);f.restore()},addSprayChunk:function(f){this.sprayChunkPoints=[];var n,c,h,i=this.width/2,o;for(o=0;o<this.density;o++){n=e.util.getRandomInt(f.x-i,f.x+i),c=e.util.getRandomInt(f.y-i,f.y+i),this.dotWidthVariance?h=e.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):h=this.dotWidth;var r=new e.Point(n,c);r.width=h,this.randomOpacity&&(r.opacity=e.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(r)}this.sprayChunks.push(this.sprayChunkPoints)}}),e.PatternBrush=e.util.createClass(e.PencilBrush,{getPatternSrc:function(){var f=20,n=5,c=e.util.createCanvasElement(),h=c.getContext("2d");return c.width=c.height=f+n,h.fillStyle=this.color,h.beginPath(),h.arc(f/2,f/2,f/2,0,Math.PI*2,!1),h.closePath(),h.fill(),c},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(f){return f.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(f){this.callSuper("_setBrushStyles",f),f.strokeStyle=this.getPattern(f)},createPath:function(f){var n=this.callSuper("createPath",f),c=n._getLeftTopCoords().scalarAdd(n.strokeWidth/2);return n.stroke=new e.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-c.x,offsetY:-c.y}),n}}),function(){var f=e.util.getPointer,n=e.util.degreesToRadians,c=e.util.isTouchEvent;e.Canvas=e.util.createClass(e.StaticCanvas,{initialize:function(i,o){o||(o={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(i,o),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=e.PencilBrush&&new e.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var i=this.getActiveObjects(),o,r,a;if(i.length>0&&!this.preserveObjectStacking){r=[],a=[];for(var g=0,l=this._objects.length;g<l;g++)o=this._objects[g],i.indexOf(o)===-1?r.push(o):a.push(o);i.length>1&&(this._activeObject._objects=a),r.push.apply(r,a)}else r=this._objects;return r},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var i=this.contextContainer;return this.renderCanvas(i,this._chooseObjectsToRender()),this},renderTopLayer:function(i){i.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(i),this.contextTopDirty=!0),i.restore()},renderTop:function(){var i=this.contextTop;return this.clearContext(i),this.renderTopLayer(i),this.fire("after:render"),this},_normalizePointer:function(i,o){var r=i.calcTransformMatrix(),a=e.util.invertTransform(r),g=this.restorePointerVpt(o);return e.util.transformPoint(g,a)},isTargetTransparent:function(i,o,r){if(i.shouldCache()&&i._cacheCanvas&&i!==this._activeObject){var a=this._normalizePointer(i,{x:o,y:r}),g=Math.max(i.cacheTranslationX+a.x*i.zoomX,0),l=Math.max(i.cacheTranslationY+a.y*i.zoomY,0),_=e.util.isTransparent(i._cacheContext,Math.round(g),Math.round(l),this.targetFindTolerance);return _}var d=this.contextCache,m=i.selectionBackgroundColor,b=this.viewportTransform;i.selectionBackgroundColor="",this.clearContext(d),d.save(),d.transform(b[0],b[1],b[2],b[3],b[4],b[5]),i.render(d),d.restore(),i.selectionBackgroundColor=m;var _=e.util.isTransparent(d,o,r,this.targetFindTolerance);return _},_isSelectionKeyPressed:function(i){var o=!1;return Array.isArray(this.selectionKey)?o=!!this.selectionKey.find(function(r){return i[r]===!0}):o=i[this.selectionKey],o},_shouldClearSelection:function(i,o){var r=this.getActiveObjects(),a=this._activeObject;return!o||o&&a&&r.length>1&&r.indexOf(o)===-1&&a!==o&&!this._isSelectionKeyPressed(i)||o&&!o.evented||o&&!o.selectable&&a&&a!==o},_shouldCenterTransform:function(i,o,r){if(i){var a;return o==="scale"||o==="scaleX"||o==="scaleY"||o==="resizing"?a=this.centeredScaling||i.centeredScaling:o==="rotate"&&(a=this.centeredRotation||i.centeredRotation),a?!r:r}},_getOriginFromCorner:function(i,o){var r={x:i.originX,y:i.originY};return o==="ml"||o==="tl"||o==="bl"?r.x="right":(o==="mr"||o==="tr"||o==="br")&&(r.x="left"),o==="tl"||o==="mt"||o==="tr"?r.y="bottom":(o==="bl"||o==="mb"||o==="br")&&(r.y="top"),r},_getActionFromCorner:function(i,o,r,a){if(!o||!i)return"drag";var g=a.controls[o];return g.getActionName(r,g,a)},_setupCurrentTransform:function(i,o,r){if(o){var a=this.getPointer(i),g=o.__corner,l=o.controls[g],d=r&&g?l.getActionHandler(i,o,l):e.controlsUtils.dragHandler,m=this._getActionFromCorner(r,g,i,o),b=this._getOriginFromCorner(o,g),_=i[this.centeredKey],C={target:o,action:m,actionHandler:d,corner:g,scaleX:o.scaleX,scaleY:o.scaleY,skewX:o.skewX,skewY:o.skewY,offsetX:a.x-o.left,offsetY:a.y-o.top,originX:b.x,originY:b.y,ex:a.x,ey:a.y,lastX:a.x,lastY:a.y,theta:n(o.angle),width:o.width*o.scaleX,shiftKey:i.shiftKey,altKey:_,original:e.util.saveObjectTransform(o)};this._shouldCenterTransform(o,m,_)&&(C.originX="center",C.originY="center"),C.original.originX=b.x,C.original.originY=b.y,this._currentTransform=C,this._beforeTransform(i)}},setCursor:function(i){this.upperCanvasEl.style.cursor=i},_drawSelection:function(i){var o=this._groupSelector,r=new e.Point(o.ex,o.ey),a=e.util.transformPoint(r,this.viewportTransform),g=new e.Point(o.ex+o.left,o.ey+o.top),l=e.util.transformPoint(g,this.viewportTransform),d=Math.min(a.x,l.x),m=Math.min(a.y,l.y),b=Math.max(a.x,l.x),_=Math.max(a.y,l.y),C=this.selectionLineWidth/2;this.selectionColor&&(i.fillStyle=this.selectionColor,i.fillRect(d,m,b-d,_-m)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(i.lineWidth=this.selectionLineWidth,i.strokeStyle=this.selectionBorderColor,d+=C,m+=C,b-=C,_-=C,e.Object.prototype._setLineDash.call(this,i,this.selectionDashArray),i.strokeRect(d,m,b-d,_-m))},findTarget:function(i,o){if(!this.skipTargetFind){var r=!0,a=this.getPointer(i,r),g=this._activeObject,l=this.getActiveObjects(),d,m,b=c(i),_=l.length>1&&!o||l.length===1;if(this.targets=[],_&&g._findTargetCorner(a,b)||l.length>1&&!o&&g===this._searchPossibleTargets([g],a))return g;if(l.length===1&&g===this._searchPossibleTargets([g],a))if(this.preserveObjectStacking)d=g,m=this.targets,this.targets=[];else return g;var C=this._searchPossibleTargets(this._objects,a);return i[this.altSelectionKey]&&C&&d&&C!==d&&(C=d,this.targets=m),C}},_checkTarget:function(i,o,r){if(o&&o.visible&&o.evented&&o.containsPoint(i))if((this.perPixelTargetFind||o.perPixelTargetFind)&&!o.isEditing){var a=this.isTargetTransparent(o,r.x,r.y);if(!a)return!0}else return!0},_searchPossibleTargets:function(i,o){for(var r,a=i.length,g;a--;){var l=i[a],d=l.group?this._normalizePointer(l.group,o):o;if(this._checkTarget(d,l,o)){r=i[a],r.subTargetCheck&&r instanceof e.Group&&(g=this._searchPossibleTargets(r._objects,o),g&&this.targets.push(g));break}}return r},restorePointerVpt:function(i){return e.util.transformPoint(i,e.util.invertTransform(this.viewportTransform))},getPointer:function(i,o){if(this._absolutePointer&&!o)return this._absolutePointer;if(this._pointer&&o)return this._pointer;var r=f(i),a=this.upperCanvasEl,g=a.getBoundingClientRect(),l=g.width||0,d=g.height||0,m;(!l||!d)&&("top"in g&&"bottom"in g&&(d=Math.abs(g.top-g.bottom)),"right"in g&&"left"in g&&(l=Math.abs(g.right-g.left))),this.calcOffset(),r.x=r.x-this._offset.left,r.y=r.y-this._offset.top,o||(r=this.restorePointerVpt(r));var b=this.getRetinaScaling();return b!==1&&(r.x/=b,r.y/=b),l===0||d===0?m={width:1,height:1}:m={width:a.width/l,height:a.height/d},{x:r.x*m.width,y:r.y*m.height}},_createUpperCanvas:function(){var i=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),o=this.lowerCanvasEl,r=this.upperCanvasEl;r?r.className="":(r=this._createCanvasElement(),this.upperCanvasEl=r),e.util.addClass(r,"upper-canvas "+i),this.wrapperEl.appendChild(r),this._copyCanvasStyle(o,r),this._applyCanvasStyle(r),this.contextTop=r.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=e.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),e.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),e.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(i){var o=this.width||i.width,r=this.height||i.height;e.util.setStyle(i,{position:"absolute",width:o+"px",height:r+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),i.width=o,i.height=r,e.util.makeElementUnselectable(i)},_copyCanvasStyle:function(i,o){o.style.cssText=i.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var i=this._activeObject;return i?i.type==="activeSelection"&&i._objects?i._objects.slice(0):[i]:[]},_onObjectRemoved:function(i){i===this._activeObject&&(this.fire("before:selection:cleared",{target:i}),this._discardActiveObject(),this.fire("selection:cleared",{target:i}),i.fire("deselected")),i===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",i)},_fireSelectionEvents:function(i,o){var r=!1,a=this.getActiveObjects(),g=[],l=[];i.forEach(function(d){a.indexOf(d)===-1&&(r=!0,d.fire("deselected",{e:o,target:d}),l.push(d))}),a.forEach(function(d){i.indexOf(d)===-1&&(r=!0,d.fire("selected",{e:o,target:d}),g.push(d))}),i.length>0&&a.length>0?r&&this.fire("selection:updated",{e:o,selected:g,deselected:l}):a.length>0?this.fire("selection:created",{e:o,selected:g}):i.length>0&&this.fire("selection:cleared",{e:o,deselected:l})},setActiveObject:function(i,o){var r=this.getActiveObjects();return this._setActiveObject(i,o),this._fireSelectionEvents(r,o),this},_setActiveObject:function(i,o){return this._activeObject===i||!this._discardActiveObject(o,i)||i.onSelect({e:o})?!1:(this._activeObject=i,!0)},_discardActiveObject:function(i,o){var r=this._activeObject;if(r){if(r.onDeselect({e:i,object:o}))return!1;this._activeObject=null}return!0},discardActiveObject:function(i){var o=this.getActiveObjects(),r=this.getActiveObject();return o.length&&this.fire("before:selection:cleared",{target:r,e:i}),this._discardActiveObject(i),this._fireSelectionEvents(o,i),this},dispose:function(){var i=this.wrapperEl;return this.removeListeners(),i.removeChild(this.upperCanvasEl),i.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(o){e.util.cleanUpJsdomNode(this[o]),this[o]=void 0}).bind(this)),i.parentNode&&i.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,e.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(i){var o=this._activeObject;o&&o._renderControls(i)},_toObject:function(i,o,r){var a=this._realizeGroupTransformOnObject(i),g=this.callSuper("_toObject",i,o,r);return this._unwindGroupTransformOnObject(i,a),g},_realizeGroupTransformOnObject:function(i){if(i.group&&i.group.type==="activeSelection"&&this._activeObject===i.group){var o=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],r={};return o.forEach(function(a){r[a]=i[a]}),e.util.addTransformToObject(i,this._activeObject.calcOwnMatrix()),r}else return null},_unwindGroupTransformOnObject:function(i,o){o&&i.set(o)},_setSVGObject:function(i,o,r){var a=this._realizeGroupTransformOnObject(o);this.callSuper("_setSVGObject",i,o,r),this._unwindGroupTransformOnObject(o,a)},setViewportTransform:function(i){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),e.StaticCanvas.prototype.setViewportTransform.call(this,i)}});for(var h in e.StaticCanvas)h!=="prototype"&&(e.Canvas[h]=e.StaticCanvas[h])}(),function(){var f=e.util.addListener,n=e.util.removeListener,c=3,h=2,i=1,o={passive:!1};function r(a,g){return a.button&&a.button===g-1}e.util.object.extend(e.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(f,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(a,g){var l=this.upperCanvasEl,d=this._getEventPrefix();a(e.window,"resize",this._onResize),a(l,d+"down",this._onMouseDown),a(l,d+"move",this._onMouseMove,o),a(l,d+"out",this._onMouseOut),a(l,d+"enter",this._onMouseEnter),a(l,"wheel",this._onMouseWheel),a(l,"contextmenu",this._onContextMenu),a(l,"dblclick",this._onDoubleClick),a(l,"dragover",this._onDragOver),a(l,"dragenter",this._onDragEnter),a(l,"dragleave",this._onDragLeave),a(l,"drop",this._onDrop),this.enablePointerEvents||a(l,"touchstart",this._onTouchStart,o),typeof eventjs<"u"&&g in eventjs&&(eventjs[g](l,"gesture",this._onGesture),eventjs[g](l,"drag",this._onDrag),eventjs[g](l,"orientation",this._onOrientationChange),eventjs[g](l,"shake",this._onShake),eventjs[g](l,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(n,"remove");var a=this._getEventPrefix();n(e.document,a+"up",this._onMouseUp),n(e.document,"touchend",this._onTouchEnd,o),n(e.document,a+"move",this._onMouseMove,o),n(e.document,"touchmove",this._onMouseMove,o)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(a,g){this.__onTransformGesture&&this.__onTransformGesture(a,g)},_onDrag:function(a,g){this.__onDrag&&this.__onDrag(a,g)},_onMouseWheel:function(a){this.__onMouseWheel(a)},_onMouseOut:function(a){var g=this._hoveredTarget;this.fire("mouse:out",{target:g,e:a}),this._hoveredTarget=null,g&&g.fire("mouseout",{e:a});var l=this;this._hoveredTargets.forEach(function(d){l.fire("mouse:out",{target:g,e:a}),d&&g.fire("mouseout",{e:a})}),this._hoveredTargets=[]},_onMouseEnter:function(a){!this._currentTransform&&!this.findTarget(a)&&(this.fire("mouse:over",{target:null,e:a}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(a,g){this.__onOrientationChange&&this.__onOrientationChange(a,g)},_onShake:function(a,g){this.__onShake&&this.__onShake(a,g)},_onLongPress:function(a,g){this.__onLongPress&&this.__onLongPress(a,g)},_onDragOver:function(a){a.preventDefault();var g=this._simpleEventHandler("dragover",a);this._fireEnterLeaveEvents(g,a)},_onDrop:function(a){return this._simpleEventHandler("drop:before",a),this._simpleEventHandler("drop",a)},_onContextMenu:function(a){return this.stopContextMenu&&(a.stopPropagation(),a.preventDefault()),!1},_onDoubleClick:function(a){this._cacheTransformEventData(a),this._handleEvent(a,"dblclick"),this._resetTransformEventData(a)},getPointerId:function(a){var g=a.changedTouches;return g?g[0]&&g[0].identifier:this.enablePointerEvents?a.pointerId:-1},_isMainEvent:function(a){return a.isPrimary===!0?!0:a.isPrimary===!1?!1:a.type==="touchend"&&a.touches.length===0?!0:a.changedTouches?a.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(a){a.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(a)),this.__onMouseDown(a),this._resetTransformEventData();var g=this.upperCanvasEl,l=this._getEventPrefix();f(e.document,"touchend",this._onTouchEnd,o),f(e.document,"touchmove",this._onMouseMove,o),n(g,l+"down",this._onMouseDown)},_onMouseDown:function(a){this.__onMouseDown(a),this._resetTransformEventData();var g=this.upperCanvasEl,l=this._getEventPrefix();n(g,l+"move",this._onMouseMove,o),f(e.document,l+"up",this._onMouseUp),f(e.document,l+"move",this._onMouseMove,o)},_onTouchEnd:function(a){if(!(a.touches.length>0)){this.__onMouseUp(a),this._resetTransformEventData(),this.mainTouchId=null;var g=this._getEventPrefix();n(e.document,"touchend",this._onTouchEnd,o),n(e.document,"touchmove",this._onMouseMove,o);var l=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){f(l.upperCanvasEl,g+"down",l._onMouseDown),l._willAddMouseDown=0},400)}},_onMouseUp:function(a){this.__onMouseUp(a),this._resetTransformEventData();var g=this.upperCanvasEl,l=this._getEventPrefix();this._isMainEvent(a)&&(n(e.document,l+"up",this._onMouseUp),n(e.document,l+"move",this._onMouseMove,o),f(g,l+"move",this._onMouseMove,o))},_onMouseMove:function(a){!this.allowTouchScrolling&&a.preventDefault&&a.preventDefault(),this.__onMouseMove(a)},_onResize:function(){this.calcOffset()},_shouldRender:function(a){var g=this._activeObject;return!!g!=!!a||g&&a&&g!==a?!0:(g&&g.isEditing,!1)},__onMouseUp:function(a){var g,l=this._currentTransform,d=this._groupSelector,m=!1,b=!d||d.left===0&&d.top===0;if(this._cacheTransformEventData(a),g=this._target,this._handleEvent(a,"up:before"),r(a,c)){this.fireRightClick&&this._handleEvent(a,"up",c,b);return}if(r(a,h)){this.fireMiddleClick&&this._handleEvent(a,"up",h,b),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(a);return}if(this._isMainEvent(a)){if(l&&(this._finalizeCurrentTransform(a),m=l.actionPerformed),!b){var _=g===this._activeObject;this._maybeGroupObjects(a),m||(m=this._shouldRender(g)||!_&&g===this._activeObject)}var C,S;if(g){if(C=g._findTargetCorner(this.getPointer(a,!0),e.util.isTouchEvent(a)),g.selectable&&g!==this._activeObject&&g.activeOn==="up")this.setActiveObject(g,a),m=!0;else{var w=g.controls[C],x=w&&w.getMouseUpHandler(a,g,w);x&&(S=this.getPointer(a),x(a,l,S.x,S.y))}g.isMoving=!1}if(l&&(l.target!==g||l.corner!==C)){var F=l.target&&l.target.controls[l.corner],V=F&&F.getMouseUpHandler(a,g,w);S=S||this.getPointer(a),V&&V(a,l,S.x,S.y)}this._setCursorFromEvent(a,g),this._handleEvent(a,"up",i,b),this._groupSelector=null,this._currentTransform=null,g&&(g.__corner=0),m?this.requestRenderAll():b||this.renderTop()}},_simpleEventHandler:function(a,g){var l=this.findTarget(g),d=this.targets,m={e:g,target:l,subTargets:d};if(this.fire(a,m),l&&l.fire(a,m),!d)return l;for(var b=0;b<d.length;b++)d[b].fire(a,m);return l},_handleEvent:function(a,g,l,d){var m=this._target,b=this.targets||[],_={e:a,target:m,subTargets:b,button:l||i,isClick:d||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};g==="up"&&(_.currentTarget=this.findTarget(a),_.currentSubTargets=this.targets),this.fire("mouse:"+g,_),m&&m.fire("mouse"+g,_);for(var C=0;C<b.length;C++)b[C].fire("mouse"+g,_)},_finalizeCurrentTransform:function(a){var g=this._currentTransform,l=g.target,d={e:a,target:l,transform:g,action:g.action};l._scaling&&(l._scaling=!1),l.setCoords(),(g.actionPerformed||this.stateful&&l.hasStateChanged())&&this._fire("modified",d)},_onMouseDownInDrawingMode:function(a){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(a).requestRenderAll();var g=this.getPointer(a);this.freeDrawingBrush.onMouseDown(g,{e:a,pointer:g}),this._handleEvent(a,"down")},_onMouseMoveInDrawingMode:function(a){if(this._isCurrentlyDrawing){var g=this.getPointer(a);this.freeDrawingBrush.onMouseMove(g,{e:a,pointer:g})}this.setCursor(this.freeDrawingCursor),this._handleEvent(a,"move")},_onMouseUpInDrawingMode:function(a){var g=this.getPointer(a);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:a,pointer:g}),this._handleEvent(a,"up")},__onMouseDown:function(a){this._cacheTransformEventData(a),this._handleEvent(a,"down:before");var g=this._target;if(r(a,c)){this.fireRightClick&&this._handleEvent(a,"down",c);return}if(r(a,h)){this.fireMiddleClick&&this._handleEvent(a,"down",h);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(a);return}if(this._isMainEvent(a)&&!this._currentTransform){var l=this._pointer;this._previousPointer=l;var d=this._shouldRender(g),m=this._shouldGroup(a,g);if(this._shouldClearSelection(a,g)?this.discardActiveObject(a):m&&(this._handleGrouping(a,g),g=this._activeObject),this.selection&&(!g||!g.selectable&&!g.isEditing&&g!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),g){var b=g===this._activeObject;g.selectable&&g.activeOn==="down"&&this.setActiveObject(g,a);var _=g._findTargetCorner(this.getPointer(a,!0),e.util.isTouchEvent(a));if(g.__corner=_,g===this._activeObject&&(_||!m)){this._setupCurrentTransform(a,g,b);var C=g.controls[_],l=this.getPointer(a),S=C&&C.getMouseDownHandler(a,g,C);S&&S(a,this._currentTransform,l.x,l.y)}}this._handleEvent(a,"down"),(d||m)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(a){this._resetTransformEventData(),this._pointer=this.getPointer(a,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(a)||null},_beforeTransform:function(a){var g=this._currentTransform;this.stateful&&g.target.saveState(),this.fire("before:transform",{e:a,transform:g})},__onMouseMove:function(a){this._handleEvent(a,"move:before"),this._cacheTransformEventData(a);var g,l;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(a);return}if(this._isMainEvent(a)){var d=this._groupSelector;d?(l=this._absolutePointer,d.left=l.x-d.ex,d.top=l.y-d.ey,this.renderTop()):this._currentTransform?this._transformObject(a):(g=this.findTarget(a)||null,this._setCursorFromEvent(a,g),this._fireOverOutEvents(g,a)),this._handleEvent(a,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(a,g){var l=this._hoveredTarget,d=this._hoveredTargets,m=this.targets,b=Math.max(d.length,m.length);this.fireSyntheticInOutEvents(a,g,{oldTarget:l,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var _=0;_<b;_++)this.fireSyntheticInOutEvents(m[_],g,{oldTarget:d[_],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=a,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(a,g){var l=this._draggedoverTarget,d=this._hoveredTargets,m=this.targets,b=Math.max(d.length,m.length);this.fireSyntheticInOutEvents(a,g,{oldTarget:l,evtOut:"dragleave",evtIn:"dragenter"});for(var _=0;_<b;_++)this.fireSyntheticInOutEvents(m[_],g,{oldTarget:d[_],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=a},fireSyntheticInOutEvents:function(a,g,l){var d,m,b=l.oldTarget,_,C,S=b!==a,w=l.canvasEvtIn,x=l.canvasEvtOut;S&&(d={e:g,target:a,previousTarget:b},m={e:g,target:b,nextTarget:a}),C=a&&S,_=b&&S,_&&(x&&this.fire(x,m),b.fire(l.evtOut,m)),C&&(w&&this.fire(w,d),a.fire(l.evtIn,d))},__onMouseWheel:function(a){this._cacheTransformEventData(a),this._handleEvent(a,"wheel"),this._resetTransformEventData()},_transformObject:function(a){var g=this.getPointer(a),l=this._currentTransform;l.reset=!1,l.shiftKey=a.shiftKey,l.altKey=a[this.centeredKey],this._performTransformAction(a,l,g),l.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(a,g,l){var d=l.x,m=l.y,b=g.action,_=!1,C=g.actionHandler;C&&(_=C(a,g,d,m)),b==="drag"&&_&&(g.target.isMoving=!0,this.setCursor(g.target.moveCursor||this.moveCursor)),g.actionPerformed=g.actionPerformed||_},_fire:e.controlsUtils.fireEvent,_setCursorFromEvent:function(a,g){if(!g)return this.setCursor(this.defaultCursor),!1;var l=g.hoverCursor||this.hoverCursor,d=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,m=(!d||!d.contains(g))&&g._findTargetCorner(this.getPointer(a,!0));m?this.setCursor(this.getCornerCursor(m,g,a)):(g.subTargetCheck&&this.targets.concat().reverse().map(function(b){l=b.hoverCursor||l}),this.setCursor(l))},getCornerCursor:function(a,g,l){var d=g.controls[a];return d.cursorStyleHandler(l,d,g)}})}(),function(){var f=Math.min,n=Math.max;e.util.object.extend(e.Canvas.prototype,{_shouldGroup:function(c,h){var i=this._activeObject;return i&&this._isSelectionKeyPressed(c)&&h&&h.selectable&&this.selection&&(i!==h||i.type==="activeSelection")&&!h.onSelect({e:c})},_handleGrouping:function(c,h){var i=this._activeObject;i.__corner||h===i&&(h=this.findTarget(c,!0),!h||!h.selectable)||(i&&i.type==="activeSelection"?this._updateActiveSelection(h,c):this._createActiveSelection(h,c))},_updateActiveSelection:function(c,h){var i=this._activeObject,o=i._objects.slice(0);i.contains(c)?(i.removeWithUpdate(c),this._hoveredTarget=c,this._hoveredTargets=this.targets.concat(),i.size()===1&&this._setActiveObject(i.item(0),h)):(i.addWithUpdate(c),this._hoveredTarget=i,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(o,h)},_createActiveSelection:function(c,h){var i=this.getActiveObjects(),o=this._createGroup(c);this._hoveredTarget=o,this._setActiveObject(o,h),this._fireSelectionEvents(i,h)},_createGroup:function(c){var h=this._objects,i=h.indexOf(this._activeObject)<h.indexOf(c),o=i?[this._activeObject,c]:[c,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new e.ActiveSelection(o,{canvas:this})},_groupSelectedObjects:function(c){var h=this._collectObjects(c),i;h.length===1?this.setActiveObject(h[0],c):h.length>1&&(i=new e.ActiveSelection(h.reverse(),{canvas:this}),this.setActiveObject(i,c))},_collectObjects:function(c){for(var h=[],i,o=this._groupSelector.ex,r=this._groupSelector.ey,a=o+this._groupSelector.left,g=r+this._groupSelector.top,l=new e.Point(f(o,a),f(r,g)),d=new e.Point(n(o,a),n(r,g)),m=!this.selectionFullyContained,b=o===a&&r===g,_=this._objects.length;_--&&(i=this._objects[_],!(!(!i||!i.selectable||!i.visible)&&(m&&i.intersectsWithRect(l,d,!0)||i.isContainedWithinRect(l,d,!0)||m&&i.containsPoint(l,null,!0)||m&&i.containsPoint(d,null,!0))&&(h.push(i),b))););return h.length>1&&(h=h.filter(function(C){return!C.onSelect({e:c})})),h},_maybeGroupObjects:function(c){this.selection&&this._groupSelector&&this._groupSelectedObjects(c),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){e.util.object.extend(e.StaticCanvas.prototype,{toDataURL:function(f){f||(f={});var n=f.format||"png",c=f.quality||1,h=(f.multiplier||1)*(f.enableRetinaScaling?this.getRetinaScaling():1),i=this.toCanvasElement(h,f);return e.util.toDataURL(i,n,c)},toCanvasElement:function(f,n){f=f||1,n=n||{};var c=(n.width||this.width)*f,h=(n.height||this.height)*f,i=this.getZoom(),o=this.width,r=this.height,a=i*f,g=this.viewportTransform,l=(g[4]-(n.left||0))*f,d=(g[5]-(n.top||0))*f,m=this.interactive,b=[a,0,0,a,l,d],_=this.enableRetinaScaling,C=e.util.createCanvasElement(),S=this.contextTop;return C.width=c,C.height=h,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=b,this.width=c,this.height=h,this.calcViewportBoundaries(),this.renderCanvas(C.getContext("2d"),this._objects),this.viewportTransform=g,this.width=o,this.height=r,this.calcViewportBoundaries(),this.interactive=m,this.enableRetinaScaling=_,this.contextTop=S,C}})}(),e.util.object.extend(e.StaticCanvas.prototype,{loadFromJSON:function(f,n,c){if(f){var h=typeof f=="string"?JSON.parse(f):e.util.object.clone(f),i=this,o=h.clipPath,r=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete h.clipPath,this._enlivenObjects(h.objects,function(a){i.clear(),i._setBgOverlay(h,function(){o?i._enlivenObjects([o],function(g){i.clipPath=g[0],i.__setupCanvas.call(i,h,a,r,n)}):i.__setupCanvas.call(i,h,a,r,n)})},c),this}},__setupCanvas:function(f,n,c,h){var i=this;n.forEach(function(o,r){i.insertAt(o,r)}),this.renderOnAddRemove=c,delete f.objects,delete f.backgroundImage,delete f.overlayImage,delete f.background,delete f.overlay,this._setOptions(f),this.renderAll(),h&&h()},_setBgOverlay:function(f,n){var c={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!f.backgroundImage&&!f.overlayImage&&!f.background&&!f.overlay){n&&n();return}var h=function(){c.backgroundImage&&c.overlayImage&&c.backgroundColor&&c.overlayColor&&n&&n()};this.__setBgOverlay("backgroundImage",f.backgroundImage,c,h),this.__setBgOverlay("overlayImage",f.overlayImage,c,h),this.__setBgOverlay("backgroundColor",f.background,c,h),this.__setBgOverlay("overlayColor",f.overlay,c,h)},__setBgOverlay:function(f,n,c,h){var i=this;if(!n){c[f]=!0,h&&h();return}f==="backgroundImage"||f==="overlayImage"?e.util.enlivenObjects([n],function(o){i[f]=o[0],c[f]=!0,h&&h()}):this["set"+e.util.string.capitalize(f,!0)](n,function(){c[f]=!0,h&&h()})},_enlivenObjects:function(f,n,c){if(!f||f.length===0){n&&n([]);return}e.util.enlivenObjects(f,function(h){n&&n(h)},null,c)},_toDataURL:function(f,n){this.clone(function(c){n(c.toDataURL(f))})},_toDataURLWithMultiplier:function(f,n,c){this.clone(function(h){c(h.toDataURLWithMultiplier(f,n))})},clone:function(f,n){var c=JSON.stringify(this.toJSON(n));this.cloneWithoutData(function(h){h.loadFromJSON(c,function(){f&&f(h)})})},cloneWithoutData:function(f){var n=e.util.createCanvasElement();n.width=this.width,n.height=this.height;var c=new e.Canvas(n);this.backgroundImage?(c.setBackgroundImage(this.backgroundImage.src,function(){c.renderAll(),f&&f(c)}),c.backgroundImageOpacity=this.backgroundImageOpacity,c.backgroundImageStretch=this.backgroundImageStretch):f&&f(c)}}),function(f){var n=f.fabric||(f.fabric={}),c=n.util.object.extend,h=n.util.object.clone,i=n.util.toFixed,o=n.util.string.capitalize,r=n.util.degreesToRadians,a=!n.isLikelyNode,g=2;n.Object||(n.Object=n.util.createClass(n.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:a,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(l){l&&this.setOptions(l)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=n.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(l){var d=n.perfLimitSizeTotal,m=l.width,b=l.height,_=n.maxCacheSideLimit,C=n.minCacheSideLimit;if(m<=_&&b<=_&&m*b<=d)return m<C&&(l.width=C),b<C&&(l.height=C),l;var S=m/b,w=n.util.limitDimsByArea(S,d),x=n.util.capValue,F=x(C,w.x,_),V=x(C,w.y,_);return m>F&&(l.zoomX/=m/F,l.width=F,l.capped=!0),b>V&&(l.zoomY/=b/V,l.height=V,l.capped=!0),l},_getCacheCanvasDimensions:function(){var l=this.getTotalObjectScaling(),d=this._getTransformedDimensions(0,0),m=d.x*l.scaleX/this.scaleX,b=d.y*l.scaleY/this.scaleY;return{width:m+g,height:b+g,zoomX:l.scaleX,zoomY:l.scaleY,x:m,y:b}},_updateCacheCanvas:function(){var l=this.canvas;if(this.noScaleCache&&l&&l._currentTransform){var d=l._currentTransform.target,m=l._currentTransform.action;if(this===d&&m.slice&&m.slice(0,5)==="scale")return!1}var b=this._cacheCanvas,_=this._limitCacheSize(this._getCacheCanvasDimensions()),C=n.minCacheSideLimit,S=_.width,w=_.height,x,F,V=_.zoomX,L=_.zoomY,D=S!==this.cacheWidth||w!==this.cacheHeight,G=this.zoomX!==V||this.zoomY!==L,z=D||G,Z=0,te=0,se=!1;if(D){var oe=this._cacheCanvas.width,P=this._cacheCanvas.height,H=S>oe||w>P,j=(S<oe*.9||w<P*.9)&&oe>C&&P>C;se=H||j,H&&!_.capped&&(S>C||w>C)&&(Z=S*.1,te=w*.1)}return this instanceof n.Text&&this.path&&(z=!0,se=!0,Z+=this.getHeightOfLine(0)*this.zoomX,te+=this.getHeightOfLine(0)*this.zoomY),z?(se?(b.width=Math.ceil(S+Z),b.height=Math.ceil(w+te)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,b.width,b.height)),x=_.x/2,F=_.y/2,this.cacheTranslationX=Math.round(b.width/2-x)+x,this.cacheTranslationY=Math.round(b.height/2-F)+F,this.cacheWidth=S,this.cacheHeight=w,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(V,L),this.zoomX=V,this.zoomY=L,!0):!1},setOptions:function(l){this._setOptions(l),this._initGradient(l.fill,"fill"),this._initGradient(l.stroke,"stroke"),this._initPattern(l.fill,"fill"),this._initPattern(l.stroke,"stroke")},transform:function(l){var d=this.group&&!this.group._transformDone||this.group&&this.canvas&&l===this.canvas.contextTop,m=this.calcTransformMatrix(!d);l.transform(m[0],m[1],m[2],m[3],m[4],m[5])},toObject:function(l){var d=n.Object.NUM_FRACTION_DIGITS,m={type:this.type,version:n.version,originX:this.originX,originY:this.originY,left:i(this.left,d),top:i(this.top,d),width:i(this.width,d),height:i(this.height,d),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:i(this.strokeWidth,d),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:i(this.strokeMiterLimit,d),scaleX:i(this.scaleX,d),scaleY:i(this.scaleY,d),angle:i(this.angle,d),flipX:this.flipX,flipY:this.flipY,opacity:i(this.opacity,d),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:i(this.skewX,d),skewY:i(this.skewY,d)};return this.clipPath&&!this.clipPath.excludeFromExport&&(m.clipPath=this.clipPath.toObject(l),m.clipPath.inverted=this.clipPath.inverted,m.clipPath.absolutePositioned=this.clipPath.absolutePositioned),n.util.populateWithProperties(this,m,l),this.includeDefaultValues||(m=this._removeDefaultValues(m)),m},toDatalessObject:function(l){return this.toObject(l)},_removeDefaultValues:function(l){var d=n.util.getKlass(l.type).prototype,m=d.stateProperties;return m.forEach(function(b){b==="left"||b==="top"||(l[b]===d[b]&&delete l[b],Array.isArray(l[b])&&Array.isArray(d[b])&&l[b].length===0&&d[b].length===0&&delete l[b])}),l},toString:function(){return"#<fabric."+o(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var l=n.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(l.scaleX),scaleY:Math.abs(l.scaleY)}},getTotalObjectScaling:function(){var l=this.getObjectScaling(),d=l.scaleX,m=l.scaleY;if(this.canvas){var b=this.canvas.getZoom(),_=this.canvas.getRetinaScaling();d*=b*_,m*=b*_}return{scaleX:d,scaleY:m}},getObjectOpacity:function(){var l=this.opacity;return this.group&&(l*=this.group.getObjectOpacity()),l},_set:function(l,d){var m=l==="scaleX"||l==="scaleY",b=this[l]!==d,_=!1;return m&&(d=this._constrainScale(d)),l==="scaleX"&&d<0?(this.flipX=!this.flipX,d*=-1):l==="scaleY"&&d<0?(this.flipY=!this.flipY,d*=-1):l==="shadow"&&d&&!(d instanceof n.Shadow)?d=new n.Shadow(d):l==="dirty"&&this.group&&this.group.set("dirty",d),this[l]=d,b&&(_=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(l)>-1?(this.dirty=!0,_&&this.group.set("dirty",!0)):_&&this.stateProperties.indexOf(l)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:n.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(l){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(l.save(),this._setupCompositeOperation(l),this.drawSelectionBackground(l),this.transform(l),this._setOpacity(l),this._setShadow(l,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(l)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(l),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),l.restore())},renderCache:function(l){l=l||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,l.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(l,d){if(l.save(),d.inverted?l.globalCompositeOperation="destination-out":l.globalCompositeOperation="destination-in",d.absolutePositioned){var m=n.util.invertTransform(this.calcTransformMatrix());l.transform(m[0],m[1],m[2],m[3],m[4],m[5])}d.transform(l),l.scale(1/d.zoomX,1/d.zoomY),l.drawImage(d._cacheCanvas,-d.cacheTranslationX,-d.cacheTranslationY),l.restore()},drawObject:function(l,d){var m=this.fill,b=this.stroke;d?(this.fill="black",this.stroke="",this._setClippingProperties(l)):this._renderBackground(l),this._render(l),this._drawClipPath(l,this.clipPath),this.fill=m,this.stroke=b},_drawClipPath:function(l,d){d&&(d.canvas=this.canvas,d.shouldCache(),d._transformDone=!0,d.renderCache({forClipping:!0}),this.drawClipPathOnCache(l,d))},drawCacheOnCanvas:function(l){l.scale(1/this.zoomX,1/this.zoomY),l.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(l){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!l&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!l){var d=this.cacheWidth/this.zoomX,m=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-d/2,-m/2,d,m)}return!0}return!1},_renderBackground:function(l){if(this.backgroundColor){var d=this._getNonTransformedDimensions();l.fillStyle=this.backgroundColor,l.fillRect(-d.x/2,-d.y/2,d.x,d.y),this._removeShadow(l)}},_setOpacity:function(l){this.group&&!this.group._transformDone?l.globalAlpha=this.getObjectOpacity():l.globalAlpha*=this.opacity},_setStrokeStyles:function(l,d){var m=d.stroke;m&&(l.lineWidth=d.strokeWidth,l.lineCap=d.strokeLineCap,l.lineDashOffset=d.strokeDashOffset,l.lineJoin=d.strokeLineJoin,l.miterLimit=d.strokeMiterLimit,m.toLive?m.gradientUnits==="percentage"||m.gradientTransform||m.patternTransform?this._applyPatternForTransformedGradient(l,m):(l.strokeStyle=m.toLive(l,this),this._applyPatternGradientTransform(l,m)):l.strokeStyle=d.stroke)},_setFillStyles:function(l,d){var m=d.fill;m&&(m.toLive?(l.fillStyle=m.toLive(l,this),this._applyPatternGradientTransform(l,d.fill)):l.fillStyle=m)},_setClippingProperties:function(l){l.globalAlpha=1,l.strokeStyle="transparent",l.fillStyle="#000000"},_setLineDash:function(l,d){!d||d.length===0||(1&d.length&&d.push.apply(d,d),l.setLineDash(d))},_renderControls:function(l,d){var m=this.getViewportTransform(),b=this.calcTransformMatrix(),_,C,S;d=d||{},C=typeof d.hasBorders<"u"?d.hasBorders:this.hasBorders,S=typeof d.hasControls<"u"?d.hasControls:this.hasControls,b=n.util.multiplyTransformMatrices(m,b),_=n.util.qrDecompose(b),l.save(),l.translate(_.translateX,_.translateY),l.lineWidth=1*this.borderScaleFactor,this.group||(l.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(_.angle-=180),l.rotate(r(this.group?_.angle:this.angle)),d.forActiveSelection||this.group?C&&this.drawBordersInGroup(l,_,d):C&&this.drawBorders(l,d),S&&this.drawControls(l,d),l.restore()},_setShadow:function(l){if(this.shadow){var d=this.shadow,m=this.canvas,b,_=m&&m.viewportTransform[0]||1,C=m&&m.viewportTransform[3]||1;d.nonScaling?b={scaleX:1,scaleY:1}:b=this.getObjectScaling(),m&&m._isRetinaScaling()&&(_*=n.devicePixelRatio,C*=n.devicePixelRatio),l.shadowColor=d.color,l.shadowBlur=d.blur*n.browserShadowBlurConstant*(_+C)*(b.scaleX+b.scaleY)/4,l.shadowOffsetX=d.offsetX*_*b.scaleX,l.shadowOffsetY=d.offsetY*C*b.scaleY}},_removeShadow:function(l){this.shadow&&(l.shadowColor="",l.shadowBlur=l.shadowOffsetX=l.shadowOffsetY=0)},_applyPatternGradientTransform:function(l,d){if(!d||!d.toLive)return{offsetX:0,offsetY:0};var m=d.gradientTransform||d.patternTransform,b=-this.width/2+d.offsetX||0,_=-this.height/2+d.offsetY||0;return d.gradientUnits==="percentage"?l.transform(this.width,0,0,this.height,b,_):l.transform(1,0,0,1,b,_),m&&l.transform(m[0],m[1],m[2],m[3],m[4],m[5]),{offsetX:b,offsetY:_}},_renderPaintInOrder:function(l){this.paintFirst==="stroke"?(this._renderStroke(l),this._renderFill(l)):(this._renderFill(l),this._renderStroke(l))},_render:function(){},_renderFill:function(l){this.fill&&(l.save(),this._setFillStyles(l,this),this.fillRule==="evenodd"?l.fill("evenodd"):l.fill(),l.restore())},_renderStroke:function(l){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(l),l.save(),this.strokeUniform&&this.group){var d=this.getObjectScaling();l.scale(1/d.scaleX,1/d.scaleY)}else this.strokeUniform&&l.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(l,this.strokeDashArray),this._setStrokeStyles(l,this),l.stroke(),l.restore()}},_applyPatternForTransformedGradient:function(l,d){var m=this._limitCacheSize(this._getCacheCanvasDimensions()),b=n.util.createCanvasElement(),_,C=this.canvas.getRetinaScaling(),S=m.x/this.scaleX/C,w=m.y/this.scaleY/C;b.width=S,b.height=w,_=b.getContext("2d"),_.beginPath(),_.moveTo(0,0),_.lineTo(S,0),_.lineTo(S,w),_.lineTo(0,w),_.closePath(),_.translate(S/2,w/2),_.scale(m.zoomX/this.scaleX/C,m.zoomY/this.scaleY/C),this._applyPatternGradientTransform(_,d),_.fillStyle=d.toLive(l),_.fill(),l.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),l.scale(C*this.scaleX/m.zoomX,C*this.scaleY/m.zoomY),l.strokeStyle=_.createPattern(b,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var l=n.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",l.scaleX),this.set("scaleY",l.scaleY),this.angle=l.angle,this.skewX=l.skewX,this.skewY=0}},_removeTransformMatrix:function(l){var d=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),d=n.util.transformPoint(d,this.transformMatrix)),this.transformMatrix=null,l&&(this.scaleX*=l.scaleX,this.scaleY*=l.scaleY,this.cropX=l.cropX,this.cropY=l.cropY,d.x+=l.offsetLeft,d.y+=l.offsetTop,this.width=l.width,this.height=l.height),this.setPositionByOrigin(d,"center","center")},clone:function(l,d){var m=this.toObject(d);this.constructor.fromObject?this.constructor.fromObject(m,l):n.Object._fromObject("Object",m,l)},cloneAsImage:function(l,d){var m=this.toCanvasElement(d);return l&&l(new n.Image(m)),this},toCanvasElement:function(l){l||(l={});var d=n.util,m=d.saveObjectTransform(this),b=this.group,_=this.shadow,C=Math.abs,S=(l.multiplier||1)*(l.enableRetinaScaling?n.devicePixelRatio:1);delete this.group,l.withoutTransform&&d.resetObjectTransform(this),l.withoutShadow&&(this.shadow=null);var w=n.util.createCanvasElement(),x=this.getBoundingRect(!0,!0),F=this.shadow,V,L={x:0,y:0},D,G,z;F&&(D=F.blur,F.nonScaling?V={scaleX:1,scaleY:1}:V=this.getObjectScaling(),L.x=2*Math.round(C(F.offsetX)+D)*C(V.scaleX),L.y=2*Math.round(C(F.offsetY)+D)*C(V.scaleY)),G=x.width+L.x,z=x.height+L.y,w.width=Math.ceil(G),w.height=Math.ceil(z);var Z=new n.StaticCanvas(w,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});l.format==="jpeg"&&(Z.backgroundColor="#fff"),this.setPositionByOrigin(new n.Point(Z.width/2,Z.height/2),"center","center");var te=this.canvas;Z.add(this);var se=Z.toCanvasElement(S||1,l);return this.shadow=_,this.set("canvas",te),b&&(this.group=b),this.set(m).setCoords(),Z._objects=[],Z.dispose(),Z=null,se},toDataURL:function(l){return l||(l={}),n.util.toDataURL(this.toCanvasElement(l),l.format||"png",l.quality||1)},isType:function(l){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===l},complexity:function(){return 1},toJSON:function(l){return this.toObject(l)},rotate:function(l){var d=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return d&&this._setOriginToCenter(),this.set("angle",l),d&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(l,d){d=d||this.canvas.getPointer(l);var m=new n.Point(d.x,d.y),b=this._getLeftTopCoords();return this.angle&&(m=n.util.rotatePoint(m,b,r(-this.angle))),{x:m.x-b.x,y:m.y-b.y}},_setupCompositeOperation:function(l){this.globalCompositeOperation&&(l.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){n.runningAnimations&&n.runningAnimations.cancelByTarget(this)}}),n.util.createAccessors&&n.util.createAccessors(n.Object),c(n.Object.prototype,n.Observable),n.Object.NUM_FRACTION_DIGITS=2,n.Object.ENLIVEN_PROPS=["clipPath"],n.Object._fromObject=function(l,d,m,b){var _=n[l];d=h(d,!0),n.util.enlivenPatterns([d.fill,d.stroke],function(C){typeof C[0]<"u"&&(d.fill=C[0]),typeof C[1]<"u"&&(d.stroke=C[1]),n.util.enlivenObjectEnlivables(d,d,function(){var S=b?new _(d[b],d):new _(d);m&&m(S)})})},n.Object.__uid=0)}(t),function(){var f=e.util.degreesToRadians,n={left:-.5,center:0,right:.5},c={top:-.5,center:0,bottom:.5};e.util.object.extend(e.Object.prototype,{translateToGivenOrigin:function(h,i,o,r,a){var g=h.x,l=h.y,d,m,b;return typeof i=="string"?i=n[i]:i-=.5,typeof r=="string"?r=n[r]:r-=.5,d=r-i,typeof o=="string"?o=c[o]:o-=.5,typeof a=="string"?a=c[a]:a-=.5,m=a-o,(d||m)&&(b=this._getTransformedDimensions(),g=h.x+d*b.x,l=h.y+m*b.y),new e.Point(g,l)},translateToCenterPoint:function(h,i,o){var r=this.translateToGivenOrigin(h,i,o,"center","center");return this.angle?e.util.rotatePoint(r,h,f(this.angle)):r},translateToOriginPoint:function(h,i,o){var r=this.translateToGivenOrigin(h,"center","center",i,o);return this.angle?e.util.rotatePoint(r,h,f(this.angle)):r},getCenterPoint:function(){var h=new e.Point(this.left,this.top);return this.translateToCenterPoint(h,this.originX,this.originY)},getPointByOrigin:function(h,i){var o=this.getCenterPoint();return this.translateToOriginPoint(o,h,i)},toLocalPoint:function(h,i,o){var r=this.getCenterPoint(),a,g;return typeof i<"u"&&typeof o<"u"?a=this.translateToGivenOrigin(r,"center","center",i,o):a=new e.Point(this.left,this.top),g=new e.Point(h.x,h.y),this.angle&&(g=e.util.rotatePoint(g,r,-f(this.angle))),g.subtractEquals(a)},setPositionByOrigin:function(h,i,o){var r=this.translateToCenterPoint(h,i,o),a=this.translateToOriginPoint(r,this.originX,this.originY);this.set("left",a.x),this.set("top",a.y)},adjustPosition:function(h){var i=f(this.angle),o=this.getScaledWidth(),r=e.util.cos(i)*o,a=e.util.sin(i)*o,g,l;typeof this.originX=="string"?g=n[this.originX]:g=this.originX-.5,typeof h=="string"?l=n[h]:l=h-.5,this.left+=r*(l-g),this.top+=a*(l-g),this.setCoords(),this.originX=h},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var h=this.getCenterPoint();this.originX="center",this.originY="center",this.left=h.x,this.top=h.y},_resetOrigin:function(){var h=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=h.x,this.top=h.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function f(o){return[new e.Point(o.tl.x,o.tl.y),new e.Point(o.tr.x,o.tr.y),new e.Point(o.br.x,o.br.y),new e.Point(o.bl.x,o.bl.y)]}var n=e.util,c=n.degreesToRadians,h=n.multiplyTransformMatrices,i=n.transformPoint;n.object.extend(e.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(o,r){return r?o?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),o?this.aCoords:this.lineCoords)},getCoords:function(o,r){return f(this._getCoords(o,r))},intersectsWithRect:function(o,r,a,g){var l=this.getCoords(a,g),d=e.Intersection.intersectPolygonRectangle(l,o,r);return d.status==="Intersection"},intersectsWithObject:function(o,r,a){var g=e.Intersection.intersectPolygonPolygon(this.getCoords(r,a),o.getCoords(r,a));return g.status==="Intersection"||o.isContainedWithinObject(this,r,a)||this.isContainedWithinObject(o,r,a)},isContainedWithinObject:function(o,r,a){for(var g=this.getCoords(r,a),l=r?o.aCoords:o.lineCoords,d=0,m=o._getImageLines(l);d<4;d++)if(!o.containsPoint(g[d],m))return!1;return!0},isContainedWithinRect:function(o,r,a,g){var l=this.getBoundingRect(a,g);return l.left>=o.x&&l.left+l.width<=r.x&&l.top>=o.y&&l.top+l.height<=r.y},containsPoint:function(o,d,a,g){var l=this._getCoords(a,g),d=d||this._getImageLines(l),m=this._findCrossPoints(o,d);return m!==0&&m%2===1},isOnScreen:function(o){if(!this.canvas)return!1;var r=this.canvas.vptCoords.tl,a=this.canvas.vptCoords.br,g=this.getCoords(!0,o);return g.some(function(l){return l.x<=a.x&&l.x>=r.x&&l.y<=a.y&&l.y>=r.y})||this.intersectsWithRect(r,a,!0,o)?!0:this._containsCenterOfCanvas(r,a,o)},_containsCenterOfCanvas:function(o,r,a){var g={x:(o.x+r.x)/2,y:(o.y+r.y)/2};return!!this.containsPoint(g,null,!0,a)},isPartiallyOnScreen:function(o){if(!this.canvas)return!1;var r=this.canvas.vptCoords.tl,a=this.canvas.vptCoords.br;if(this.intersectsWithRect(r,a,!0,o))return!0;var g=this.getCoords(!0,o).every(function(l){return(l.x>=a.x||l.x<=r.x)&&(l.y>=a.y||l.y<=r.y)});return g&&this._containsCenterOfCanvas(r,a,o)},_getImageLines:function(o){var r={topline:{o:o.tl,d:o.tr},rightline:{o:o.tr,d:o.br},bottomline:{o:o.br,d:o.bl},leftline:{o:o.bl,d:o.tl}};return r},_findCrossPoints:function(o,r){var a,g,l,d,m,b=0,_;for(var C in r)if(_=r[C],!(_.o.y<o.y&&_.d.y<o.y)&&!(_.o.y>=o.y&&_.d.y>=o.y)&&(_.o.x===_.d.x&&_.o.x>=o.x?m=_.o.x:(a=0,g=(_.d.y-_.o.y)/(_.d.x-_.o.x),l=o.y-a*o.x,d=_.o.y-g*_.o.x,m=-(l-d)/(a-g)),m>=o.x&&(b+=1),b===2))break;return b},getBoundingRect:function(o,r){var a=this.getCoords(o,r);return n.makeBoundingBoxFromPoints(a)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(o){return Math.abs(o)<this.minScaleLimit?o<0?-this.minScaleLimit:this.minScaleLimit:o===0?1e-4:o},scale:function(o){return this._set("scaleX",o),this._set("scaleY",o),this.setCoords()},scaleToWidth:function(o,r){var a=this.getBoundingRect(r).width/this.getScaledWidth();return this.scale(o/this.width/a)},scaleToHeight:function(o,r){var a=this.getBoundingRect(r).height/this.getScaledHeight();return this.scale(o/this.height/a)},calcLineCoords:function(){var o=this.getViewportTransform(),r=this.padding,a=c(this.angle),g=n.cos(a),l=n.sin(a),d=g*r,m=l*r,b=d+m,_=d-m,C=this.calcACoords(),S={tl:i(C.tl,o),tr:i(C.tr,o),bl:i(C.bl,o),br:i(C.br,o)};return r&&(S.tl.x-=_,S.tl.y-=b,S.tr.x+=b,S.tr.y-=_,S.bl.x-=b,S.bl.y+=_,S.br.x+=_,S.br.y+=b),S},calcOCoords:function(){var o=this._calcRotateMatrix(),r=this._calcTranslateMatrix(),a=this.getViewportTransform(),g=h(a,r),l=h(g,o),l=h(l,[1/a[0],0,0,1/a[3],0,0]),d=this._calculateCurrentDimensions(),m={};return this.forEachControl(function(b,_,C){m[_]=b.positionHandler(d,l,C)}),m},calcACoords:function(){var o=this._calcRotateMatrix(),r=this._calcTranslateMatrix(),a=h(r,o),g=this._getTransformedDimensions(),l=g.x/2,d=g.y/2;return{tl:i({x:-l,y:-d},a),tr:i({x:l,y:-d},a),bl:i({x:-l,y:d},a),br:i({x:l,y:d},a)}},setCoords:function(o){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),o?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return n.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var o=this.getCenterPoint();return[1,0,0,1,o.x,o.y]},transformMatrixKey:function(o){var r="_",a="";return!o&&this.group&&(a=this.group.transformMatrixKey(o)+r),a+this.top+r+this.left+r+this.scaleX+r+this.scaleY+r+this.skewX+r+this.skewY+r+this.angle+r+this.originX+r+this.originY+r+this.width+r+this.height+r+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(o){var r=this.calcOwnMatrix();if(o||!this.group)return r;var a=this.transformMatrixKey(o),g=this.matrixCache||(this.matrixCache={});return g.key===a?g.value:(this.group&&(r=h(this.group.calcTransformMatrix(!1),r)),g.key=a,g.value=r,r)},calcOwnMatrix:function(){var o=this.transformMatrixKey(!0),r=this.ownMatrixCache||(this.ownMatrixCache={});if(r.key===o)return r.value;var a=this._calcTranslateMatrix(),g={angle:this.angle,translateX:a[4],translateY:a[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return r.key=o,r.value=n.composeMatrix(g),r.value},_getNonTransformedDimensions:function(){var o=this.strokeWidth,r=this.width+o,a=this.height+o;return{x:r,y:a}},_getTransformedDimensions:function(o,r){typeof o>"u"&&(o=this.skewX),typeof r>"u"&&(r=this.skewY);var a,g,l,d=o===0&&r===0;if(this.strokeUniform?(g=this.width,l=this.height):(a=this._getNonTransformedDimensions(),g=a.x,l=a.y),d)return this._finalizeDimensions(g*this.scaleX,l*this.scaleY);var m=n.sizeAfterTransform(g,l,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:o,skewY:r});return this._finalizeDimensions(m.x,m.y)},_finalizeDimensions:function(o,r){return this.strokeUniform?{x:o+this.strokeWidth,y:r+this.strokeWidth}:{x:o,y:r}},_calculateCurrentDimensions:function(){var o=this.getViewportTransform(),r=this._getTransformedDimensions(),a=i(r,o,!0);return a.scalarAdd(2*this.padding)}})}(),e.util.object.extend(e.Object.prototype,{sendToBack:function(){return this.group?e.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?e.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(f){return this.group?e.StaticCanvas.prototype.sendBackwards.call(this.group,this,f):this.canvas&&this.canvas.sendBackwards(this,f),this},bringForward:function(f){return this.group?e.StaticCanvas.prototype.bringForward.call(this.group,this,f):this.canvas&&this.canvas.bringForward(this,f),this},moveTo:function(f){return this.group&&this.group.type!=="activeSelection"?e.StaticCanvas.prototype.moveTo.call(this.group,this,f):this.canvas&&this.canvas.moveTo(this,f),this}}),function(){function f(c,h){if(h){if(h.toLive)return c+": url(#SVGID_"+h.id+"); ";var i=new e.Color(h),o=c+": "+i.toRgb()+"; ",r=i.getAlpha();return r!==1&&(o+=c+"-opacity: "+r.toString()+"; "),o}else return c+": none; "}var n=e.util.toFixed;e.util.object.extend(e.Object.prototype,{getSvgStyles:function(c){var h=this.fillRule?this.fillRule:"nonzero",i=this.strokeWidth?this.strokeWidth:"0",o=this.strokeDashArray?this.strokeDashArray.join(" "):"none",r=this.strokeDashOffset?this.strokeDashOffset:"0",a=this.strokeLineCap?this.strokeLineCap:"butt",g=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",d=typeof this.opacity<"u"?this.opacity:"1",m=this.visible?"":" visibility: hidden;",b=c?"":this.getSvgFilter(),_=f("fill",this.fill),C=f("stroke",this.stroke);return[C,"stroke-width: ",i,"; ","stroke-dasharray: ",o,"; ","stroke-linecap: ",a,"; ","stroke-dashoffset: ",r,"; ","stroke-linejoin: ",g,"; ","stroke-miterlimit: ",l,"; ",_,"fill-rule: ",h,"; ","opacity: ",d,";",b,m].join("")},getSvgSpanStyles:function(c,h){var i="; ",r=c.fontFamily?"font-family: "+(c.fontFamily.indexOf("'")===-1&&c.fontFamily.indexOf('"')===-1?"'"+c.fontFamily+"'":c.fontFamily)+i:"",o=c.strokeWidth?"stroke-width: "+c.strokeWidth+i:"",r=r,a=c.fontSize?"font-size: "+c.fontSize+"px"+i:"",g=c.fontStyle?"font-style: "+c.fontStyle+i:"",l=c.fontWeight?"font-weight: "+c.fontWeight+i:"",d=c.fill?f("fill",c.fill):"",m=c.stroke?f("stroke",c.stroke):"",b=this.getSvgTextDecoration(c),_=c.deltaY?"baseline-shift: "+-c.deltaY+"; ":"";return b&&(b="text-decoration: "+b+i),[m,o,r,a,g,l,b,d,_,h?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(c){return["overline","underline","line-through"].filter(function(h){return c[h.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(c,h){var i=c?this.calcTransformMatrix():this.calcOwnMatrix(),o='transform="'+e.util.matrixToSVG(i);return o+(h||"")+'" '},_setSVGBg:function(c){if(this.backgroundColor){var h=e.Object.NUM_FRACTION_DIGITS;c.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',n(-this.width/2,h),'" y="',n(-this.height/2,h),'" width="',n(this.width,h),'" height="',n(this.height,h),`"></rect>
`)}},toSVG:function(c){return this._createBaseSVGMarkup(this._toSVG(c),{reviver:c})},toClipPathSVG:function(c){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(c),{reviver:c})},_createBaseClipPathSVGMarkup:function(c,h){h=h||{};var i=h.reviver,o=h.additionalTransform||"",r=[this.getSvgTransform(!0,o),this.getSvgCommons()].join(""),a=c.indexOf("COMMON_PARTS");return c[a]=r,i?i(c.join("")):c.join("")},_createBaseSVGMarkup:function(c,h){h=h||{};var i=h.noStyle,o=h.reviver,r=i?"":'style="'+this.getSvgStyles()+'" ',a=h.withShadow?'style="'+this.getSvgFilter()+'" ':"",g=this.clipPath,l=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",d=g&&g.absolutePositioned,m=this.stroke,b=this.fill,_=this.shadow,C,S=[],w,x=c.indexOf("COMMON_PARTS"),F=h.additionalTransform;return g&&(g.clipPathId="CLIPPATH_"+e.Object.__uid++,w='<clipPath id="'+g.clipPathId+`" >
`+g.toClipPathSVG(o)+`</clipPath>
`),d&&S.push("<g ",a,this.getSvgCommons(),` >
`),S.push("<g ",this.getSvgTransform(!1),d?"":a+this.getSvgCommons(),` >
`),C=[r,l,i?"":this.addPaintOrder()," ",F?'transform="'+F+'" ':""].join(""),c[x]=C,b&&b.toLive&&S.push(b.toSVG(this)),m&&m.toLive&&S.push(m.toSVG(this)),_&&S.push(_.toSVG(this)),g&&S.push(w),S.push(c.join("")),S.push(`</g>
`),d&&S.push(`</g>
`),o?o(S.join("")):S.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var f=e.util.object.extend,n="stateProperties";function c(i,o,r){var a={},g=!0;r.forEach(function(l){a[l]=i[l]}),f(i[o],a,g)}function h(i,o,r){if(i===o)return!0;if(Array.isArray(i)){if(!Array.isArray(o)||i.length!==o.length)return!1;for(var a=0,g=i.length;a<g;a++)if(!h(i[a],o[a]))return!1;return!0}else if(i&&typeof i=="object"){var l=Object.keys(i),d;if(!o||typeof o!="object"||!r&&l.length!==Object.keys(o).length)return!1;for(var a=0,g=l.length;a<g;a++)if(d=l[a],!(d==="canvas"||d==="group")&&!h(i[d],o[d]))return!1;return!0}}e.util.object.extend(e.Object.prototype,{hasStateChanged:function(i){i=i||n;var o="_"+i;return Object.keys(this[o]).length<this[i].length?!0:!h(this[o],this,!0)},saveState:function(i){var o=i&&i.propertySet||n,r="_"+o;return this[r]?(c(this,r,this[o]),i&&i.stateProperties&&c(this,r,i.stateProperties),this):this.setupState(i)},setupState:function(i){i=i||{};var o=i.propertySet||n;return i.propertySet=o,this["_"+o]={},this.saveState(i),this}})}(),function(){var f=e.util.degreesToRadians;e.util.object.extend(e.Object.prototype,{_findTargetCorner:function(n,c){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var h=n.x,i=n.y,o,r,a=Object.keys(this.oCoords),g=a.length-1,l;for(this.__corner=0;g>=0;g--)if(l=a[g],!!this.isControlVisible(l)&&(r=this._getImageLines(c?this.oCoords[l].touchCorner:this.oCoords[l].corner),o=this._findCrossPoints({x:h,y:i},r),o!==0&&o%2===1))return this.__corner=l,l;return!1},forEachControl:function(n){for(var c in this.controls)n(this.controls[c],c,this)},_setCornerCoords:function(){var n=this.oCoords;for(var c in n){var h=this.controls[c];n[c].corner=h.calcCornerCoords(this.angle,this.cornerSize,n[c].x,n[c].y,!1),n[c].touchCorner=h.calcCornerCoords(this.angle,this.touchCornerSize,n[c].x,n[c].y,!0)}},drawSelectionBackground:function(n){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;n.save();var c=this.getCenterPoint(),h=this._calculateCurrentDimensions(),i=this.canvas.viewportTransform;return n.translate(c.x,c.y),n.scale(1/i[0],1/i[3]),n.rotate(f(this.angle)),n.fillStyle=this.selectionBackgroundColor,n.fillRect(-h.x/2,-h.y/2,h.x,h.y),n.restore(),this},drawBorders:function(n,c){c=c||{};var h=this._calculateCurrentDimensions(),i=this.borderScaleFactor,o=h.x+i,r=h.y+i,a=typeof c.hasControls<"u"?c.hasControls:this.hasControls,g=!1;return n.save(),n.strokeStyle=c.borderColor||this.borderColor,this._setLineDash(n,c.borderDashArray||this.borderDashArray),n.strokeRect(-o/2,-r/2,o,r),a&&(n.beginPath(),this.forEachControl(function(l,d,m){l.withConnection&&l.getVisibility(m,d)&&(g=!0,n.moveTo(l.x*o,l.y*r),n.lineTo(l.x*o+l.offsetX,l.y*r+l.offsetY))}),g&&n.stroke()),n.restore(),this},drawBordersInGroup:function(n,c,h){h=h||{};var i=e.util.sizeAfterTransform(this.width,this.height,c),o=this.strokeWidth,r=this.strokeUniform,a=this.borderScaleFactor,g=i.x+o*(r?this.canvas.getZoom():c.scaleX)+a,l=i.y+o*(r?this.canvas.getZoom():c.scaleY)+a;return n.save(),this._setLineDash(n,h.borderDashArray||this.borderDashArray),n.strokeStyle=h.borderColor||this.borderColor,n.strokeRect(-g/2,-l/2,g,l),n.restore(),this},drawControls:function(n,c){c=c||{},n.save();var h=this.canvas.getRetinaScaling(),i,o;return n.setTransform(h,0,0,h,0,0),n.strokeStyle=n.fillStyle=c.cornerColor||this.cornerColor,this.transparentCorners||(n.strokeStyle=c.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(n,c.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(i=this.group.calcTransformMatrix()),this.forEachControl(function(r,a,g){o=g.oCoords[a],r.getVisibility(g,a)&&(i&&(o=e.util.transformPoint(o,i)),r.render(n,o.x,o.y,c,g))}),n.restore(),this},isControlVisible:function(n){return this.controls[n]&&this.controls[n].getVisibility(this,n)},setControlVisible:function(n,c){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[n]=c,this},setControlsVisibility:function(n){n||(n={});for(var c in n)this.setControlVisible(c,n[c]);return this},onDeselect:function(){},onSelect:function(){}})}(),e.util.object.extend(e.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(f,n){n=n||{};var c=function(){},h=n.onComplete||c,i=n.onChange||c,o=this;return e.util.animate({target:this,startValue:f.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(r){f.set("left",r),o.requestRenderAll(),i()},onComplete:function(){f.setCoords(),h()}})},fxCenterObjectV:function(f,n){n=n||{};var c=function(){},h=n.onComplete||c,i=n.onChange||c,o=this;return e.util.animate({target:this,startValue:f.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(r){f.set("top",r),o.requestRenderAll(),i()},onComplete:function(){f.setCoords(),h()}})},fxRemove:function(f,n){n=n||{};var c=function(){},h=n.onComplete||c,i=n.onChange||c,o=this;return e.util.animate({target:this,startValue:f.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(r){f.set("opacity",r),o.requestRenderAll(),i()},onComplete:function(){o.remove(f),h()}})}}),e.util.object.extend(e.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var f=[],n,c,h=[];for(n in arguments[0])f.push(n);for(var i=0,o=f.length;i<o;i++)n=f[i],c=i!==o-1,h.push(this._animate(n,arguments[0][n],arguments[1],c));return h}else return this._animate.apply(this,arguments)},_animate:function(f,n,c,h){var i=this,o;n=n.toString(),c?c=e.util.object.clone(c):c={},~f.indexOf(".")&&(o=f.split("."));var r=i.colorProperties.indexOf(f)>-1||o&&i.colorProperties.indexOf(o[1])>-1,a=o?this.get(o[0])[o[1]]:this.get(f);"from"in c||(c.from=a),r||(~n.indexOf("=")?n=a+parseFloat(n.replace("=","")):n=parseFloat(n));var g={target:this,startValue:c.from,endValue:n,byValue:c.by,easing:c.easing,duration:c.duration,abort:c.abort&&function(l,d,m){return c.abort.call(i,l,d,m)},onChange:function(l,d,m){o?i[o[0]][o[1]]=l:i.set(f,l),!h&&c.onChange&&c.onChange(l,d,m)},onComplete:function(l,d,m){h||(i.setCoords(),c.onComplete&&c.onComplete(l,d,m))}};return r?e.util.animateColor(g.startValue,g.endValue,g.duration,g):e.util.animate(g)}}),function(f){var n=f.fabric||(f.fabric={}),c=n.util.object.extend,h=n.util.object.clone,i={x1:1,x2:1,y1:1,y2:1};if(n.Line){n.warn("fabric.Line is already defined");return}n.Line=n.util.createClass(n.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:n.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(r,a){r||(r=[0,0,0,0]),this.callSuper("initialize",a),this.set("x1",r[0]),this.set("y1",r[1]),this.set("x2",r[2]),this.set("y2",r[3]),this._setWidthHeight(a)},_setWidthHeight:function(r){r||(r={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in r?r.left:this._getLeftToOriginX(),this.top="top"in r?r.top:this._getTopToOriginY()},_set:function(r,a){return this.callSuper("_set",r,a),typeof i[r]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:o({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:o({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(r){r.beginPath();var a=this.calcLinePoints();r.moveTo(a.x1,a.y1),r.lineTo(a.x2,a.y2),r.lineWidth=this.strokeWidth;var g=r.strokeStyle;r.strokeStyle=this.stroke||r.fillStyle,this.stroke&&this._renderStroke(r),r.strokeStyle=g},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(r){return c(this.callSuper("toObject",r),this.calcLinePoints())},_getNonTransformedDimensions:function(){var r=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(r.y-=this.strokeWidth),this.height===0&&(r.x-=this.strokeWidth)),r},calcLinePoints:function(){var r=this.x1<=this.x2?-1:1,a=this.y1<=this.y2?-1:1,g=r*this.width*.5,l=a*this.height*.5,d=r*this.width*-.5,m=a*this.height*-.5;return{x1:g,x2:d,y1:l,y2:m}},_toSVG:function(){var r=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',r.x1,'" y1="',r.y1,'" x2="',r.x2,'" y2="',r.y2,`" />
`]}}),n.Line.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),n.Line.fromElement=function(r,a,g){g=g||{};var l=n.parseAttributes(r,n.Line.ATTRIBUTE_NAMES),d=[l.x1||0,l.y1||0,l.x2||0,l.y2||0];a(new n.Line(d,c(l,g)))},n.Line.fromObject=function(r,a){function g(d){delete d.points,a&&a(d)}var l=h(r,!0);l.points=[r.x1,r.y1,r.x2,r.y2],n.Object._fromObject("Line",l,g,"points")};function o(r,a){var g=r.origin,l=r.axis1,d=r.axis2,m=r.dimension,b=a.nearest,_=a.center,C=a.farthest;return function(){switch(this.get(g)){case b:return Math.min(this.get(l),this.get(d));case _:return Math.min(this.get(l),this.get(d))+.5*this.get(m);case C:return Math.max(this.get(l),this.get(d))}}}}(t),function(f){var n=f.fabric||(f.fabric={}),c=n.util.degreesToRadians;if(n.Circle){n.warn("fabric.Circle is already defined.");return}n.Circle=n.util.createClass(n.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:n.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(i,o){return this.callSuper("_set",i,o),i==="radius"&&this.setRadius(o),this},toObject:function(i){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(i))},_toSVG:function(){var i,o=0,r=0,a=(this.endAngle-this.startAngle)%360;if(a===0)i=["<circle ","COMMON_PARTS",'cx="'+o+'" cy="'+r+'" ','r="',this.radius,`" />
`];else{var g=c(this.startAngle),l=c(this.endAngle),d=this.radius,m=n.util.cos(g)*d,b=n.util.sin(g)*d,_=n.util.cos(l)*d,C=n.util.sin(l)*d,S=a>180?"1":"0";i=['<path d="M '+m+" "+b," A "+d+" "+d," 0 ",+S+" 1"," "+_+" "+C,'" ',"COMMON_PARTS",` />
`]}return i},_render:function(i){i.beginPath(),i.arc(0,0,this.radius,c(this.startAngle),c(this.endAngle),!1),this._renderPaintInOrder(i)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(i){return this.radius=i,this.set("width",i*2).set("height",i*2)}}),n.Circle.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),n.Circle.fromElement=function(i,o){var r=n.parseAttributes(i,n.Circle.ATTRIBUTE_NAMES);if(!h(r))throw new Error("value of `r` attribute is required and can not be negative");r.left=(r.left||0)-r.radius,r.top=(r.top||0)-r.radius,o(new n.Circle(r))};function h(i){return"radius"in i&&i.radius>=0}n.Circle.fromObject=function(i,o){n.Object._fromObject("Circle",i,o)}}(t),function(f){var n=f.fabric||(f.fabric={});if(n.Triangle){n.warn("fabric.Triangle is already defined");return}n.Triangle=n.util.createClass(n.Object,{type:"triangle",width:100,height:100,_render:function(c){var h=this.width/2,i=this.height/2;c.beginPath(),c.moveTo(-h,i),c.lineTo(0,-i),c.lineTo(h,i),c.closePath(),this._renderPaintInOrder(c)},_toSVG:function(){var c=this.width/2,h=this.height/2,i=[-c+" "+h,"0 "+-h,c+" "+h].join(",");return["<polygon ","COMMON_PARTS",'points="',i,'" />']}}),n.Triangle.fromObject=function(c,h){return n.Object._fromObject("Triangle",c,h)}}(t),function(f){var n=f.fabric||(f.fabric={}),c=Math.PI*2;if(n.Ellipse){n.warn("fabric.Ellipse is already defined.");return}n.Ellipse=n.util.createClass(n.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:n.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(h){this.callSuper("initialize",h),this.set("rx",h&&h.rx||0),this.set("ry",h&&h.ry||0)},_set:function(h,i){switch(this.callSuper("_set",h,i),h){case"rx":this.rx=i,this.set("width",i*2);break;case"ry":this.ry=i,this.set("height",i*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(h){return this.callSuper("toObject",["rx","ry"].concat(h))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(h){h.beginPath(),h.save(),h.transform(1,0,0,this.ry/this.rx,0,0),h.arc(0,0,this.rx,0,c,!1),h.restore(),this._renderPaintInOrder(h)}}),n.Ellipse.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),n.Ellipse.fromElement=function(h,i){var o=n.parseAttributes(h,n.Ellipse.ATTRIBUTE_NAMES);o.left=(o.left||0)-o.rx,o.top=(o.top||0)-o.ry,i(new n.Ellipse(o))},n.Ellipse.fromObject=function(h,i){n.Object._fromObject("Ellipse",h,i)}}(t),function(f){var n=f.fabric||(f.fabric={}),c=n.util.object.extend;if(n.Rect){n.warn("fabric.Rect is already defined");return}n.Rect=n.util.createClass(n.Object,{stateProperties:n.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:n.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(h){this.callSuper("initialize",h),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(h){var i=this.rx?Math.min(this.rx,this.width/2):0,o=this.ry?Math.min(this.ry,this.height/2):0,r=this.width,a=this.height,g=-this.width/2,l=-this.height/2,d=i!==0||o!==0,m=1-.5522847498;h.beginPath(),h.moveTo(g+i,l),h.lineTo(g+r-i,l),d&&h.bezierCurveTo(g+r-m*i,l,g+r,l+m*o,g+r,l+o),h.lineTo(g+r,l+a-o),d&&h.bezierCurveTo(g+r,l+a-m*o,g+r-m*i,l+a,g+r-i,l+a),h.lineTo(g+i,l+a),d&&h.bezierCurveTo(g+m*i,l+a,g,l+a-m*o,g,l+a-o),h.lineTo(g,l+o),d&&h.bezierCurveTo(g,l+m*o,g+m*i,l,g+i,l),h.closePath(),this._renderPaintInOrder(h)},toObject:function(h){return this.callSuper("toObject",["rx","ry"].concat(h))},_toSVG:function(){var h=-this.width/2,i=-this.height/2;return["<rect ","COMMON_PARTS",'x="',h,'" y="',i,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),n.Rect.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),n.Rect.fromElement=function(h,i,o){if(!h)return i(null);o=o||{};var r=n.parseAttributes(h,n.Rect.ATTRIBUTE_NAMES);r.left=r.left||0,r.top=r.top||0,r.height=r.height||0,r.width=r.width||0;var a=new n.Rect(c(o?n.util.object.clone(o):{},r));a.visible=a.visible&&a.width>0&&a.height>0,i(a)},n.Rect.fromObject=function(h,i){return n.Object._fromObject("Rect",h,i)}}(t),function(f){var n=f.fabric||(f.fabric={}),c=n.util.object.extend,h=n.util.array.min,i=n.util.array.max,o=n.util.toFixed,r=n.util.projectStrokeOnPoints;if(n.Polyline){n.warn("fabric.Polyline is already defined");return}n.Polyline=n.util.createClass(n.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:n.Object.prototype.cacheProperties.concat("points"),initialize:function(a,g){g=g||{},this.points=a||[],this.callSuper("initialize",g),this._setPositionDimensions(g)},_projectStrokeOnPoints:function(){return r(this.points,this,!0)},_setPositionDimensions:function(a){var g=this._calcDimensions(a),l,d=this.exactBoundingBox?this.strokeWidth:0;this.width=g.width-d,this.height=g.height-d,a.fromSVG||(l=this.translateToGivenOrigin({x:g.left-this.strokeWidth/2+d/2,y:g.top-this.strokeWidth/2+d/2},"left","top",this.originX,this.originY)),typeof a.left>"u"&&(this.left=a.fromSVG?g.left:l.x),typeof a.top>"u"&&(this.top=a.fromSVG?g.top:l.y),this.pathOffset={x:g.left+this.width/2+d/2,y:g.top+this.height/2+d/2}},_calcDimensions:function(){var a=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,g=h(a,"x")||0,l=h(a,"y")||0,d=i(a,"x")||0,m=i(a,"y")||0,b=d-g,_=m-l;return{left:g,top:l,width:b,height:_}},toObject:function(a){return c(this.callSuper("toObject",a),{points:this.points.concat()})},_toSVG:function(){for(var a=[],g=this.pathOffset.x,l=this.pathOffset.y,d=n.Object.NUM_FRACTION_DIGITS,m=0,b=this.points.length;m<b;m++)a.push(o(this.points[m].x-g,d),",",o(this.points[m].y-l,d)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',a.join(""),`" />
`]},commonRender:function(a){var g,l=this.points.length,d=this.pathOffset.x,m=this.pathOffset.y;if(!l||isNaN(this.points[l-1].y))return!1;a.beginPath(),a.moveTo(this.points[0].x-d,this.points[0].y-m);for(var b=0;b<l;b++)g=this.points[b],a.lineTo(g.x-d,g.y-m);return!0},_render:function(a){this.commonRender(a)&&this._renderPaintInOrder(a)},complexity:function(){return this.get("points").length}}),n.Polyline.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat(),n.Polyline.fromElementGenerator=function(a){return function(g,l,d){if(!g)return l(null);d||(d={});var m=n.parsePointsAttribute(g.getAttribute("points")),b=n.parseAttributes(g,n[a].ATTRIBUTE_NAMES);b.fromSVG=!0,l(new n[a](m,c(b,d)))}},n.Polyline.fromElement=n.Polyline.fromElementGenerator("Polyline"),n.Polyline.fromObject=function(a,g){return n.Object._fromObject("Polyline",a,g,"points")}}(t),function(f){var n=f.fabric||(f.fabric={}),c=n.util.projectStrokeOnPoints;if(n.Polygon){n.warn("fabric.Polygon is already defined");return}n.Polygon=n.util.createClass(n.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return c(this.points,this)},_render:function(h){this.commonRender(h)&&(h.closePath(),this._renderPaintInOrder(h))}}),n.Polygon.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat(),n.Polygon.fromElement=n.Polyline.fromElementGenerator("Polygon"),n.Polygon.fromObject=function(h,i){n.Object._fromObject("Polygon",h,i,"points")}}(t),function(f){var n=f.fabric||(f.fabric={}),c=n.util.array.min,h=n.util.array.max,i=n.util.object.extend,o=n.util.object.clone,r=n.util.toFixed;if(n.Path){n.warn("fabric.Path is already defined");return}n.Path=n.util.createClass(n.Object,{type:"path",path:null,cacheProperties:n.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:n.Object.prototype.stateProperties.concat("path"),initialize:function(a,g){g=o(g||{}),delete g.path,this.callSuper("initialize",g),this._setPath(a||[],g)},_setPath:function(a,g){this.path=n.util.makePathSimpler(Array.isArray(a)?a:n.util.parsePath(a)),n.Polyline.prototype._setPositionDimensions.call(this,g||{})},_renderPathCommands:function(a){var g,l=0,d=0,m=0,b=0,_=0,C=0,S=-this.pathOffset.x,w=-this.pathOffset.y;a.beginPath();for(var x=0,F=this.path.length;x<F;++x)switch(g=this.path[x],g[0]){case"L":m=g[1],b=g[2],a.lineTo(m+S,b+w);break;case"M":m=g[1],b=g[2],l=m,d=b,a.moveTo(m+S,b+w);break;case"C":m=g[5],b=g[6],_=g[3],C=g[4],a.bezierCurveTo(g[1]+S,g[2]+w,_+S,C+w,m+S,b+w);break;case"Q":a.quadraticCurveTo(g[1]+S,g[2]+w,g[3]+S,g[4]+w),m=g[3],b=g[4],_=g[1],C=g[2];break;case"z":case"Z":m=l,b=d,a.closePath();break}},_render:function(a){this._renderPathCommands(a),this._renderPaintInOrder(a)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(a){return i(this.callSuper("toObject",a),{path:this.path.map(function(g){return g.slice()})})},toDatalessObject:function(a){var g=this.toObject(["sourcePath"].concat(a));return g.sourcePath&&delete g.path,g},_toSVG:function(){var a=n.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',a,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var a=n.Object.NUM_FRACTION_DIGITS;return" translate("+r(-this.pathOffset.x,a)+", "+r(-this.pathOffset.y,a)+")"},toClipPathSVG:function(a){var g=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:a,additionalTransform:g})},toSVG:function(a){var g=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:a,additionalTransform:g})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var a=[],g=[],l,d=0,m=0,b=0,_=0,C,S=0,w=this.path.length;S<w;++S){switch(l=this.path[S],l[0]){case"L":b=l[1],_=l[2],C=[];break;case"M":b=l[1],_=l[2],d=b,m=_,C=[];break;case"C":C=n.util.getBoundsOfCurve(b,_,l[1],l[2],l[3],l[4],l[5],l[6]),b=l[5],_=l[6];break;case"Q":C=n.util.getBoundsOfCurve(b,_,l[1],l[2],l[1],l[2],l[3],l[4]),b=l[3],_=l[4];break;case"z":case"Z":b=d,_=m;break}C.forEach(function(z){a.push(z.x),g.push(z.y)}),a.push(b),g.push(_)}var x=c(a)||0,F=c(g)||0,V=h(a)||0,L=h(g)||0,D=V-x,G=L-F;return{left:x,top:F,width:D,height:G}}}),n.Path.fromObject=function(a,g){if(typeof a.sourcePath=="string"){var l=a.sourcePath;n.loadSVGFromURL(l,function(d){var m=d[0];m.setOptions(a),a.clipPath?n.util.enlivenObjects([a.clipPath],function(b){m.clipPath=b[0],g&&g(m)}):g&&g(m)})}else n.Object._fromObject("Path",a,g,"path")},n.Path.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat(["d"]),n.Path.fromElement=function(a,g,l){var d=n.parseAttributes(a,n.Path.ATTRIBUTE_NAMES);d.fromSVG=!0,g(new n.Path(d.d,i(d,l)))}}(t),function(f){var n=f.fabric||(f.fabric={}),c=n.util.array.min,h=n.util.array.max;n.Group||(n.Group=n.util.createClass(n.Object,n.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(i,o,r){o=o||{},this._objects=[],r&&this.callSuper("initialize",o),this._objects=i||[];for(var a=this._objects.length;a--;)this._objects[a].group=this;if(r)this._updateObjectsACoords();else{var g=o&&o.centerPoint;o.originX!==void 0&&(this.originX=o.originX),o.originY!==void 0&&(this.originY=o.originY),g||this._calcBounds(),this._updateObjectsCoords(g),delete o.centerPoint,this.callSuper("initialize",o)}this.setCoords()},_updateObjectsACoords:function(){for(var i=!0,o=this._objects.length;o--;)this._objects[o].setCoords(i)},_updateObjectsCoords:function(o){for(var o=o||this.getCenterPoint(),r=this._objects.length;r--;)this._updateObjectCoords(this._objects[r],o)},_updateObjectCoords:function(i,o){var r=i.left,a=i.top,g=!0;i.set({left:r-o.x,top:a-o.y}),i.group=this,i.setCoords(g)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(i){var o=!!this.group;return this._restoreObjectsState(),n.util.resetObjectTransform(this),i&&(o&&n.util.removeTransformFromObject(i,this.group.calcTransformMatrix()),this._objects.push(i),i.group=this,i._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,o?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(i){return this._restoreObjectsState(),n.util.resetObjectTransform(this),this.remove(i),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(i){this.dirty=!0,i.group=this,i._set("canvas",this.canvas)},_onObjectRemoved:function(i){this.dirty=!0,delete i.group},_set:function(i,o){var r=this._objects.length;if(this.useSetOnGroup)for(;r--;)this._objects[r].setOnGroup(i,o);if(i==="canvas")for(;r--;)this._objects[r]._set(i,o);n.Object.prototype._set.call(this,i,o)},toObject:function(i){var o=this.includeDefaultValues,r=this._objects.filter(function(g){return!g.excludeFromExport}).map(function(g){var l=g.includeDefaultValues;g.includeDefaultValues=o;var d=g.toObject(i);return g.includeDefaultValues=l,d}),a=n.Object.prototype.toObject.call(this,i);return a.objects=r,a},toDatalessObject:function(i){var o,r=this.sourcePath;if(r)o=r;else{var a=this.includeDefaultValues;o=this._objects.map(function(l){var d=l.includeDefaultValues;l.includeDefaultValues=a;var m=l.toDatalessObject(i);return l.includeDefaultValues=d,m})}var g=n.Object.prototype.toDatalessObject.call(this,i);return g.objects=o,g},render:function(i){this._transformDone=!0,this.callSuper("render",i),this._transformDone=!1},shouldCache:function(){var i=n.Object.prototype.shouldCache.call(this);if(i){for(var o=0,r=this._objects.length;o<r;o++)if(this._objects[o].willDrawShadow())return this.ownCaching=!1,!1}return i},willDrawShadow:function(){if(n.Object.prototype.willDrawShadow.call(this))return!0;for(var i=0,o=this._objects.length;i<o;i++)if(this._objects[i].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(i){for(var o=0,r=this._objects.length;o<r;o++)this._objects[o].render(i);this._drawClipPath(i,this.clipPath)},isCacheDirty:function(i){if(this.callSuper("isCacheDirty",i))return!0;if(!this.statefullCache)return!1;for(var o=0,r=this._objects.length;o<r;o++)if(this._objects[o].isCacheDirty(!0)){if(this._cacheCanvas){var a=this.cacheWidth/this.zoomX,g=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-a/2,-g/2,a,g)}return!0}return!1},_restoreObjectsState:function(){var i=this.calcOwnMatrix();return this._objects.forEach(function(o){n.util.addTransformToObject(o,i),delete o.group,o.setCoords()}),this},destroy:function(){return this._objects.forEach(function(i){i.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(i){i.dispose&&i.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var i=this._objects,o=this.canvas;this._objects=[];var r=this.toObject();delete r.objects;var a=new n.ActiveSelection([]);return a.set(r),a.type="activeSelection",o.remove(this),i.forEach(function(g){g.group=a,g.dirty=!0,o.add(g)}),a.canvas=o,a._objects=i,o._activeObject=a,a.setCoords(),a}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var i=!0;return this.forEachObject(function(o){o.setCoords(i)}),this},_calcBounds:function(i){for(var o=[],r=[],a,g,l,d=["tr","br","bl","tl"],m=0,b=this._objects.length,_,C=d.length;m<b;++m){for(a=this._objects[m],l=a.calcACoords(),_=0;_<C;_++)g=d[_],o.push(l[g].x),r.push(l[g].y);a.aCoords=l}this._getBounds(o,r,i)},_getBounds:function(i,o,r){var a=new n.Point(c(i),c(o)),g=new n.Point(h(i),h(o)),l=a.y||0,d=a.x||0,m=g.x-a.x||0,b=g.y-a.y||0;this.width=m,this.height=b,r||this.setPositionByOrigin({x:d,y:l},"left","top")},_toSVG:function(i){for(var o=["<g ","COMMON_PARTS",` >
`],r=0,a=this._objects.length;r<a;r++)o.push("		",this._objects[r].toSVG(i));return o.push(`</g>
`),o},getSvgStyles:function(){var i=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",o=this.visible?"":" visibility: hidden;";return[i,this.getSvgFilter(),o].join("")},toClipPathSVG:function(i){for(var o=[],r=0,a=this._objects.length;r<a;r++)o.push("	",this._objects[r].toClipPathSVG(i));return this._createBaseClipPathSVGMarkup(o,{reviver:i})}}),n.Group.fromObject=function(i,o){var r=i.objects,a=n.util.object.clone(i,!0);if(delete a.objects,typeof r=="string"){n.loadSVGFromURL(r,function(g){var l=n.util.groupSVGElements(g,i,r),d=a.clipPath;delete a.clipPath,l.set(a),d?n.util.enlivenObjects([d],function(m){l.clipPath=m[0],o&&o(l)}):o&&o(l)});return}n.util.enlivenObjects(r,function(g){n.util.enlivenObjectEnlivables(i,a,function(){o&&o(new n.Group(g,a,!0))})})})}(t),function(f){var n=f.fabric||(f.fabric={});n.ActiveSelection||(n.ActiveSelection=n.util.createClass(n.Group,{type:"activeSelection",initialize:function(c,h){h=h||{},this._objects=c||[];for(var i=this._objects.length;i--;)this._objects[i].group=this;h.originX&&(this.originX=h.originX),h.originY&&(this.originY=h.originY),this._calcBounds(),this._updateObjectsCoords(),n.Object.prototype.initialize.call(this,h),this.setCoords()},toGroup:function(){var c=this._objects.concat();this._objects=[];var h=n.Object.prototype.toObject.call(this),i=new n.Group([]);if(delete h.type,i.set(h),c.forEach(function(r){r.canvas.remove(r),r.group=i}),i._objects=c,!this.canvas)return i;var o=this.canvas;return o.add(i),o._activeObject=i,i.setCoords(),i},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(c,h,i){c.save(),c.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",c,h),i=i||{},typeof i.hasControls>"u"&&(i.hasControls=!1),i.forActiveSelection=!0;for(var o=0,r=this._objects.length;o<r;o++)this._objects[o]._renderControls(c,i);c.restore()}}),n.ActiveSelection.fromObject=function(c,h){n.util.enlivenObjects(c.objects,function(i){delete c.objects,h&&h(new n.ActiveSelection(i,c,!0))})})}(t),function(f){var n=e.util.object.extend;if(f.fabric||(f.fabric={}),f.fabric.Image){e.warn("fabric.Image is already defined.");return}e.Image=e.util.createClass(e.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:e.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:e.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(c,h){h||(h={}),this.filters=[],this.cacheKey="texture"+e.Object.__uid++,this.callSuper("initialize",h),this._initElement(c,h)},getElement:function(){return this._element||{}},setElement:function(c,h){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=c,this._originalElement=c,this._initConfig(h),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(c){var h=e.filterBackend;h&&h.evictCachesForKey&&h.evictCachesForKey(c)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(c){e.util.cleanUpJsdomNode(this[c]),this[c]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var c=this.getElement();return{width:c.naturalWidth||c.width,height:c.naturalHeight||c.height}},_stroke:function(c){if(!(!this.stroke||this.strokeWidth===0)){var h=this.width/2,i=this.height/2;c.beginPath(),c.moveTo(-h,-i),c.lineTo(h,-i),c.lineTo(h,i),c.lineTo(-h,i),c.lineTo(-h,-i),c.closePath()}},toObject:function(c){var h=[];this.filters.forEach(function(o){o&&h.push(o.toObject())});var i=n(this.callSuper("toObject",["cropX","cropY"].concat(c)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:h});return this.resizeFilter&&(i.resizeFilter=this.resizeFilter.toObject()),i},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var c=[],h=[],i,o=this._element,r=-this.width/2,a=-this.height/2,g="",l="";if(!o)return[];if(this.hasCrop()){var d=e.Object.__uid++;c.push('<clipPath id="imageCrop_'+d+`">
`,'	<rect x="'+r+'" y="'+a+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),g=' clip-path="url(#imageCrop_'+d+')" '}if(this.imageSmoothing||(l='" image-rendering="optimizeSpeed'),h.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',r-this.cropX,'" y="',a-this.cropY,'" width="',o.width||o.naturalWidth,'" height="',o.height||o.height,l,'"',g,`></image>
`),this.stroke||this.strokeDashArray){var m=this.fill;this.fill=null,i=["	<rect ",'x="',r,'" y="',a,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=m}return this.paintFirst!=="fill"?c=c.concat(i,h):c=c.concat(h,i),c},getSrc:function(c){var h=c?this._element:this._originalElement;return h?h.toDataURL?h.toDataURL():this.srcFromAttribute?h.getAttribute("src"):h.src:this.src||""},setSrc:function(c,h,i){return e.util.loadImage(c,function(o,r){this.setElement(o,i),this._setWidthHeight(),h&&h(this,r)},this,i&&i.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var c=this.resizeFilter,h=this.minimumScaleTrigger,i=this.getTotalObjectScaling(),o=i.scaleX,r=i.scaleY,a=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!c||o>h&&r>h){this._element=a,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=o,this._lastScaleY=r;return}e.filterBackend||(e.filterBackend=e.initFilterBackend());var g=e.util.createCanvasElement(),l=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,d=a.width,m=a.height;g.width=d,g.height=m,this._element=g,this._lastScaleX=c.scaleX=o,this._lastScaleY=c.scaleY=r,e.filterBackend.applyFilters([c],a,d,m,this._element,l),this._filterScalingX=g.width/this._originalElement.width,this._filterScalingY=g.height/this._originalElement.height},applyFilters:function(c){if(c=c||this.filters||[],c=c.filter(function(a){return a&&!a.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),c.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var h=this._originalElement,i=h.naturalWidth||h.width,o=h.naturalHeight||h.height;if(this._element===this._originalElement){var r=e.util.createCanvasElement();r.width=i,r.height=o,this._element=r,this._filteredEl=r}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,i,o),this._lastScaleX=1,this._lastScaleY=1;return e.filterBackend||(e.filterBackend=e.initFilterBackend()),e.filterBackend.applyFilters(c,this._originalElement,i,o,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(c){e.util.setImageSmoothing(c,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(c),this._renderPaintInOrder(c)},drawCacheOnCanvas:function(c){e.util.setImageSmoothing(c,this.imageSmoothing),e.Object.prototype.drawCacheOnCanvas.call(this,c)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(c){var h=this._element;if(h){var i=this._filterScalingX,o=this._filterScalingY,r=this.width,a=this.height,g=Math.min,l=Math.max,d=l(this.cropX,0),m=l(this.cropY,0),b=h.naturalWidth||h.width,_=h.naturalHeight||h.height,C=d*i,S=m*o,w=g(r*i,b-C),x=g(a*o,_-S),F=-r/2,V=-a/2,L=g(r,b/i-d),D=g(a,_/o-m);h&&c.drawImage(h,C,S,w,x,F,V,L,D)}},_needsResize:function(){var c=this.getTotalObjectScaling();return c.scaleX!==this._lastScaleX||c.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(c,h){this.setElement(e.util.getById(c),h),e.util.addClass(this.getElement(),e.Image.CSS_CANVAS)},_initConfig:function(c){c||(c={}),this.setOptions(c),this._setWidthHeight(c)},_initFilters:function(c,h){c&&c.length?e.util.enlivenObjects(c,function(i){h&&h(i)},"fabric.Image.filters"):h&&h()},_setWidthHeight:function(c){c||(c={});var h=this.getElement();this.width=c.width||h.naturalWidth||h.width||0,this.height=c.height||h.naturalHeight||h.height||0},parsePreserveAspectRatioAttribute:function(){var c=e.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),h=this._element.width,i=this._element.height,o=1,r=1,a=0,g=0,l=0,d=0,m,b=this.width,_=this.height,C={width:b,height:_};return c&&(c.alignX!=="none"||c.alignY!=="none")?(c.meetOrSlice==="meet"&&(o=r=e.util.findScaleToFit(this._element,C),m=(b-h*o)/2,c.alignX==="Min"&&(a=-m),c.alignX==="Max"&&(a=m),m=(_-i*r)/2,c.alignY==="Min"&&(g=-m),c.alignY==="Max"&&(g=m)),c.meetOrSlice==="slice"&&(o=r=e.util.findScaleToCover(this._element,C),m=h-b/o,c.alignX==="Mid"&&(l=m/2),c.alignX==="Max"&&(l=m),m=i-_/r,c.alignY==="Mid"&&(d=m/2),c.alignY==="Max"&&(d=m),h=b/o,i=_/r)):(o=b/h,r=_/i),{width:h,height:i,scaleX:o,scaleY:r,offsetLeft:a,offsetTop:g,cropX:l,cropY:d}}}),e.Image.CSS_CANVAS="canvas-img",e.Image.prototype.getSvgSrc=e.Image.prototype.getSrc,e.Image.fromObject=function(c,h){var i=e.util.object.clone(c);e.util.loadImage(i.src,function(o,r){if(r){h&&h(null,!0);return}e.Image.prototype._initFilters.call(i,i.filters,function(a){i.filters=a||[],e.Image.prototype._initFilters.call(i,[i.resizeFilter],function(g){i.resizeFilter=g[0],e.util.enlivenObjectEnlivables(i,i,function(){var l=new e.Image(o,i);h(l,!1)})})})},null,i.crossOrigin)},e.Image.fromURL=function(c,h,i){e.util.loadImage(c,function(o,r){h&&h(new e.Image(o,i),r)},null,i&&i.crossOrigin)},e.Image.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),e.Image.fromElement=function(c,h,i){var o=e.parseAttributes(c,e.Image.ATTRIBUTE_NAMES);e.Image.fromURL(o["xlink:href"],h,n(i?e.util.object.clone(i):{},o))}}(t),e.util.object.extend(e.Object.prototype,{_getAngleValueForStraighten:function(){var f=this.angle%360;return f>0?Math.round((f-1)/90)*90:Math.round(f/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(f){f=f||{};var n=function(){},c=f.onComplete||n,h=f.onChange||n,i=this;return e.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(o){i.rotate(o),h()},onComplete:function(){i.setCoords(),c()}})}}),e.util.object.extend(e.StaticCanvas.prototype,{straightenObject:function(f){return f.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(f){return f.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function f(c,h){var i="precision "+h+` float;
void main(){}`,o=c.createShader(c.FRAGMENT_SHADER);return c.shaderSource(o,i),c.compileShader(o),!!c.getShaderParameter(o,c.COMPILE_STATUS)}e.isWebglSupported=function(c){if(e.isLikelyNode)return!1;c=c||e.WebglFilterBackend.prototype.tileSize;var h=document.createElement("canvas"),i=h.getContext("webgl")||h.getContext("experimental-webgl"),o=!1;if(i){e.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),o=e.maxTextureSize>=c;for(var r=["highp","mediump","lowp"],a=0;a<3;a++)if(f(i,r[a])){e.webGlPrecision=r[a];break}}return this.isSupported=o,o},e.WebglFilterBackend=n;function n(c){c&&c.tileSize&&(this.tileSize=c.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}n.prototype={tileSize:2048,resources:{},setupGLContext:function(c,h){this.dispose(),this.createWebGLCanvas(c,h),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(c,h)},chooseFastestCopyGLTo2DMethod:function(c,h){var i=typeof window.performance<"u",o;try{new ImageData(1,1),o=!0}catch{o=!1}var r=typeof ArrayBuffer<"u",a=typeof Uint8ClampedArray<"u";if(i&&o&&r&&a){var g=e.util.createCanvasElement(),l=new ArrayBuffer(c*h*4);if(e.forceGLPutImageData){this.imageBuffer=l,this.copyGLTo2D=y;return}var d={imageBuffer:l,destinationWidth:c,destinationHeight:h,targetCanvas:g},m,b,_;g.width=c,g.height=h,m=window.performance.now(),v.call(d,this.gl,d),b=window.performance.now()-m,m=window.performance.now(),y.call(d,this.gl,d),_=window.performance.now()-m,b>_?(this.imageBuffer=l,this.copyGLTo2D=y):this.copyGLTo2D=v}},createWebGLCanvas:function(c,h){var i=e.util.createCanvasElement();i.width=c,i.height=h;var o={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},r=i.getContext("webgl",o);r||(r=i.getContext("experimental-webgl",o)),r&&(r.clearColor(0,0,0,0),this.canvas=i,this.gl=r)},applyFilters:function(c,h,i,o,r,a){var g=this.gl,l;a&&(l=this.getCachedTexture(a,h));var d={originalWidth:h.width||h.originalWidth,originalHeight:h.height||h.originalHeight,sourceWidth:i,sourceHeight:o,destinationWidth:i,destinationHeight:o,context:g,sourceTexture:this.createTexture(g,i,o,!l&&h),targetTexture:this.createTexture(g,i,o),originalTexture:l||this.createTexture(g,i,o,!l&&h),passes:c.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:r},m=g.createFramebuffer();return g.bindFramebuffer(g.FRAMEBUFFER,m),c.forEach(function(b){b&&b.applyTo(d)}),p(d),this.copyGLTo2D(g,d),g.bindTexture(g.TEXTURE_2D,null),g.deleteTexture(d.sourceTexture),g.deleteTexture(d.targetTexture),g.deleteFramebuffer(m),r.getContext("2d").setTransform(1,0,0,1,0,0),d},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(c,h,i,o,r){var a=c.createTexture();return c.bindTexture(c.TEXTURE_2D,a),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,r||c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,r||c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),o?c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,o):c.texImage2D(c.TEXTURE_2D,0,c.RGBA,h,i,0,c.RGBA,c.UNSIGNED_BYTE,null),a},getCachedTexture:function(c,h){if(this.textureCache[c])return this.textureCache[c];var i=this.createTexture(this.gl,h.width,h.height,h);return this.textureCache[c]=i,i},evictCachesForKey:function(c){this.textureCache[c]&&(this.gl.deleteTexture(this.textureCache[c]),delete this.textureCache[c])},copyGLTo2D:v,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var c=this.gl,h={renderer:"",vendor:""};if(!c)return h;var i=c.getExtension("WEBGL_debug_renderer_info");if(i){var o=c.getParameter(i.UNMASKED_RENDERER_WEBGL),r=c.getParameter(i.UNMASKED_VENDOR_WEBGL);o&&(h.renderer=o.toLowerCase()),r&&(h.vendor=r.toLowerCase())}return this.gpuInfo=h,h}}}();function p(f){var n=f.targetCanvas,c=n.width,h=n.height,i=f.destinationWidth,o=f.destinationHeight;(c!==i||h!==o)&&(n.width=i,n.height=o)}function v(f,n){var c=f.canvas,h=n.targetCanvas,i=h.getContext("2d");i.translate(0,h.height),i.scale(1,-1);var o=c.height-h.height;i.drawImage(c,0,o,h.width,h.height,0,0,h.width,h.height)}function y(f,n){var c=n.targetCanvas,h=c.getContext("2d"),i=n.destinationWidth,o=n.destinationHeight,r=i*o*4,a=new Uint8Array(this.imageBuffer,0,r),g=new Uint8ClampedArray(this.imageBuffer,0,r);f.readPixels(0,0,i,o,f.RGBA,f.UNSIGNED_BYTE,a);var l=new ImageData(g,i,o);h.putImageData(l,0,0)}(function(){var f=function(){};e.Canvas2dFilterBackend=n;function n(){}n.prototype={evictCachesForKey:f,dispose:f,clearWebGLCaches:f,resources:{},applyFilters:function(c,h,i,o,r){var a=r.getContext("2d");a.drawImage(h,0,0,i,o);var g=a.getImageData(0,0,i,o),l=a.getImageData(0,0,i,o),d={sourceWidth:i,sourceHeight:o,imageData:g,originalEl:h,originalImageData:l,canvasEl:r,ctx:a,filterBackend:this};return c.forEach(function(m){m.applyTo(d)}),(d.imageData.width!==i||d.imageData.height!==o)&&(r.width=d.imageData.width,r.height=d.imageData.height),a.putImageData(d.imageData,0,0),d}}})(),e.Image=e.Image||{},e.Image.filters=e.Image.filters||{},e.Image.filters.BaseFilter=e.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(f){f&&this.setOptions(f)},setOptions:function(f){for(var n in f)this[n]=f[n]},createProgram:function(f,n,c){n=n||this.fragmentSource,c=c||this.vertexSource,e.webGlPrecision!=="highp"&&(n=n.replace(/precision highp float/g,"precision "+e.webGlPrecision+" float"));var h=f.createShader(f.VERTEX_SHADER);if(f.shaderSource(h,c),f.compileShader(h),!f.getShaderParameter(h,f.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+f.getShaderInfoLog(h));var i=f.createShader(f.FRAGMENT_SHADER);if(f.shaderSource(i,n),f.compileShader(i),!f.getShaderParameter(i,f.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+f.getShaderInfoLog(i));var o=f.createProgram();if(f.attachShader(o,h),f.attachShader(o,i),f.linkProgram(o),!f.getProgramParameter(o,f.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+f.getProgramInfoLog(o));var r=this.getAttributeLocations(f,o),a=this.getUniformLocations(f,o)||{};return a.uStepW=f.getUniformLocation(o,"uStepW"),a.uStepH=f.getUniformLocation(o,"uStepH"),{program:o,attributeLocations:r,uniformLocations:a}},getAttributeLocations:function(f,n){return{aPosition:f.getAttribLocation(n,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(f,n,c){var h=n.aPosition,i=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,i),f.enableVertexAttribArray(h),f.vertexAttribPointer(h,2,f.FLOAT,!1,0,0),f.bufferData(f.ARRAY_BUFFER,c,f.STATIC_DRAW)},_setupFrameBuffer:function(f){var n=f.context,c,h;f.passes>1?(c=f.destinationWidth,h=f.destinationHeight,(f.sourceWidth!==c||f.sourceHeight!==h)&&(n.deleteTexture(f.targetTexture),f.targetTexture=f.filterBackend.createTexture(n,c,h)),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,f.targetTexture,0)):(n.bindFramebuffer(n.FRAMEBUFFER,null),n.finish())},_swapTextures:function(f){f.passes--,f.pass++;var n=f.targetTexture;f.targetTexture=f.sourceTexture,f.sourceTexture=n},isNeutralState:function(){var f=this.mainParameter,n=e.Image.filters[this.type].prototype;if(f)if(Array.isArray(n[f])){for(var c=n[f].length;c--;)if(this[f][c]!==n[f][c])return!1;return!0}else return n[f]===this[f];else return!1},applyTo:function(f){f.webgl?(this._setupFrameBuffer(f),this.applyToWebGL(f),this._swapTextures(f)):this.applyTo2d(f)},retrieveShader:function(f){return f.programCache.hasOwnProperty(this.type)||(f.programCache[this.type]=this.createProgram(f.context)),f.programCache[this.type]},applyToWebGL:function(f){var n=f.context,c=this.retrieveShader(f);f.pass===0&&f.originalTexture?n.bindTexture(n.TEXTURE_2D,f.originalTexture):n.bindTexture(n.TEXTURE_2D,f.sourceTexture),n.useProgram(c.program),this.sendAttributeData(n,c.attributeLocations,f.aPosition),n.uniform1f(c.uniformLocations.uStepW,1/f.sourceWidth),n.uniform1f(c.uniformLocations.uStepH,1/f.sourceHeight),this.sendUniformData(n,c.uniformLocations),n.viewport(0,0,f.destinationWidth,f.destinationHeight),n.drawArrays(n.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(f,n,c){f.activeTexture(c),f.bindTexture(f.TEXTURE_2D,n),f.activeTexture(f.TEXTURE0)},unbindAdditionalTexture:function(f,n){f.activeTexture(n),f.bindTexture(f.TEXTURE_2D,null),f.activeTexture(f.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(f){this[this.mainParameter]=f},sendUniformData:function(){},createHelpLayer:function(f){if(!f.helpLayer){var n=document.createElement("canvas");n.width=f.sourceWidth,n.height=f.sourceHeight,f.helpLayer=n}},toObject:function(){var f={type:this.type},n=this.mainParameter;return n&&(f[n]=this[n]),f},toJSON:function(){return this.toObject()}}),e.Image.filters.BaseFilter.fromObject=function(f,n){var c=new e.Image.filters[f.type](f);return n&&n(c),c},function(f){var n=f.fabric||(f.fabric={}),c=n.Image.filters,h=n.util.createClass;c.ColorMatrix=h(c.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(i){this.callSuper("initialize",i),this.matrix=this.matrix.slice(0)},applyTo2d:function(i){var o=i.imageData,r=o.data,a=r.length,g=this.matrix,l,d,m,b,_,C=this.colorsOnly;for(_=0;_<a;_+=4)l=r[_],d=r[_+1],m=r[_+2],C?(r[_]=l*g[0]+d*g[1]+m*g[2]+g[4]*255,r[_+1]=l*g[5]+d*g[6]+m*g[7]+g[9]*255,r[_+2]=l*g[10]+d*g[11]+m*g[12]+g[14]*255):(b=r[_+3],r[_]=l*g[0]+d*g[1]+m*g[2]+b*g[3]+g[4]*255,r[_+1]=l*g[5]+d*g[6]+m*g[7]+b*g[8]+g[9]*255,r[_+2]=l*g[10]+d*g[11]+m*g[12]+b*g[13]+g[14]*255,r[_+3]=l*g[15]+d*g[16]+m*g[17]+b*g[18]+g[19]*255)},getUniformLocations:function(i,o){return{uColorMatrix:i.getUniformLocation(o,"uColorMatrix"),uConstants:i.getUniformLocation(o,"uConstants")}},sendUniformData:function(i,o){var r=this.matrix,a=[r[0],r[1],r[2],r[3],r[5],r[6],r[7],r[8],r[10],r[11],r[12],r[13],r[15],r[16],r[17],r[18]],g=[r[4],r[9],r[14],r[19]];i.uniformMatrix4fv(o.uColorMatrix,!1,a),i.uniform4fv(o.uConstants,g)}}),n.Image.filters.ColorMatrix.fromObject=n.Image.filters.BaseFilter.fromObject}(t),function(f){var n=f.fabric||(f.fabric={}),c=n.Image.filters,h=n.util.createClass;c.Brightness=h(c.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(i){if(this.brightness!==0){var o=i.imageData,r=o.data,a,g=r.length,l=Math.round(this.brightness*255);for(a=0;a<g;a+=4)r[a]=r[a]+l,r[a+1]=r[a+1]+l,r[a+2]=r[a+2]+l}},getUniformLocations:function(i,o){return{uBrightness:i.getUniformLocation(o,"uBrightness")}},sendUniformData:function(i,o){i.uniform1f(o.uBrightness,this.brightness)}}),n.Image.filters.Brightness.fromObject=n.Image.filters.BaseFilter.fromObject}(t),function(f){var n=f.fabric||(f.fabric={}),c=n.util.object.extend,h=n.Image.filters,i=n.util.createClass;h.Convolute=i(h.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(o){var r=Math.sqrt(this.matrix.length),a=this.type+"_"+r+"_"+(this.opaque?1:0),g=this.fragmentSource[a];return o.programCache.hasOwnProperty(a)||(o.programCache[a]=this.createProgram(o.context,g)),o.programCache[a]},applyTo2d:function(o){var r=o.imageData,a=r.data,g=this.matrix,l=Math.round(Math.sqrt(g.length)),d=Math.floor(l/2),m=r.width,b=r.height,_=o.ctx.createImageData(m,b),C=_.data,S=this.opaque?1:0,w,x,F,V,L,D,G,z,Z,te,se,oe,P;for(se=0;se<b;se++)for(te=0;te<m;te++){for(L=(se*m+te)*4,w=0,x=0,F=0,V=0,P=0;P<l;P++)for(oe=0;oe<l;oe++)G=se+P-d,D=te+oe-d,!(G<0||G>=b||D<0||D>=m)&&(z=(G*m+D)*4,Z=g[P*l+oe],w+=a[z]*Z,x+=a[z+1]*Z,F+=a[z+2]*Z,S||(V+=a[z+3]*Z));C[L]=w,C[L+1]=x,C[L+2]=F,S?C[L+3]=a[L+3]:C[L+3]=V}o.imageData=_},getUniformLocations:function(o,r){return{uMatrix:o.getUniformLocation(r,"uMatrix"),uOpaque:o.getUniformLocation(r,"uOpaque"),uHalfSize:o.getUniformLocation(r,"uHalfSize"),uSize:o.getUniformLocation(r,"uSize")}},sendUniformData:function(o,r){o.uniform1fv(r.uMatrix,this.matrix)},toObject:function(){return c(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),n.Image.filters.Convolute.fromObject=n.Image.filters.BaseFilter.fromObject}(t),function(f){var n=f.fabric||(f.fabric={}),c=n.Image.filters,h=n.util.createClass;c.Grayscale=h(c.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(i){var o=i.imageData,r=o.data,a,g=r.length,l,d=this.mode;for(a=0;a<g;a+=4)d==="average"?l=(r[a]+r[a+1]+r[a+2])/3:d==="lightness"?l=(Math.min(r[a],r[a+1],r[a+2])+Math.max(r[a],r[a+1],r[a+2]))/2:d==="luminosity"&&(l=.21*r[a]+.72*r[a+1]+.07*r[a+2]),r[a]=l,r[a+1]=l,r[a+2]=l},retrieveShader:function(i){var o=this.type+"_"+this.mode;if(!i.programCache.hasOwnProperty(o)){var r=this.fragmentSource[this.mode];i.programCache[o]=this.createProgram(i.context,r)}return i.programCache[o]},getUniformLocations:function(i,o){return{uMode:i.getUniformLocation(o,"uMode")}},sendUniformData:function(i,o){var r=1;i.uniform1i(o.uMode,r)},isNeutralState:function(){return!1}}),n.Image.filters.Grayscale.fromObject=n.Image.filters.BaseFilter.fromObject}(t),function(f){var n=f.fabric||(f.fabric={}),c=n.Image.filters,h=n.util.createClass;c.Invert=h(c.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(i){var o=i.imageData,r=o.data,a,g=r.length;for(a=0;a<g;a+=4)r[a]=255-r[a],r[a+1]=255-r[a+1],r[a+2]=255-r[a+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(i,o){return{uInvert:i.getUniformLocation(o,"uInvert")}},sendUniformData:function(i,o){i.uniform1i(o.uInvert,this.invert)}}),n.Image.filters.Invert.fromObject=n.Image.filters.BaseFilter.fromObject}(t),function(f){var n=f.fabric||(f.fabric={}),c=n.util.object.extend,h=n.Image.filters,i=n.util.createClass;h.Noise=i(h.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(o){if(this.noise!==0){var r=o.imageData,a=r.data,g,l=a.length,d=this.noise,m;for(g=0,l=a.length;g<l;g+=4)m=(.5-Math.random())*d,a[g]+=m,a[g+1]+=m,a[g+2]+=m}},getUniformLocations:function(o,r){return{uNoise:o.getUniformLocation(r,"uNoise"),uSeed:o.getUniformLocation(r,"uSeed")}},sendUniformData:function(o,r){o.uniform1f(r.uNoise,this.noise/255),o.uniform1f(r.uSeed,Math.random())},toObject:function(){return c(this.callSuper("toObject"),{noise:this.noise})}}),n.Image.filters.Noise.fromObject=n.Image.filters.BaseFilter.fromObject}(t),function(f){var n=f.fabric||(f.fabric={}),c=n.Image.filters,h=n.util.createClass;c.Pixelate=h(c.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(i){var o=i.imageData,r=o.data,a=o.height,g=o.width,l,d,m,b,_,C,S,w,x,F,V;for(d=0;d<a;d+=this.blocksize)for(m=0;m<g;m+=this.blocksize)for(l=d*4*g+m*4,b=r[l],_=r[l+1],C=r[l+2],S=r[l+3],F=Math.min(d+this.blocksize,a),V=Math.min(m+this.blocksize,g),w=d;w<F;w++)for(x=m;x<V;x++)l=w*4*g+x*4,r[l]=b,r[l+1]=_,r[l+2]=C,r[l+3]=S},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(i,o){return{uBlocksize:i.getUniformLocation(o,"uBlocksize"),uStepW:i.getUniformLocation(o,"uStepW"),uStepH:i.getUniformLocation(o,"uStepH")}},sendUniformData:function(i,o){i.uniform1f(o.uBlocksize,this.blocksize)}}),n.Image.filters.Pixelate.fromObject=n.Image.filters.BaseFilter.fromObject}(t),function(f){var n=f.fabric||(f.fabric={}),c=n.util.object.extend,h=n.Image.filters,i=n.util.createClass;h.RemoveColor=i(h.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(o){var r=o.imageData,a=r.data,g,l=this.distance*255,d,m,b,_=new n.Color(this.color).getSource(),C=[_[0]-l,_[1]-l,_[2]-l],S=[_[0]+l,_[1]+l,_[2]+l];for(g=0;g<a.length;g+=4)d=a[g],m=a[g+1],b=a[g+2],d>C[0]&&m>C[1]&&b>C[2]&&d<S[0]&&m<S[1]&&b<S[2]&&(a[g+3]=0)},getUniformLocations:function(o,r){return{uLow:o.getUniformLocation(r,"uLow"),uHigh:o.getUniformLocation(r,"uHigh")}},sendUniformData:function(o,r){var a=new n.Color(this.color).getSource(),g=parseFloat(this.distance),l=[0+a[0]/255-g,0+a[1]/255-g,0+a[2]/255-g,1],d=[a[0]/255+g,a[1]/255+g,a[2]/255+g,1];o.uniform4fv(r.uLow,l),o.uniform4fv(r.uHigh,d)},toObject:function(){return c(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),n.Image.filters.RemoveColor.fromObject=n.Image.filters.BaseFilter.fromObject}(t),function(f){var n=f.fabric||(f.fabric={}),c=n.Image.filters,h=n.util.createClass,i={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var o in i)c[o]=h(c.ColorMatrix,{type:o,matrix:i[o],mainParameter:!1,colorsOnly:!0}),n.Image.filters[o].fromObject=n.Image.filters.BaseFilter.fromObject}(t),function(f){var n=f.fabric,c=n.Image.filters,h=n.util.createClass;c.BlendColor=h(c.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(i){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[i]+`}
}`},retrieveShader:function(i){var o=this.type+"_"+this.mode,r;return i.programCache.hasOwnProperty(o)||(r=this.buildSource(this.mode),i.programCache[o]=this.createProgram(i.context,r)),i.programCache[o]},applyTo2d:function(i){var o=i.imageData,r=o.data,a=r.length,g,l,d,m,b,_,C,S=1-this.alpha;C=new n.Color(this.color).getSource(),g=C[0]*this.alpha,l=C[1]*this.alpha,d=C[2]*this.alpha;for(var w=0;w<a;w+=4)switch(m=r[w],b=r[w+1],_=r[w+2],this.mode){case"multiply":r[w]=m*g/255,r[w+1]=b*l/255,r[w+2]=_*d/255;break;case"screen":r[w]=255-(255-m)*(255-g)/255,r[w+1]=255-(255-b)*(255-l)/255,r[w+2]=255-(255-_)*(255-d)/255;break;case"add":r[w]=m+g,r[w+1]=b+l,r[w+2]=_+d;break;case"diff":case"difference":r[w]=Math.abs(m-g),r[w+1]=Math.abs(b-l),r[w+2]=Math.abs(_-d);break;case"subtract":r[w]=m-g,r[w+1]=b-l,r[w+2]=_-d;break;case"darken":r[w]=Math.min(m,g),r[w+1]=Math.min(b,l),r[w+2]=Math.min(_,d);break;case"lighten":r[w]=Math.max(m,g),r[w+1]=Math.max(b,l),r[w+2]=Math.max(_,d);break;case"overlay":r[w]=g<128?2*m*g/255:255-2*(255-m)*(255-g)/255,r[w+1]=l<128?2*b*l/255:255-2*(255-b)*(255-l)/255,r[w+2]=d<128?2*_*d/255:255-2*(255-_)*(255-d)/255;break;case"exclusion":r[w]=g+m-2*g*m/255,r[w+1]=l+b-2*l*b/255,r[w+2]=d+_-2*d*_/255;break;case"tint":r[w]=g+m*S,r[w+1]=l+b*S,r[w+2]=d+_*S}},getUniformLocations:function(i,o){return{uColor:i.getUniformLocation(o,"uColor")}},sendUniformData:function(i,o){var r=new n.Color(this.color).getSource();r[0]=this.alpha*r[0]/255,r[1]=this.alpha*r[1]/255,r[2]=this.alpha*r[2]/255,r[3]=this.alpha,i.uniform4fv(o.uColor,r)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),n.Image.filters.BlendColor.fromObject=n.Image.filters.BaseFilter.fromObject}(t),function(f){var n=f.fabric,c=n.Image.filters,h=n.util.createClass;c.BlendImage=h(c.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(i){var o=this.type+"_"+this.mode,r=this.fragmentSource[this.mode];return i.programCache.hasOwnProperty(o)||(i.programCache[o]=this.createProgram(i.context,r)),i.programCache[o]},applyToWebGL:function(i){var o=i.context,r=this.createTexture(i.filterBackend,this.image);this.bindAdditionalTexture(o,r,o.TEXTURE1),this.callSuper("applyToWebGL",i),this.unbindAdditionalTexture(o,o.TEXTURE1)},createTexture:function(i,o){return i.getCachedTexture(o.cacheKey,o._element)},calculateMatrix:function(){var i=this.image,o=i._element.width,r=i._element.height;return[1/i.scaleX,0,0,0,1/i.scaleY,0,-i.left/o,-i.top/r,1]},applyTo2d:function(i){var o=i.imageData,r=i.filterBackend.resources,a=o.data,g=a.length,l=o.width,d=o.height,m,b,_,C,S,w,x,F,V,L,D=this.image,G;r.blendImage||(r.blendImage=n.util.createCanvasElement()),V=r.blendImage,L=V.getContext("2d"),V.width!==l||V.height!==d?(V.width=l,V.height=d):L.clearRect(0,0,l,d),L.setTransform(D.scaleX,0,0,D.scaleY,D.left,D.top),L.drawImage(D._element,0,0,l,d),G=L.getImageData(0,0,l,d).data;for(var z=0;z<g;z+=4)switch(S=a[z],w=a[z+1],x=a[z+2],F=a[z+3],m=G[z],b=G[z+1],_=G[z+2],C=G[z+3],this.mode){case"multiply":a[z]=S*m/255,a[z+1]=w*b/255,a[z+2]=x*_/255,a[z+3]=F*C/255;break;case"mask":a[z+3]=C;break}},getUniformLocations:function(i,o){return{uTransformMatrix:i.getUniformLocation(o,"uTransformMatrix"),uImage:i.getUniformLocation(o,"uImage")}},sendUniformData:function(i,o){var r=this.calculateMatrix();i.uniform1i(o.uImage,1),i.uniformMatrix3fv(o.uTransformMatrix,!1,r)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),n.Image.filters.BlendImage.fromObject=function(i,o){n.Image.fromObject(i.image,function(r){var a=n.util.object.clone(i);a.image=r,o(new n.Image.filters.BlendImage(a))})}}(t),function(f){var n=f.fabric||(f.fabric={}),c=Math.pow,h=Math.floor,i=Math.sqrt,o=Math.abs,r=Math.round,a=Math.sin,g=Math.ceil,l=n.Image.filters,d=n.util.createClass;l.Resize=d(l.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(m,b){return{uDelta:m.getUniformLocation(b,"uDelta"),uTaps:m.getUniformLocation(b,"uTaps")}},sendUniformData:function(m,b){m.uniform2fv(b.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),m.uniform1fv(b.uTaps,this.taps)},retrieveShader:function(m){var b=this.getFilterWindow(),_=this.type+"_"+b;if(!m.programCache.hasOwnProperty(_)){var C=this.generateShader(b);m.programCache[_]=this.createProgram(m.context,C)}return m.programCache[_]},getFilterWindow:function(){var m=this.tempScale;return Math.ceil(this.lanczosLobes/m)},getTaps:function(){for(var m=this.lanczosCreate(this.lanczosLobes),b=this.tempScale,_=this.getFilterWindow(),C=new Array(_),S=1;S<=_;S++)C[S-1]=m(S*b);return C},generateShader:function(C){for(var b=new Array(C),_=this.fragmentSourceTOP,C,S=1;S<=C;S++)b[S-1]=S+".0 * uDelta";return _+="uniform float uTaps["+C+`];
`,_+=`void main() {
`,_+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,_+=`  float sum = 1.0;
`,b.forEach(function(w,x){_+="  color += texture2D(uTexture, vTexCoord + "+w+") * uTaps["+x+`];
`,_+="  color += texture2D(uTexture, vTexCoord - "+w+") * uTaps["+x+`];
`,_+="  sum += 2.0 * uTaps["+x+`];
`}),_+=`  gl_FragColor = color / sum;
`,_+="}",_},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(m){m.webgl?(m.passes++,this.width=m.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=m.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),m.destinationWidth=this.dW,this._setupFrameBuffer(m),this.applyToWebGL(m),this._swapTextures(m),m.sourceWidth=m.destinationWidth,this.height=m.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),m.destinationHeight=this.dH,this._setupFrameBuffer(m),this.applyToWebGL(m),this._swapTextures(m),m.sourceHeight=m.destinationHeight):this.applyTo2d(m)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(m){return function(b){if(b>=m||b<=-m)return 0;if(b<11920929e-14&&b>-11920929e-14)return 1;b*=Math.PI;var _=b/m;return a(b)/b*a(_)/_}},applyTo2d:function(m){var b=m.imageData,_=this.scaleX,C=this.scaleY;this.rcpScaleX=1/_,this.rcpScaleY=1/C;var S=b.width,w=b.height,x=r(S*_),F=r(w*C),V;this.resizeType==="sliceHack"?V=this.sliceByTwo(m,S,w,x,F):this.resizeType==="hermite"?V=this.hermiteFastResize(m,S,w,x,F):this.resizeType==="bilinear"?V=this.bilinearFiltering(m,S,w,x,F):this.resizeType==="lanczos"&&(V=this.lanczosResize(m,S,w,x,F)),m.imageData=V},sliceByTwo:function(m,b,_,C,S){var w=m.imageData,x=.5,F=!1,V=!1,L=b*x,D=_*x,G=n.filterBackend.resources,z,Z,te=0,se=0,oe=b,P=0;for(G.sliceByTwo||(G.sliceByTwo=document.createElement("canvas")),z=G.sliceByTwo,(z.width<b*1.5||z.height<_)&&(z.width=b*1.5,z.height=_),Z=z.getContext("2d"),Z.clearRect(0,0,b*1.5,_),Z.putImageData(w,0,0),C=h(C),S=h(S);!F||!V;)b=L,_=D,C<h(L*x)?L=h(L*x):(L=C,F=!0),S<h(D*x)?D=h(D*x):(D=S,V=!0),Z.drawImage(z,te,se,b,_,oe,P,L,D),te=oe,se=P,P+=D;return Z.getImageData(te,se,C,S)},lanczosResize:function(m,b,_,C,S){function w(j){var A,X,M,E,I,Y,K,N,J,ee,k;for(P.x=(j+.5)*D,H.x=h(P.x),A=0;A<S;A++){for(P.y=(A+.5)*G,H.y=h(P.y),I=0,Y=0,K=0,N=0,J=0,X=H.x-te;X<=H.x+te;X++)if(!(X<0||X>=b)){ee=h(1e3*o(X-P.x)),oe[ee]||(oe[ee]={});for(var O=H.y-se;O<=H.y+se;O++)O<0||O>=_||(k=h(1e3*o(O-P.y)),oe[ee][k]||(oe[ee][k]=L(i(c(ee*z,2)+c(k*Z,2))/1e3)),M=oe[ee][k],M>0&&(E=(O*b+X)*4,I+=M,Y+=M*x[E],K+=M*x[E+1],N+=M*x[E+2],J+=M*x[E+3]))}E=(A*C+j)*4,V[E]=Y/I,V[E+1]=K/I,V[E+2]=N/I,V[E+3]=J/I}return++j<C?w(j):F}var x=m.imageData.data,F=m.ctx.createImageData(C,S),V=F.data,L=this.lanczosCreate(this.lanczosLobes),D=this.rcpScaleX,G=this.rcpScaleY,z=2/this.rcpScaleX,Z=2/this.rcpScaleY,te=g(D*this.lanczosLobes/2),se=g(G*this.lanczosLobes/2),oe={},P={},H={};return w(0)},bilinearFiltering:function(m,b,_,C,S){var w,x,F,V,L,D,G,z,Z,te,se,oe,P=0,H,j=this.rcpScaleX,A=this.rcpScaleY,X=4*(b-1),M=m.imageData,E=M.data,I=m.ctx.createImageData(C,S),Y=I.data;for(G=0;G<S;G++)for(z=0;z<C;z++)for(L=h(j*z),D=h(A*G),Z=j*z-L,te=A*G-D,H=4*(D*b+L),se=0;se<4;se++)w=E[H+se],x=E[H+4+se],F=E[H+X+se],V=E[H+X+4+se],oe=w*(1-Z)*(1-te)+x*Z*(1-te)+F*te*(1-Z)+V*Z*te,Y[P++]=oe;return I},hermiteFastResize:function(m,b,_,C,S){for(var w=this.rcpScaleX,x=this.rcpScaleY,F=g(w/2),V=g(x/2),L=m.imageData,D=L.data,G=m.ctx.createImageData(C,S),z=G.data,Z=0;Z<S;Z++)for(var te=0;te<C;te++){for(var se=(te+Z*C)*4,oe=0,P=0,H=0,j=0,A=0,X=0,M=0,E=(Z+.5)*x,I=h(Z*x);I<(Z+1)*x;I++)for(var Y=o(E-(I+.5))/V,K=(te+.5)*w,N=Y*Y,J=h(te*w);J<(te+1)*w;J++){var ee=o(K-(J+.5))/F,k=i(N+ee*ee);k>1&&k<-1||(oe=2*k*k*k-3*k*k+1,oe>0&&(ee=4*(J+I*b),M+=oe*D[ee+3],H+=oe,D[ee+3]<255&&(oe=oe*D[ee+3]/250),j+=oe*D[ee],A+=oe*D[ee+1],X+=oe*D[ee+2],P+=oe))}z[se]=j/P,z[se+1]=A/P,z[se+2]=X/P,z[se+3]=M/H}return G},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),n.Image.filters.Resize.fromObject=n.Image.filters.BaseFilter.fromObject}(t),function(f){var n=f.fabric||(f.fabric={}),c=n.Image.filters,h=n.util.createClass;c.Contrast=h(c.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(i){if(this.contrast!==0){var o=i.imageData,r,g,a=o.data,g=a.length,l=Math.floor(this.contrast*255),d=259*(l+255)/(255*(259-l));for(r=0;r<g;r+=4)a[r]=d*(a[r]-128)+128,a[r+1]=d*(a[r+1]-128)+128,a[r+2]=d*(a[r+2]-128)+128}},getUniformLocations:function(i,o){return{uContrast:i.getUniformLocation(o,"uContrast")}},sendUniformData:function(i,o){i.uniform1f(o.uContrast,this.contrast)}}),n.Image.filters.Contrast.fromObject=n.Image.filters.BaseFilter.fromObject}(t),function(f){var n=f.fabric||(f.fabric={}),c=n.Image.filters,h=n.util.createClass;c.Saturation=h(c.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(i){if(this.saturation!==0){var o=i.imageData,r=o.data,a=r.length,g=-this.saturation,l,d;for(l=0;l<a;l+=4)d=Math.max(r[l],r[l+1],r[l+2]),r[l]+=d!==r[l]?(d-r[l])*g:0,r[l+1]+=d!==r[l+1]?(d-r[l+1])*g:0,r[l+2]+=d!==r[l+2]?(d-r[l+2])*g:0}},getUniformLocations:function(i,o){return{uSaturation:i.getUniformLocation(o,"uSaturation")}},sendUniformData:function(i,o){i.uniform1f(o.uSaturation,-this.saturation)}}),n.Image.filters.Saturation.fromObject=n.Image.filters.BaseFilter.fromObject}(t),function(f){var n=f.fabric||(f.fabric={}),c=n.Image.filters,h=n.util.createClass;c.Vibrance=h(c.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(i){if(this.vibrance!==0){var o=i.imageData,r=o.data,a=r.length,g=-this.vibrance,l,d,m,b;for(l=0;l<a;l+=4)d=Math.max(r[l],r[l+1],r[l+2]),m=(r[l]+r[l+1]+r[l+2])/3,b=Math.abs(d-m)*2/255*g,r[l]+=d!==r[l]?(d-r[l])*b:0,r[l+1]+=d!==r[l+1]?(d-r[l+1])*b:0,r[l+2]+=d!==r[l+2]?(d-r[l+2])*b:0}},getUniformLocations:function(i,o){return{uVibrance:i.getUniformLocation(o,"uVibrance")}},sendUniformData:function(i,o){i.uniform1f(o.uVibrance,-this.vibrance)}}),n.Image.filters.Vibrance.fromObject=n.Image.filters.BaseFilter.fromObject}(t),function(f){var n=f.fabric||(f.fabric={}),c=n.Image.filters,h=n.util.createClass;c.Blur=h(c.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(i){i.webgl?(this.aspectRatio=i.sourceWidth/i.sourceHeight,i.passes++,this._setupFrameBuffer(i),this.horizontal=!0,this.applyToWebGL(i),this._swapTextures(i),this._setupFrameBuffer(i),this.horizontal=!1,this.applyToWebGL(i),this._swapTextures(i)):this.applyTo2d(i)},applyTo2d:function(i){i.imageData=this.simpleBlur(i)},simpleBlur:function(i){var o=i.filterBackend.resources,r,a,g=i.imageData.width,l=i.imageData.height;o.blurLayer1||(o.blurLayer1=n.util.createCanvasElement(),o.blurLayer2=n.util.createCanvasElement()),r=o.blurLayer1,a=o.blurLayer2,(r.width!==g||r.height!==l)&&(a.width=r.width=g,a.height=r.height=l);var d=r.getContext("2d"),m=a.getContext("2d"),b=15,_,C,S,w,x=this.blur*.06*.5;for(d.putImageData(i.imageData,0,0),m.clearRect(0,0,g,l),w=-b;w<=b;w++)_=(Math.random()-.5)/4,C=w/b,S=x*C*g+_,m.globalAlpha=1-Math.abs(C),m.drawImage(r,S,_),d.drawImage(a,0,0),m.globalAlpha=1,m.clearRect(0,0,a.width,a.height);for(w=-b;w<=b;w++)_=(Math.random()-.5)/4,C=w/b,S=x*C*l+_,m.globalAlpha=1-Math.abs(C),m.drawImage(r,_,S),d.drawImage(a,0,0),m.globalAlpha=1,m.clearRect(0,0,a.width,a.height);i.ctx.drawImage(r,0,0);var F=i.ctx.getImageData(0,0,r.width,r.height);return d.globalAlpha=1,d.clearRect(0,0,r.width,r.height),F},getUniformLocations:function(i,o){return{delta:i.getUniformLocation(o,"uDelta")}},sendUniformData:function(i,o){var r=this.chooseRightDelta();i.uniform2fv(o.delta,r)},chooseRightDelta:function(){var i=1,o=[0,0],r;return this.horizontal?this.aspectRatio>1&&(i=1/this.aspectRatio):this.aspectRatio<1&&(i=this.aspectRatio),r=i*this.blur*.12,this.horizontal?o[0]=r:o[1]=r,o}}),c.Blur.fromObject=n.Image.filters.BaseFilter.fromObject}(t),function(f){var n=f.fabric||(f.fabric={}),c=n.Image.filters,h=n.util.createClass;c.Gamma=h(c.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(i){this.gamma=[1,1,1],c.BaseFilter.prototype.initialize.call(this,i)},applyTo2d:function(i){var o=i.imageData,r=o.data,a=this.gamma,g=r.length,l=1/a[0],d=1/a[1],m=1/a[2],b;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),b=0,g=256;b<g;b++)this.rVals[b]=Math.pow(b/255,l)*255,this.gVals[b]=Math.pow(b/255,d)*255,this.bVals[b]=Math.pow(b/255,m)*255;for(b=0,g=r.length;b<g;b+=4)r[b]=this.rVals[r[b]],r[b+1]=this.gVals[r[b+1]],r[b+2]=this.bVals[r[b+2]]},getUniformLocations:function(i,o){return{uGamma:i.getUniformLocation(o,"uGamma")}},sendUniformData:function(i,o){i.uniform3fv(o.uGamma,this.gamma)}}),n.Image.filters.Gamma.fromObject=n.Image.filters.BaseFilter.fromObject}(t),function(f){var n=f.fabric||(f.fabric={}),c=n.Image.filters,h=n.util.createClass;c.Composed=h(c.BaseFilter,{type:"Composed",subFilters:[],initialize:function(i){this.callSuper("initialize",i),this.subFilters=this.subFilters.slice(0)},applyTo:function(i){i.passes+=this.subFilters.length-1,this.subFilters.forEach(function(o){o.applyTo(i)})},toObject:function(){return n.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(i){return i.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(i){return!i.isNeutralState()})}}),n.Image.filters.Composed.fromObject=function(i,o){var r=i.subFilters||[],a=r.map(function(l){return new n.Image.filters[l.type](l)}),g=new n.Image.filters.Composed({subFilters:a});return o&&o(g),g}}(t),function(f){var n=f.fabric||(f.fabric={}),c=n.Image.filters,h=n.util.createClass;c.HueRotation=h(c.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var i=this.rotation*Math.PI,o=n.util.cos(i),r=n.util.sin(i),a=1/3,g=Math.sqrt(a)*r,l=1-o;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=o+l/3,this.matrix[1]=a*l-g,this.matrix[2]=a*l+g,this.matrix[5]=a*l+g,this.matrix[6]=o+a*l,this.matrix[7]=a*l-g,this.matrix[10]=a*l-g,this.matrix[11]=a*l+g,this.matrix[12]=o+a*l},isNeutralState:function(i){return this.calculateMatrix(),c.BaseFilter.prototype.isNeutralState.call(this,i)},applyTo:function(i){this.calculateMatrix(),c.BaseFilter.prototype.applyTo.call(this,i)}}),n.Image.filters.HueRotation.fromObject=n.Image.filters.BaseFilter.fromObject}(t),function(f){var n=f.fabric||(f.fabric={}),c=n.util.object.clone;if(n.Text){n.warn("fabric.Text is already defined");return}var h="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");n.Text=n.util.createClass(n.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:n.Object.prototype.stateProperties.concat(h),cacheProperties:n.Object.prototype.cacheProperties.concat(h),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(i,o){this.styles=o?o.styles||{}:{},this.text=i,this.__skipDimension=!0,this.callSuper("initialize",o),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var i=this.path;i&&(i.segmentsInfo=n.util.getPathSegmentsInfo(i.path))},getMeasuringContext:function(){return n._measuringContext||(n._measuringContext=this.canvas&&this.canvas.contextCache||n.util.createCanvasElement().getContext("2d")),n._measuringContext},_splitText:function(){var i=this._splitTextIntoLines(this.text);return this.textLines=i.lines,this._textLines=i.graphemeLines,this._unwrappedTextLines=i._unwrappedLines,this._text=i.graphemeText,i},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var i,o,r,a,g,l,d,m=0,b=this._textLines.length;m<b;m++)if(!(this.textAlign!=="justify"&&(m===b-1||this.isEndOfWrapping(m)))&&(a=0,g=this._textLines[m],o=this.getLineWidth(m),o<this.width&&(d=this.textLines[m].match(this._reSpacesAndTabs)))){r=d.length,i=(this.width-o)/r;for(var _=0,C=g.length;_<=C;_++)l=this.__charBounds[m][_],this._reSpaceAndTab.test(g[_])?(l.width+=i,l.kernedWidth+=i,l.left+=a,a+=i):l.left+=a}},isEndOfWrapping:function(i){return i===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var i=this.callSuper("_getCacheCanvasDimensions"),o=this.fontSize;return i.width+=o*i.zoomX,i.height+=o*i.zoomY,i},_render:function(i){var o=this.path;o&&!o.isNotVisible()&&o._render(i),this._setTextStyles(i),this._renderTextLinesBackground(i),this._renderTextDecoration(i,"underline"),this._renderText(i),this._renderTextDecoration(i,"overline"),this._renderTextDecoration(i,"linethrough")},_renderText:function(i){this.paintFirst==="stroke"?(this._renderTextStroke(i),this._renderTextFill(i)):(this._renderTextFill(i),this._renderTextStroke(i))},_setTextStyles:function(i,o,r){if(i.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":i.textBaseline="middle";break;case"ascender":i.textBaseline="top";break;case"descender":i.textBaseline="bottom";break}i.font=this._getFontDeclaration(o,r)},calcTextWidth:function(){for(var i=this.getLineWidth(0),o=1,r=this._textLines.length;o<r;o++){var a=this.getLineWidth(o);a>i&&(i=a)}return i},_renderTextLine:function(i,o,r,a,g,l){this._renderChars(i,o,r,a,g,l)},_renderTextLinesBackground:function(i){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var o,r,a=i.fillStyle,g,l,d=this._getLeftOffset(),m=this._getTopOffset(),b=0,_=0,C,S,w=this.path,x,F=0,V=this._textLines.length;F<V;F++){if(o=this.getHeightOfLine(F),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",F)){m+=o;continue}g=this._textLines[F],r=this._getLineLeftOffset(F),_=0,b=0,l=this.getValueOfPropertyAt(F,0,"textBackgroundColor");for(var L=0,D=g.length;L<D;L++)C=this.__charBounds[F][L],S=this.getValueOfPropertyAt(F,L,"textBackgroundColor"),w?(i.save(),i.translate(C.renderLeft,C.renderTop),i.rotate(C.angle),i.fillStyle=S,S&&i.fillRect(-C.width/2,-o/this.lineHeight*(1-this._fontSizeFraction),C.width,o/this.lineHeight),i.restore()):S!==l?(x=d+r+b,this.direction==="rtl"&&(x=this.width-x-_),i.fillStyle=l,l&&i.fillRect(x,m,_,o/this.lineHeight),b=C.left,_=C.width,l=S):_+=C.kernedWidth;S&&!w&&(x=d+r+b,this.direction==="rtl"&&(x=this.width-x-_),i.fillStyle=S,i.fillRect(x,m,_,o/this.lineHeight)),m+=o}i.fillStyle=a,this._removeShadow(i)}},getFontCache:function(i){var o=i.fontFamily.toLowerCase();n.charWidthsCache[o]||(n.charWidthsCache[o]={});var r=n.charWidthsCache[o],a=i.fontStyle.toLowerCase()+"_"+(i.fontWeight+"").toLowerCase();return r[a]||(r[a]={}),r[a]},_measureChar:function(i,o,r,a){var g=this.getFontCache(o),l=this._getFontDeclaration(o),d=this._getFontDeclaration(a),m=r+i,b=l===d,_,C,S,w=o.fontSize/this.CACHE_FONT_SIZE,x;if(r&&g[r]!==void 0&&(S=g[r]),g[i]!==void 0&&(x=_=g[i]),b&&g[m]!==void 0&&(C=g[m],x=C-S),_===void 0||S===void 0||C===void 0){var F=this.getMeasuringContext();this._setTextStyles(F,o,!0)}return _===void 0&&(x=_=F.measureText(i).width,g[i]=_),S===void 0&&b&&r&&(S=F.measureText(r).width,g[r]=S),b&&C===void 0&&(C=F.measureText(m).width,g[m]=C,x=C-S),{width:_*w,kernedWidth:x*w}},getHeightOfChar:function(i,o){return this.getValueOfPropertyAt(i,o,"fontSize")},measureLine:function(i){var o=this._measureLine(i);return this.charSpacing!==0&&(o.width-=this._getWidthOfCharSpacing()),o.width<0&&(o.width=0),o},_measureLine:function(i){var o=0,r,a,g=this._textLines[i],l,d,m=0,b=new Array(g.length),_=0,C,S,w=this.path,x=this.pathSide==="right";for(this.__charBounds[i]=b,r=0;r<g.length;r++)a=g[r],d=this._getGraphemeBox(a,i,r,l),b[r]=d,o+=d.kernedWidth,l=a;if(b[r]={left:d?d.left+d.width:0,width:0,kernedWidth:0,height:this.fontSize},w){switch(S=w.segmentsInfo[w.segmentsInfo.length-1].length,C=n.util.getPointOnPath(w.path,0,w.segmentsInfo),C.x+=w.pathOffset.x,C.y+=w.pathOffset.y,this.textAlign){case"left":_=x?S-o:0;break;case"center":_=(S-o)/2;break;case"right":_=x?0:S-o;break}for(_+=this.pathStartOffset*(x?-1:1),r=x?g.length-1:0;x?r>=0:r<g.length;x?r--:r++)d=b[r],_>S?_%=S:_<0&&(_+=S),this._setGraphemeOnPath(_,d,C),_+=d.kernedWidth}return{width:o,numOfSpaces:m}},_setGraphemeOnPath:function(i,o,r){var a=i+o.kernedWidth/2,g=this.path,l=n.util.getPointOnPath(g.path,a,g.segmentsInfo);o.renderLeft=l.x-r.x,o.renderTop=l.y-r.y,o.angle=l.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(i,o,r,a,g){var l=this.getCompleteStyleDeclaration(o,r),d=a?this.getCompleteStyleDeclaration(o,r-1):{},m=this._measureChar(i,l,a,d),b=m.kernedWidth,_=m.width,C;this.charSpacing!==0&&(C=this._getWidthOfCharSpacing(),_+=C,b+=C);var S={width:_,left:0,height:l.fontSize,kernedWidth:b,deltaY:l.deltaY};if(r>0&&!g){var w=this.__charBounds[o][r-1];S.left=w.left+w.width+m.kernedWidth-m.width}return S},getHeightOfLine:function(i){if(this.__lineHeights[i])return this.__lineHeights[i];for(var o=this._textLines[i],r=this.getHeightOfChar(i,0),a=1,g=o.length;a<g;a++)r=Math.max(this.getHeightOfChar(i,a),r);return this.__lineHeights[i]=r*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var i,o=0,r=0,a=this._textLines.length;r<a;r++)i=this.getHeightOfLine(r),o+=r===a-1?i/this.lineHeight:i;return o},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(i,o){i.save();for(var r=0,a=this._getLeftOffset(),g=this._getTopOffset(),l=0,d=this._textLines.length;l<d;l++){var m=this.getHeightOfLine(l),b=m/this.lineHeight,_=this._getLineLeftOffset(l);this._renderTextLine(o,i,this._textLines[l],a+_,g+r+b,l),r+=m}i.restore()},_renderTextFill:function(i){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(i,"fillText")},_renderTextStroke:function(i){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(i),i.save(),this._setLineDash(i,this.strokeDashArray),i.beginPath(),this._renderTextCommon(i,"strokeText"),i.closePath(),i.restore())},_renderChars:function(i,o,r,a,g,l){var d=this.getHeightOfLine(l),m=this.textAlign.indexOf("justify")!==-1,b,_,C="",S,w=0,x,F=this.path,V=!m&&this.charSpacing===0&&this.isEmptyStyles(l)&&!F,L=this.direction==="ltr",D=this.direction==="ltr"?1:-1,G,z=o.canvas.getAttribute("dir");if(o.save(),z!==this.direction&&(o.canvas.setAttribute("dir",L?"ltr":"rtl"),o.direction=L?"ltr":"rtl",o.textAlign=L?"left":"right"),g-=d*this._fontSizeFraction/this.lineHeight,V){this._renderChar(i,o,l,0,r.join(""),a,g,d),o.restore();return}for(var Z=0,te=r.length-1;Z<=te;Z++)x=Z===te||this.charSpacing||F,C+=r[Z],S=this.__charBounds[l][Z],w===0?(a+=D*(S.kernedWidth-S.width),w+=S.width):w+=S.kernedWidth,m&&!x&&this._reSpaceAndTab.test(r[Z])&&(x=!0),x||(b=b||this.getCompleteStyleDeclaration(l,Z),_=this.getCompleteStyleDeclaration(l,Z+1),x=n.util.hasStyleChanged(b,_,!1)),x&&(F?(o.save(),o.translate(S.renderLeft,S.renderTop),o.rotate(S.angle),this._renderChar(i,o,l,Z,C,-w/2,0,d),o.restore()):(G=a,this._renderChar(i,o,l,Z,C,G,g,d)),C="",b=_,a+=D*w,w=0);o.restore()},_applyPatternGradientTransformText:function(i){var o=n.util.createCanvasElement(),r,a=this.width+this.strokeWidth,g=this.height+this.strokeWidth;return o.width=a,o.height=g,r=o.getContext("2d"),r.beginPath(),r.moveTo(0,0),r.lineTo(a,0),r.lineTo(a,g),r.lineTo(0,g),r.closePath(),r.translate(a/2,g/2),r.fillStyle=i.toLive(r),this._applyPatternGradientTransform(r,i),r.fill(),r.createPattern(o,"no-repeat")},handleFiller:function(i,o,r){var a,g;return r.toLive?r.gradientUnits==="percentage"||r.gradientTransform||r.patternTransform?(a=-this.width/2,g=-this.height/2,i.translate(a,g),i[o]=this._applyPatternGradientTransformText(r),{offsetX:a,offsetY:g}):(i[o]=r.toLive(i,this),this._applyPatternGradientTransform(i,r)):(i[o]=r,{offsetX:0,offsetY:0})},_setStrokeStyles:function(i,o){return i.lineWidth=o.strokeWidth,i.lineCap=this.strokeLineCap,i.lineDashOffset=this.strokeDashOffset,i.lineJoin=this.strokeLineJoin,i.miterLimit=this.strokeMiterLimit,this.handleFiller(i,"strokeStyle",o.stroke)},_setFillStyles:function(i,o){return this.handleFiller(i,"fillStyle",o.fill)},_renderChar:function(i,o,r,a,g,l,d){var m=this._getStyleDeclaration(r,a),b=this.getCompleteStyleDeclaration(r,a),_=i==="fillText"&&b.fill,C=i==="strokeText"&&b.stroke&&b.strokeWidth,S,w;!C&&!_||(o.save(),_&&(S=this._setFillStyles(o,b)),C&&(w=this._setStrokeStyles(o,b)),o.font=this._getFontDeclaration(b),m&&m.textBackgroundColor&&this._removeShadow(o),m&&m.deltaY&&(d+=m.deltaY),_&&o.fillText(g,l-S.offsetX,d-S.offsetY),C&&o.strokeText(g,l-w.offsetX,d-w.offsetY),o.restore())},setSuperscript:function(i,o){return this._setScript(i,o,this.superscript)},setSubscript:function(i,o){return this._setScript(i,o,this.subscript)},_setScript:function(i,o,r){var a=this.get2DCursorLocation(i,!0),g=this.getValueOfPropertyAt(a.lineIndex,a.charIndex,"fontSize"),l=this.getValueOfPropertyAt(a.lineIndex,a.charIndex,"deltaY"),d={fontSize:g*r.size,deltaY:l+g*r.baseline};return this.setSelectionStyles(d,i,o),this},_getLineLeftOffset:function(i){var o=this.getLineWidth(i),r=this.width-o,a=this.textAlign,g=this.direction,d,l=0,d=this.isEndOfWrapping(i);return a==="justify"||a==="justify-center"&&!d||a==="justify-right"&&!d||a==="justify-left"&&!d?0:(a==="center"&&(l=r/2),a==="right"&&(l=r),a==="justify-center"&&(l=r/2),a==="justify-right"&&(l=r),g==="rtl"&&(l-=r),l)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var i=this._forceClearCache;return i||(i=this.hasStateChanged("_dimensionAffectingProps")),i&&(this.dirty=!0,this._forceClearCache=!1),i},getLineWidth:function(i){if(this.__lineWidths[i]!==void 0)return this.__lineWidths[i];var o=this.measureLine(i),r=o.width;return this.__lineWidths[i]=r,r},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(i,o,r){var a=this._getStyleDeclaration(i,o);return a&&typeof a[r]<"u"?a[r]:this[r]},_renderTextDecoration:function(i,o){if(!(!this[o]&&!this.styleHas(o))){for(var r,a,g,l,d,m,b,_,C=this._getLeftOffset(),S=this._getTopOffset(),w,x,F,V,L,D,G,z,Z=this.path,te=this._getWidthOfCharSpacing(),se=this.offsets[o],oe=0,P=this._textLines.length;oe<P;oe++){if(r=this.getHeightOfLine(oe),!this[o]&&!this.styleHas(o,oe)){S+=r;continue}b=this._textLines[oe],D=r/this.lineHeight,l=this._getLineLeftOffset(oe),x=0,F=0,_=this.getValueOfPropertyAt(oe,0,o),z=this.getValueOfPropertyAt(oe,0,"fill"),w=S+D*(1-this._fontSizeFraction),a=this.getHeightOfChar(oe,0),d=this.getValueOfPropertyAt(oe,0,"deltaY");for(var H=0,j=b.length;H<j;H++)if(V=this.__charBounds[oe][H],L=this.getValueOfPropertyAt(oe,H,o),G=this.getValueOfPropertyAt(oe,H,"fill"),g=this.getHeightOfChar(oe,H),m=this.getValueOfPropertyAt(oe,H,"deltaY"),Z&&L&&G)i.save(),i.fillStyle=z,i.translate(V.renderLeft,V.renderTop),i.rotate(V.angle),i.fillRect(-V.kernedWidth/2,se*g+m,V.kernedWidth,this.fontSize/15),i.restore();else if((L!==_||G!==z||g!==a||m!==d)&&F>0){var A=C+l+x;this.direction==="rtl"&&(A=this.width-A-F),_&&z&&(i.fillStyle=z,i.fillRect(A,w+se*a+d,F,this.fontSize/15)),x=V.left,F=V.width,_=L,z=G,a=g,d=m}else F+=V.kernedWidth;var A=C+l+x;this.direction==="rtl"&&(A=this.width-A-F),i.fillStyle=G,L&&G&&i.fillRect(A,w+se*a+d,F-te,this.fontSize/15),S+=r}this._removeShadow(i)}},_getFontDeclaration:function(i,o){var r=i||this,a=this.fontFamily,g=n.Text.genericFonts.indexOf(a.toLowerCase())>-1,l=a===void 0||a.indexOf("'")>-1||a.indexOf(",")>-1||a.indexOf('"')>-1||g?r.fontFamily:'"'+r.fontFamily+'"';return[n.isLikelyNode?r.fontWeight:r.fontStyle,n.isLikelyNode?r.fontStyle:r.fontWeight,o?this.CACHE_FONT_SIZE+"px":r.fontSize+"px",l].join(" ")},render:function(i){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",i)))},_splitTextIntoLines:function(i){for(var o=i.split(this._reNewline),r=new Array(o.length),a=[`
`],g=[],l=0;l<o.length;l++)r[l]=n.util.string.graphemeSplit(o[l]),g=g.concat(r[l],a);return g.pop(),{_unwrappedLines:r,lines:o,graphemeText:g,graphemeLines:r}},toObject:function(i){var o=h.concat(i),r=this.callSuper("toObject",o);return r.styles=n.util.stylesToArray(this.styles,this.text),r.path&&(r.path=this.path.toObject()),r},set:function(i,o){this.callSuper("set",i,o);var r=!1,a=!1;if(typeof i=="object")for(var g in i)g==="path"&&this.setPathInfo(),r=r||this._dimensionAffectingProps.indexOf(g)!==-1,a=a||g==="path";else r=this._dimensionAffectingProps.indexOf(i)!==-1,a=i==="path";return a&&this.setPathInfo(),r&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),n.Text.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),n.Text.DEFAULT_SVG_FONT_SIZE=16,n.Text.fromElement=function(i,o,r){if(!i)return o(null);var a=n.parseAttributes(i,n.Text.ATTRIBUTE_NAMES),g=a.textAnchor||"left";if(r=n.util.object.extend(r?c(r):{},a),r.top=r.top||0,r.left=r.left||0,a.textDecoration){var l=a.textDecoration;l.indexOf("underline")!==-1&&(r.underline=!0),l.indexOf("overline")!==-1&&(r.overline=!0),l.indexOf("line-through")!==-1&&(r.linethrough=!0),delete r.textDecoration}"dx"in a&&(r.left+=a.dx),"dy"in a&&(r.top+=a.dy),"fontSize"in r||(r.fontSize=n.Text.DEFAULT_SVG_FONT_SIZE);var d="";"textContent"in i?d=i.textContent:"firstChild"in i&&i.firstChild!==null&&"data"in i.firstChild&&i.firstChild.data!==null&&(d=i.firstChild.data),d=d.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var m=r.strokeWidth;r.strokeWidth=0;var b=new n.Text(d,r),_=b.getScaledHeight()/b.height,C=(b.height+b.strokeWidth)*b.lineHeight-b.height,S=C*_,w=b.getScaledHeight()+S,x=0;g==="center"&&(x=b.getScaledWidth()/2),g==="right"&&(x=b.getScaledWidth()),b.set({left:b.left-x,top:b.top-(w-b.fontSize*(.07+b._fontSizeFraction))/b.lineHeight,strokeWidth:typeof m<"u"?m:1}),o(b)},n.Text.fromObject=function(i,o){var r=c(i),a=i.path;return delete r.path,n.Object._fromObject("Text",r,function(g){g.styles=n.util.stylesFromArray(i.styles,i.text),a?n.Object._fromObject("Path",a,function(l){g.set("path",l),o(g)},"path"):o(g)},"text")},n.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],n.util.createAccessors&&n.util.createAccessors(n.Text)}(t),function(){e.util.object.extend(e.Text.prototype,{isEmptyStyles:function(f){if(!this.styles||typeof f<"u"&&!this.styles[f])return!0;var n=typeof f>"u"?this.styles:{line:this.styles[f]};for(var c in n)for(var h in n[c])for(var i in n[c][h])return!1;return!0},styleHas:function(f,n){if(!this.styles||!f||f===""||typeof n<"u"&&!this.styles[n])return!1;var c=typeof n>"u"?this.styles:{0:this.styles[n]};for(var h in c)for(var i in c[h])if(typeof c[h][i][f]<"u")return!0;return!1},cleanStyle:function(f){if(!this.styles||!f||f==="")return!1;var n=this.styles,c=0,h,i,o=!0,r=0,a;for(var g in n){h=0;for(var l in n[g]){var a=n[g][l],d=a.hasOwnProperty(f);c++,d?(i?a[f]!==i&&(o=!1):i=a[f],a[f]===this[f]&&delete a[f]):o=!1,Object.keys(a).length!==0?h++:delete n[g][l]}h===0&&delete n[g]}for(var m=0;m<this._textLines.length;m++)r+=this._textLines[m].length;o&&c===r&&(this[f]=i,this.removeStyle(f))},removeStyle:function(f){if(!(!this.styles||!f||f==="")){var n=this.styles,c,h,i;for(h in n){c=n[h];for(i in c)delete c[i][f],Object.keys(c[i]).length===0&&delete c[i];Object.keys(c).length===0&&delete n[h]}}},_extendStyles:function(f,n){var c=this.get2DCursorLocation(f);this._getLineStyle(c.lineIndex)||this._setLineStyle(c.lineIndex),this._getStyleDeclaration(c.lineIndex,c.charIndex)||this._setStyleDeclaration(c.lineIndex,c.charIndex,{}),e.util.object.extend(this._getStyleDeclaration(c.lineIndex,c.charIndex),n)},get2DCursorLocation:function(f,n){typeof f>"u"&&(f=this.selectionStart);for(var c=n?this._unwrappedTextLines:this._textLines,h=c.length,i=0;i<h;i++){if(f<=c[i].length)return{lineIndex:i,charIndex:f};f-=c[i].length+this.missingNewlineOffset(i)}return{lineIndex:i-1,charIndex:c[i-1].length<f?c[i-1].length:f}},getSelectionStyles:function(f,n,c){typeof f>"u"&&(f=this.selectionStart||0),typeof n>"u"&&(n=this.selectionEnd||f);for(var h=[],i=f;i<n;i++)h.push(this.getStyleAtPosition(i,c));return h},getStyleAtPosition:function(f,n){var c=this.get2DCursorLocation(f),h=n?this.getCompleteStyleDeclaration(c.lineIndex,c.charIndex):this._getStyleDeclaration(c.lineIndex,c.charIndex);return h||{}},setSelectionStyles:function(f,n,c){typeof n>"u"&&(n=this.selectionStart||0),typeof c>"u"&&(c=this.selectionEnd||n);for(var h=n;h<c;h++)this._extendStyles(h,f);return this._forceClearCache=!0,this},_getStyleDeclaration:function(f,n){var c=this.styles&&this.styles[f];return c?c[n]:null},getCompleteStyleDeclaration:function(f,n){for(var c=this._getStyleDeclaration(f,n)||{},h={},i,o=0;o<this._styleProperties.length;o++)i=this._styleProperties[o],h[i]=typeof c[i]>"u"?this[i]:c[i];return h},_setStyleDeclaration:function(f,n,c){this.styles[f][n]=c},_deleteStyleDeclaration:function(f,n){delete this.styles[f][n]},_getLineStyle:function(f){return!!this.styles[f]},_setLineStyle:function(f){this.styles[f]={}},_deleteLineStyle:function(f){delete this.styles[f]}})}(),function(){function f(n){n.textDecoration&&(n.textDecoration.indexOf("underline")>-1&&(n.underline=!0),n.textDecoration.indexOf("line-through")>-1&&(n.linethrough=!0),n.textDecoration.indexOf("overline")>-1&&(n.overline=!0),delete n.textDecoration)}e.IText=e.util.createClass(e.Text,e.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(n,c){this.callSuper("initialize",n,c),this.initBehavior()},setSelectionStart:function(n){n=Math.max(n,0),this._updateAndFire("selectionStart",n)},setSelectionEnd:function(n){n=Math.min(n,this.text.length),this._updateAndFire("selectionEnd",n)},_updateAndFire:function(n,c){this[n]!==c&&(this._fireSelectionChanged(),this[n]=c),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(n){this.clearContextTop(),this.callSuper("render",n),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(n){this.callSuper("_render",n)},clearContextTop:function(n){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var c=this.canvas.contextTop,h=this.canvas.viewportTransform;c.save(),c.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this.transform(c),this._clearTextArea(c),n||c.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var n=this._getCursorBoundaries(),c=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(n,c):this.renderSelection(n,c),c.restore()}},_clearTextArea:function(n){var c=this.width+4,h=this.height+4;n.clearRect(-c/2,-h/2,c,h)},_getCursorBoundaries:function(n){typeof n>"u"&&(n=this.selectionStart);var c=this._getLeftOffset(),h=this._getTopOffset(),i=this._getCursorBoundariesOffsets(n);return{left:c,top:h,leftOffset:i.left,topOffset:i.top}},_getCursorBoundariesOffsets:function(n){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var c,h,i,o=0,r=0,a,g=this.get2DCursorLocation(n);i=g.charIndex,h=g.lineIndex;for(var l=0;l<h;l++)o+=this.getHeightOfLine(l);c=this._getLineLeftOffset(h);var d=this.__charBounds[h][i];return d&&(r=d.left),this.charSpacing!==0&&i===this._textLines[h].length&&(r-=this._getWidthOfCharSpacing()),a={top:o,left:c+(r>0?r:0)},this.direction==="rtl"&&(a.left*=-1),this.cursorOffsetCache=a,this.cursorOffsetCache},renderCursor:function(n,c){var h=this.get2DCursorLocation(),i=h.lineIndex,o=h.charIndex>0?h.charIndex-1:0,r=this.getValueOfPropertyAt(i,o,"fontSize"),a=this.scaleX*this.canvas.getZoom(),g=this.cursorWidth/a,l=n.topOffset,d=this.getValueOfPropertyAt(i,o,"deltaY");l+=(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-r*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(n,c),c.fillStyle=this.cursorColor||this.getValueOfPropertyAt(i,o,"fill"),c.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,c.fillRect(n.left+n.leftOffset-g/2,l+n.top+d,g,r)},renderSelection:function(n,c){for(var h=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,i=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,o=this.textAlign.indexOf("justify")!==-1,r=this.get2DCursorLocation(h),a=this.get2DCursorLocation(i),g=r.lineIndex,l=a.lineIndex,d=r.charIndex<0?0:r.charIndex,m=a.charIndex<0?0:a.charIndex,b=g;b<=l;b++){var _=this._getLineLeftOffset(b)||0,C=this.getHeightOfLine(b),S=0,w=0,x=0;if(b===g&&(w=this.__charBounds[g][d].left),b>=g&&b<l)x=o&&!this.isEndOfWrapping(b)?this.width:this.getLineWidth(b)||5;else if(b===l)if(m===0)x=this.__charBounds[l][m].left;else{var F=this._getWidthOfCharSpacing();x=this.__charBounds[l][m-1].left+this.__charBounds[l][m-1].width-F}S=C,(this.lineHeight<1||b===l&&this.lineHeight>1)&&(C/=this.lineHeight);var V=n.left+_+w,L=x-w,D=C,G=0;this.inCompositionMode?(c.fillStyle=this.compositionColor||"black",D=1,G=C):c.fillStyle=this.selectionColor,this.direction==="rtl"&&(V=this.width-V-L),c.fillRect(V,n.top+n.topOffset+G,L,D),n.topOffset+=S}},getCurrentCharFontSize:function(){var n=this._getCurrentCharIndex();return this.getValueOfPropertyAt(n.l,n.c,"fontSize")},getCurrentCharColor:function(){var n=this._getCurrentCharIndex();return this.getValueOfPropertyAt(n.l,n.c,"fill")},_getCurrentCharIndex:function(){var n=this.get2DCursorLocation(this.selectionStart,!0),c=n.charIndex>0?n.charIndex-1:0;return{l:n.lineIndex,c}}}),e.IText.fromObject=function(n,c){var h=e.util.stylesFromArray(n.styles,n.text),i=Object.assign({},n,{styles:h});if(f(i),i.styles)for(var o in i.styles)for(var r in i.styles[o])f(i.styles[o][r]);e.Object._fromObject("IText",i,c,"text")}}(),function(){var f=e.util.object.clone;e.util.object.extend(e.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var n=this;this.on("added",function(){var c=n.canvas;c&&(c._hasITextHandlers||(c._hasITextHandlers=!0,n._initCanvasHandlers(c)),c._iTextInstances=c._iTextInstances||[],c._iTextInstances.push(n))})},initRemovedHandler:function(){var n=this;this.on("removed",function(){var c=n.canvas;c&&(c._iTextInstances=c._iTextInstances||[],e.util.removeFromArray(c._iTextInstances,n),c._iTextInstances.length===0&&(c._hasITextHandlers=!1,n._removeCanvasHandlers(c)))})},_initCanvasHandlers:function(n){n._mouseUpITextHandler=function(){n._iTextInstances&&n._iTextInstances.forEach(function(c){c.__isMousedown=!1})},n.on("mouse:up",n._mouseUpITextHandler)},_removeCanvasHandlers:function(n){n.off("mouse:up",n._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(n,c,h,i){var o;return o={isAborted:!1,abort:function(){this.isAborted=!0}},n.animate("_currentCursorOpacity",c,{duration:h,onComplete:function(){o.isAborted||n[i]()},onChange:function(){n.canvas&&n.selectionStart===n.selectionEnd&&n.renderCursorOrSelection()},abort:function(){return o.isAborted}}),o},_onTickComplete:function(){var n=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){n._currentTickCompleteState=n._animateCursor(n,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(n){var c=this,h=n?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){c._tick()},h)},abortCursorAnimation:function(){var n=this._currentTickState||this._currentTickCompleteState,c=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,n&&c&&c.clearContext(c.contextTop||c.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(n){var c=0,h=n-1;if(this._reSpace.test(this._text[h]))for(;this._reSpace.test(this._text[h]);)c++,h--;for(;/\S/.test(this._text[h])&&h>-1;)c++,h--;return n-c},findWordBoundaryRight:function(n){var c=0,h=n;if(this._reSpace.test(this._text[h]))for(;this._reSpace.test(this._text[h]);)c++,h++;for(;/\S/.test(this._text[h])&&h<this._text.length;)c++,h++;return n+c},findLineBoundaryLeft:function(n){for(var c=0,h=n-1;!/\n/.test(this._text[h])&&h>-1;)c++,h--;return n-c},findLineBoundaryRight:function(n){for(var c=0,h=n;!/\n/.test(this._text[h])&&h<this._text.length;)c++,h++;return n+c},searchWordBoundary:function(n,c){for(var h=this._text,i=this._reSpace.test(h[n])?n-1:n,o=h[i],r=e.reNonWord;!r.test(o)&&i>0&&i<h.length;)i+=c,o=h[i];return r.test(o)&&(i+=c===1?0:1),i},selectWord:function(n){n=n||this.selectionStart;var c=this.searchWordBoundary(n,-1),h=this.searchWordBoundary(n,1);this.selectionStart=c,this.selectionEnd=h,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(n){n=n||this.selectionStart;var c=this.findLineBoundaryLeft(n),h=this.findLineBoundaryRight(n);return this.selectionStart=c,this.selectionEnd=h,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(n){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(n),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(n){n._iTextInstances&&n._iTextInstances.forEach(function(c){c.selected=!1,c.isEditing&&c.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(n){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var c=this.getSelectionStartFromPointer(n.e),h=this.selectionStart,i=this.selectionEnd;(c!==this.__selectionStartOnMouseDown||h===i)&&(h===c||i===c)||(c>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=c):(this.selectionStart=c,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==h||this.selectionEnd!==i)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(n,c,h){var i=h.slice(0,n),o=e.util.string.graphemeSplit(i).length;if(n===c)return{selectionStart:o,selectionEnd:o};var r=h.slice(n,c),a=e.util.string.graphemeSplit(r).length;return{selectionStart:o,selectionEnd:o+a}},fromGraphemeToStringSelection:function(n,c,h){var i=h.slice(0,n),o=i.join("").length;if(n===c)return{selectionStart:o,selectionEnd:o};var r=h.slice(n,c),a=r.join("").length;return{selectionStart:o,selectionEnd:o+a}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var n=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=n.selectionStart,this.hiddenTextarea.selectionEnd=n.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var n=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=n.selectionEnd,this.inCompositionMode||(this.selectionStart=n.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var n=this._calcTextareaPosition();this.hiddenTextarea.style.left=n.left,this.hiddenTextarea.style.top=n.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var n=this.inCompositionMode?this.compositionStart:this.selectionStart,c=this._getCursorBoundaries(n),h=this.get2DCursorLocation(n),i=h.lineIndex,o=h.charIndex,r=this.getValueOfPropertyAt(i,o,"fontSize")*this.lineHeight,a=c.leftOffset,g=this.calcTransformMatrix(),l={x:c.left+a,y:c.top+c.topOffset+r},d=this.canvas.getRetinaScaling(),m=this.canvas.upperCanvasEl,b=m.width/d,_=m.height/d,C=b-r,S=_-r,w=m.clientWidth/b,x=m.clientHeight/_;return l=e.util.transformPoint(l,g),l=e.util.transformPoint(l,this.canvas.viewportTransform),l.x*=w,l.y*=x,l.x<0&&(l.x=0),l.x>C&&(l.x=C),l.y<0&&(l.y=0),l.y>S&&(l.y=S),l.x+=this.canvas._offset.left,l.y+=this.canvas._offset.top,{left:l.x+"px",top:l.y+"px",fontSize:r+"px",charHeight:r}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var n=this._textBeforeEdit!==this.text,c=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,c&&(c.blur&&c.blur(),c.parentNode&&c.parentNode.removeChild(c)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),n&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),n&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var n in this.styles)this._textLines[n]||delete this.styles[n]},removeStyleFromTo:function(n,c){var h=this.get2DCursorLocation(n,!0),i=this.get2DCursorLocation(c,!0),o=h.lineIndex,r=h.charIndex,a=i.lineIndex,g=i.charIndex,l,d;if(o!==a){if(this.styles[o])for(l=r;l<this._unwrappedTextLines[o].length;l++)delete this.styles[o][l];if(this.styles[a])for(l=g;l<this._unwrappedTextLines[a].length;l++)d=this.styles[a][l],d&&(this.styles[o]||(this.styles[o]={}),this.styles[o][r+l-g]=d);for(l=o+1;l<=a;l++)delete this.styles[l];this.shiftLineStyles(a,o-a)}else if(this.styles[o]){d=this.styles[o];var m=g-r,b,_;for(l=r;l<g;l++)delete d[l];for(_ in this.styles[o])b=parseInt(_,10),b>=g&&(d[b-m]=d[_],delete d[_])}},shiftLineStyles:function(n,c){var h=f(this.styles);for(var i in this.styles){var o=parseInt(i,10);o>n&&(this.styles[o+c]=h[o],h[o-c]||delete this.styles[o])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(n,c,h,i){var o,r={},a=!1,g=this._unwrappedTextLines[n].length===c;h||(h=1),this.shiftLineStyles(n,h),this.styles[n]&&(o=this.styles[n][c===0?c:c-1]);for(var l in this.styles[n]){var d=parseInt(l,10);d>=c&&(a=!0,r[d-c]=this.styles[n][l],g&&c===0||delete this.styles[n][l])}var m=!1;for(a&&!g&&(this.styles[n+h]=r,m=!0),m&&h--;h>0;)i&&i[h-1]?this.styles[n+h]={0:f(i[h-1])}:o?this.styles[n+h]={0:f(o)}:delete this.styles[n+h],h--;this._forceClearCache=!0},insertCharStyleObject:function(n,c,h,i){this.styles||(this.styles={});var o=this.styles[n],r=o?f(o):{};h||(h=1);for(var a in r){var g=parseInt(a,10);g>=c&&(o[g+h]=r[g],r[g-h]||delete o[g])}if(this._forceClearCache=!0,i){for(;h--;)Object.keys(i[h]).length&&(this.styles[n]||(this.styles[n]={}),this.styles[n][c+h]=f(i[h]));return}if(o)for(var l=o[c?c-1:1];l&&h--;)this.styles[n][c+h]=f(l)},insertNewStyleBlock:function(n,c,h){for(var i=this.get2DCursorLocation(c,!0),o=[0],r=0,a=0;a<n.length;a++)n[a]===`
`?(r++,o[r]=0):o[r]++;o[0]>0&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,o[0],h),h=h&&h.slice(o[0]+1)),r&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+o[0],r);for(var a=1;a<r;a++)o[a]>0?this.insertCharStyleObject(i.lineIndex+a,0,o[a],h):h&&this.styles[i.lineIndex+a]&&h[0]&&(this.styles[i.lineIndex+a][0]=h[0]),h=h&&h.slice(o[a]+1);o[a]>0&&this.insertCharStyleObject(i.lineIndex+a,0,o[a],h)},setSelectionStartEndWithShift:function(n,c,h){h<=n?(c===n?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=n),this.selectionStart=h):h>n&&h<c?this._selectionDirection==="right"?this.selectionEnd=h:this.selectionStart=h:(c===n?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=c),this.selectionEnd=h)},setSelectionInBoundaries:function(){var n=this.text.length;this.selectionStart>n?this.selectionStart=n:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>n?this.selectionEnd=n:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),e.util.object.extend(e.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(f){if(this.canvas){this.__newClickTime=+new Date;var n=f.pointer;this.isTripleClick(n)&&(this.fire("tripleclick",f),this._stopEvent(f.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=n,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(f){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===f.x&&this.__lastPointer.y===f.y},_stopEvent:function(f){f.preventDefault&&f.preventDefault(),f.stopPropagation&&f.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(f){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(f.e))},tripleClickHandler:function(f){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(f.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(f){!this.canvas||!this.editable||f.e.button&&f.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(f.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(f){!this.canvas||!this.editable||f.e.button&&f.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(f){if(this.__isMousedown=!1,!(!this.editable||this.group||f.transform&&f.transform.actionPerformed||f.e.button&&f.e.button!==1)){if(this.canvas){var n=this.canvas._activeObject;if(n&&n!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(f.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(f){var n=this.getSelectionStartFromPointer(f),c=this.selectionStart,h=this.selectionEnd;f.shiftKey?this.setSelectionStartEndWithShift(c,h,n):(this.selectionStart=n,this.selectionEnd=n),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(f){for(var n=this.getLocalPointer(f),c=0,h=0,i=0,o=0,r=0,a,g,l=0,d=this._textLines.length;l<d&&i<=n.y;l++)i+=this.getHeightOfLine(l)*this.scaleY,r=l,l>0&&(o+=this._textLines[l-1].length+this.missingNewlineOffset(l-1));a=this._getLineLeftOffset(r),h=a*this.scaleX,g=this._textLines[r],this.direction==="rtl"&&(n.x=this.width*this.scaleX-n.x+h);for(var m=0,b=g.length;m<b&&(c=h,h+=this.__charBounds[r][m].kernedWidth*this.scaleX,h<=n.x);m++)o++;return this._getNewSelectionStartFromOffset(n,c,h,o,b)},_getNewSelectionStartFromOffset:function(f,n,c,h,i){var o=f.x-n,r=c-f.x,a=r>o||r<0?0:1,g=h+a;return this.flipX&&(g=i-g),g>this._text.length&&(g=this._text.length),g}}),e.util.object.extend(e.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=e.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var f=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+f.top+"; left: "+f.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+f.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):e.document.body.appendChild(this.hiddenTextarea),e.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),e.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),e.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),e.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),e.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),e.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(e.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(f){if(this.isEditing){var n=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(f.keyCode in n)this[n[f.keyCode]](f);else if(f.keyCode in this.ctrlKeysMapDown&&(f.ctrlKey||f.metaKey))this[this.ctrlKeysMapDown[f.keyCode]](f);else return;f.stopImmediatePropagation(),f.preventDefault(),f.keyCode>=33&&f.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(f){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(f.keyCode in this.ctrlKeysMapUp&&(f.ctrlKey||f.metaKey))this[this.ctrlKeysMapUp[f.keyCode]](f);else return;f.stopImmediatePropagation(),f.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(f){var n=this.fromPaste;if(this.fromPaste=!1,f&&f.stopPropagation(),!!this.isEditing){var c=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,h=this._text.length,i=c.length,o,r,a=i-h,g=this.selectionStart,l=this.selectionEnd,d=g!==l,m,b,_;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var C=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),S=g>C.selectionStart;d?(o=this._text.slice(g,l),a+=l-g):i<h&&(S?o=this._text.slice(l+a,l):o=this._text.slice(g,g-a)),r=c.slice(C.selectionEnd-a,C.selectionEnd),o&&o.length&&(r.length&&(m=this.getSelectionStyles(g,g+1,!1),m=r.map(function(){return m[0]})),d?(b=g,_=l):S?(b=l-o.length,_=l):(b=l,_=l+o.length),this.removeStyleFromTo(b,_)),r.length&&(n&&r.join("")===e.copiedText&&!e.disableStyleCopyPaste&&(m=e.copiedTextStyle),this.insertNewStyleBlock(r,g,m)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(f){this.compositionStart=f.target.selectionStart,this.compositionEnd=f.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(e.copiedText=this.getSelectedText(),e.disableStyleCopyPaste?e.copiedTextStyle=null:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(f){return f&&f.clipboardData||e.window.clipboardData},_getWidthBeforeCursor:function(f,n){var c=this._getLineLeftOffset(f),h;return n>0&&(h=this.__charBounds[f][n-1],c+=h.left+h.width),c},getDownCursorOffset:function(f,n){var c=this._getSelectionForOffset(f,n),h=this.get2DCursorLocation(c),i=h.lineIndex;if(i===this._textLines.length-1||f.metaKey||f.keyCode===34)return this._text.length-c;var o=h.charIndex,r=this._getWidthBeforeCursor(i,o),a=this._getIndexOnLine(i+1,r),g=this._textLines[i].slice(o);return g.length+a+1+this.missingNewlineOffset(i)},_getSelectionForOffset:function(f,n){return f.shiftKey&&this.selectionStart!==this.selectionEnd&&n?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(f,n){var c=this._getSelectionForOffset(f,n),h=this.get2DCursorLocation(c),i=h.lineIndex;if(i===0||f.metaKey||f.keyCode===33)return-c;var o=h.charIndex,r=this._getWidthBeforeCursor(i,o),a=this._getIndexOnLine(i-1,r),g=this._textLines[i].slice(0,o),l=this.missingNewlineOffset(i-1);return-this._textLines[i-1].length+a-g.length+(1-l)},_getIndexOnLine:function(f,n){for(var c=this._textLines[f],h=this._getLineLeftOffset(f),i=h,o=0,r,a,g=0,l=c.length;g<l;g++)if(r=this.__charBounds[f][g].width,i+=r,i>n){a=!0;var d=i-r,m=i,b=Math.abs(d-n),_=Math.abs(m-n);o=_<b?g:g-1;break}return a||(o=c.length-1),o},moveCursorDown:function(f){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",f)},moveCursorUp:function(f){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",f)},_moveCursorUpOrDown:function(f,n){var c="get"+f+"CursorOffset",h=this[c](n,this._selectionDirection==="right");n.shiftKey?this.moveCursorWithShift(h):this.moveCursorWithoutShift(h),h!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(f){var n=this._selectionDirection==="left"?this.selectionStart+f:this.selectionEnd+f;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,n),f!==0},moveCursorWithoutShift:function(f){return f<0?(this.selectionStart+=f,this.selectionEnd=this.selectionStart):(this.selectionEnd+=f,this.selectionStart=this.selectionEnd),f!==0},moveCursorLeft:function(f){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",f)},_move:function(f,n,c){var h;if(f.altKey)h=this["findWordBoundary"+c](this[n]);else if(f.metaKey||f.keyCode===35||f.keyCode===36)h=this["findLineBoundary"+c](this[n]);else return this[n]+=c==="Left"?-1:1,!0;if(typeof h<"u"&&this[n]!==h)return this[n]=h,!0},_moveLeft:function(f,n){return this._move(f,n,"Left")},_moveRight:function(f,n){return this._move(f,n,"Right")},moveCursorLeftWithoutShift:function(f){var n=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(n=this._moveLeft(f,"selectionStart")),this.selectionEnd=this.selectionStart,n},moveCursorLeftWithShift:function(f){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(f,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(f,"selectionStart")},moveCursorRight:function(f){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",f)},_moveCursorLeftOrRight:function(f,n){var c="moveCursor"+f+"With";this._currentCursorOpacity=1,n.shiftKey?c+="Shift":c+="outShift",this[c](n)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(f){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(f,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(f,"selectionEnd")},moveCursorRightWithoutShift:function(f){var n=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(n=this._moveRight(f,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,n},removeChars:function(f,n){typeof n>"u"&&(n=f+1),this.removeStyleFromTo(f,n),this._text.splice(f,n-f),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(f,n,c,h){typeof h>"u"&&(h=c),h>c&&this.removeStyleFromTo(c,h);var i=e.util.string.graphemeSplit(f);this.insertNewStyleBlock(i,c,n),this._text=[].concat(this._text.slice(0,c),i,this._text.slice(h)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var f=e.util.toFixed,n=/  +/g;e.util.object.extend(e.Text.prototype,{_toSVG:function(){var c=this._getSVGLeftTopOffsets(),h=this._getSVGTextAndBg(c.textTop,c.textLeft);return this._wrapSVGTextAndBg(h)},toSVG:function(c){return this._createBaseSVGMarkup(this._toSVG(),{reviver:c,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(c){var h=!0,i=this.getSvgTextDecoration(this);return[c.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",i?'text-decoration="'+i+'" ':"",'style="',this.getSvgStyles(h),'"',this.addPaintOrder()," >",c.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(c,h){var i=[],o=[],r=c,a;this._setSVGBg(o);for(var g=0,l=this._textLines.length;g<l;g++)a=this._getLineLeftOffset(g),(this.textBackgroundColor||this.styleHas("textBackgroundColor",g))&&this._setSVGTextLineBg(o,g,h+a,r),this._setSVGTextLineText(i,g,h+a,r),r+=this.getHeightOfLine(g);return{textSpans:i,textBgRects:o}},_createTextCharSpan:function(c,h,i,o){var r=c!==c.trim()||c.match(n),a=this.getSvgSpanStyles(h,r),g=a?'style="'+a+'"':"",l=h.deltaY,d="",m=e.Object.NUM_FRACTION_DIGITS;return l&&(d=' dy="'+f(l,m)+'" '),['<tspan x="',f(i,m),'" y="',f(o,m),'" ',d,g,">",e.util.string.escapeXml(c),"</tspan>"].join("")},_setSVGTextLineText:function(c,h,i,o){var r=this.getHeightOfLine(h),a=this.textAlign.indexOf("justify")!==-1,g,l,d="",m,b,_=0,C=this._textLines[h],S;o+=r*(1-this._fontSizeFraction)/this.lineHeight;for(var w=0,x=C.length-1;w<=x;w++)S=w===x||this.charSpacing,d+=C[w],m=this.__charBounds[h][w],_===0?(i+=m.kernedWidth-m.width,_+=m.width):_+=m.kernedWidth,a&&!S&&this._reSpaceAndTab.test(C[w])&&(S=!0),S||(g=g||this.getCompleteStyleDeclaration(h,w),l=this.getCompleteStyleDeclaration(h,w+1),S=e.util.hasStyleChanged(g,l,!0)),S&&(b=this._getStyleDeclaration(h,w)||{},c.push(this._createTextCharSpan(d,b,i,o)),d="",g=l,i+=_,_=0)},_pushTextBgRect:function(c,h,i,o,r,a){var g=e.Object.NUM_FRACTION_DIGITS;c.push("		<rect ",this._getFillAttributes(h),' x="',f(i,g),'" y="',f(o,g),'" width="',f(r,g),'" height="',f(a,g),`"></rect>
`)},_setSVGTextLineBg:function(c,h,i,o){for(var r=this._textLines[h],a=this.getHeightOfLine(h)/this.lineHeight,g=0,l=0,d,m,b=this.getValueOfPropertyAt(h,0,"textBackgroundColor"),_=0,C=r.length;_<C;_++)d=this.__charBounds[h][_],m=this.getValueOfPropertyAt(h,_,"textBackgroundColor"),m!==b?(b&&this._pushTextBgRect(c,b,i+l,o,g,a),l=d.left,g=d.width,b=m):g+=d.kernedWidth;m&&this._pushTextBgRect(c,m,i+l,o,g,a)},_getFillAttributes:function(c){var h=c&&typeof c=="string"?new e.Color(c):"";return!h||!h.getSource()||h.getAlpha()===1?'fill="'+c+'"':'opacity="'+h.getAlpha()+'" fill="'+h.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(c){for(var h=0,i=0,o=0;o<c;o++)h+=this.getHeightOfLine(o);return i=this.getHeightOfLine(o),{lineTop:h,offset:(this._fontSizeMult-this._fontSizeFraction)*i/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(c){var h=e.Object.prototype.getSvgStyles.call(this,c);return h+" white-space: pre;"}})}(),function(f){var n=f.fabric||(f.fabric={});n.Textbox=n.util.createClass(n.IText,n.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:n.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(c){for(var h=0,i=0,o=0,r={},a=0;a<c.graphemeLines.length;a++)c.graphemeText[o]===`
`&&a>0?(i=0,o++,h++):!this.splitByGrapheme&&this._reSpaceAndTab.test(c.graphemeText[o])&&a>0&&(i++,o++),r[a]={line:h,offset:i},o+=c.graphemeLines[a].length,i+=c.graphemeLines[a].length;return r},styleHas:function(c,h){if(this._styleMap&&!this.isWrapping){var i=this._styleMap[h];i&&(h=i.line)}return n.Text.prototype.styleHas.call(this,c,h)},isEmptyStyles:function(c){if(!this.styles)return!0;var h=0,i=c+1,o,r,a=!1,g=this._styleMap[c],l=this._styleMap[c+1];g&&(c=g.line,h=g.offset),l&&(i=l.line,a=i===c,o=l.offset),r=typeof c>"u"?this.styles:{line:this.styles[c]};for(var d in r)for(var m in r[d])if(m>=h&&(!a||m<o))for(var b in r[d][m])return!1;return!0},_getStyleDeclaration:function(c,h){if(this._styleMap&&!this.isWrapping){var i=this._styleMap[c];if(!i)return null;c=i.line,h=i.offset+h}return this.callSuper("_getStyleDeclaration",c,h)},_setStyleDeclaration:function(c,h,i){var o=this._styleMap[c];c=o.line,h=o.offset+h,this.styles[c][h]=i},_deleteStyleDeclaration:function(c,h){var i=this._styleMap[c];c=i.line,h=i.offset+h,delete this.styles[c][h]},_getLineStyle:function(c){var h=this._styleMap[c];return!!this.styles[h.line]},_setLineStyle:function(c){var h=this._styleMap[c];this.styles[h.line]={}},_wrapText:function(c,h){var i=[],o;for(this.isWrapping=!0,o=0;o<c.length;o++)i=i.concat(this._wrapLine(c[o],o,h));return this.isWrapping=!1,i},_measureWord:function(c,h,i){var o=0,r,a=!0;i=i||0;for(var g=0,l=c.length;g<l;g++){var d=this._getGraphemeBox(c[g],h,g+i,r,a);o+=d.kernedWidth,r=c[g]}return o},_wrapLine:function(c,h,i,V){var r=0,a=this.splitByGrapheme,g=[],l=[],d=a?n.util.string.graphemeSplit(c):c.split(this._wordJoiners),m="",b=0,_=a?"":" ",C=0,S=0,w=0,x=!0,F=this._getWidthOfCharSpacing(),V=V||0;d.length===0&&d.push([]),i-=V;for(var L=0;L<d.length;L++)m=a?d[L]:n.util.string.graphemeSplit(d[L]),C=this._measureWord(m,h,b),b+=m.length,r+=S+C-F,r>i&&!x?(g.push(l),l=[],r=C,x=!0):r+=F,!x&&!a&&l.push(_),l=l.concat(m),S=a?0:this._measureWord([_],h,b),b++,x=!1,C>w&&(w=C);return L&&g.push(l),w+V>this.dynamicMinWidth&&(this.dynamicMinWidth=w-F+V),g},isEndOfWrapping:function(c){return!this._styleMap[c+1]||this._styleMap[c+1].line!==this._styleMap[c].line},missingNewlineOffset:function(c){return this.splitByGrapheme?this.isEndOfWrapping(c)?1:0:1},_splitTextIntoLines:function(c){for(var h=n.Text.prototype._splitTextIntoLines.call(this,c),i=this._wrapText(h.lines,this.width),o=new Array(i.length),r=0;r<i.length;r++)o[r]=i[r].join("");return h.lines=o,h.graphemeLines=i,h},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var c={};for(var h in this._styleMap)this._textLines[h]&&(c[this._styleMap[h].line]=1);for(var h in this.styles)c[h]||delete this.styles[h]},toObject:function(c){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(c))}}),n.Textbox.fromObject=function(c,h){var i=n.util.stylesFromArray(c.styles,c.text),o=Object.assign({},c,{styles:i});return n.Object._fromObject("Textbox",o,h,"text")}}(t),function(){var f=e.controlsUtils,n=f.scaleSkewCursorStyleHandler,c=f.scaleCursorStyleHandler,h=f.scalingEqually,i=f.scalingYOrSkewingX,o=f.scalingXOrSkewingY,r=f.scaleOrSkewActionName,a=e.Object.prototype.controls;if(a.ml=new e.Control({x:-.5,y:0,cursorStyleHandler:n,actionHandler:o,getActionName:r}),a.mr=new e.Control({x:.5,y:0,cursorStyleHandler:n,actionHandler:o,getActionName:r}),a.mb=new e.Control({x:0,y:.5,cursorStyleHandler:n,actionHandler:i,getActionName:r}),a.mt=new e.Control({x:0,y:-.5,cursorStyleHandler:n,actionHandler:i,getActionName:r}),a.tl=new e.Control({x:-.5,y:-.5,cursorStyleHandler:c,actionHandler:h}),a.tr=new e.Control({x:.5,y:-.5,cursorStyleHandler:c,actionHandler:h}),a.bl=new e.Control({x:-.5,y:.5,cursorStyleHandler:c,actionHandler:h}),a.br=new e.Control({x:.5,y:.5,cursorStyleHandler:c,actionHandler:h}),a.mtr=new e.Control({x:0,y:-.5,actionHandler:f.rotationWithSnapping,cursorStyleHandler:f.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),e.Textbox){var g=e.Textbox.prototype.controls={};g.mtr=a.mtr,g.tr=a.tr,g.br=a.br,g.tl=a.tl,g.bl=a.bl,g.mt=a.mt,g.mb=a.mb,g.mr=new e.Control({x:.5,y:0,actionHandler:f.changeWidth,cursorStyleHandler:n,actionName:"resizing"}),g.ml=new e.Control({x:-.5,y:0,actionHandler:f.changeWidth,cursorStyleHandler:n,actionName:"resizing"})}}()})(ef);const vy={class:"modal modal-sign",id:"modal-sign"},yy={class:"modal__content"},by=ye("span",null,null,-1),_y=ye("span",null,null,-1),Cy=[by,_y],Sy={class:"modal__wrap"},wy=ye("canvas",{id:"signatureCanvas",class:"modal__sign-canvas"},null,-1),xy={key:0,class:"modal__sign-text"},Ty={__name:"SignatureModal",setup(t){const e=jo(),{currentSignatureId:s}=To(e);let u=null;Mt(()=>{u=new ef.fabric.Canvas("signatureCanvas",{isDrawingMode:!0,width:958,height:280}),u.freeDrawingBrush.color="#333232",u.freeDrawingBrush.width=5});const p=me(!0);function v(){p.value&&(p.value=!1)}function y(){u.clear(),e.setSignature(s.value,null),p.value=!0}function f(){if(p.value)return;const c=u.toDataURL({width:u.width,height:u.height,left:0,top:0,format:"png"});e.setSignature(s.value,c),n()}function n(){gn().closeAll()}return(c,h)=>(Oe(),Ve("div",vy,[ye("div",yy,[ye("button",{onClick:n,type:"button",class:"modal__close","aria-label":"Закрыть модальное окно"},Cy),ye("div",Sy,[ye("div",{class:"modal__sign",onTouchstart:v,onMousedown:v},[wy,p.value?(Oe(),Ve("p",xy,"Место для подписи")):at("",!0)],32),ye("div",{class:"modal__btns"},[ye("button",{class:"btn",type:"button",onClick:f},"Подписать"),ye("button",{class:"btn btn--dark",type:"button",onClick:y},"Очистить")])])])]))}};const Oy={key:0,class:"wrapper"},Ey={class:"header"},Py={class:"container"},Ay={class:"header__wrap"},ky=ye("div",{class:"header__logo"},[ye("img",{src:qp,alt:""})],-1),My={class:"doc"},Fy={class:"doc__head"},Dy={key:0},Ly={key:1},Ry=["innerHTML"],Iy={class:"doc__btn"},By=["disabled"],jy="#45ac55",Ny={__name:"App",setup(t){const e=jo(),s=Wp({component:uu,slots:{default:{component:Ty}}});function u(C){const S=C.target.dataset.signature;e.setCurrentSignatureId(S),s.open()}const{isLoading:p,documentId:v,tabletId:y,processedLayout:f,patientName:n,patientBirthday:c,documentSignatures:h,totalSignatures:i,completedSignatures:o,isAllSigned:r,updateOnDemand:a}=To(e),g=Fe(()=>`Подписей: ${o.value} из ${i.value}`);Mt(async()=>{const{tabletId:C}=sy.parse(location.search);if(C){e.setTabletId(C);const{data:S}=await Ws.get("get-settings");e.setUpdateOnDemand(!!+S.data.update_on_demand)}});let l=null;uo(()=>{a.value||(v.value?clearInterval(l):l=setInterval(e.getDocumentData,3e3))});let d=null;const m=gu.useLoading({});Ae(p,()=>{p.value?d=m.show({container:null,color:jy,loader:"spinner",width:64,height:64,backgroundColor:"#ffffff",opacity:.93,zIndex:999999}):d&&d.hide()});const b=me(null);Ae(f,async()=>{var C;await yt(),(C=b.value)==null||C.querySelectorAll("[data-signature]").forEach(S=>S.addEventListener("click",u))},{immediate:!0});function _(){const C={document_id:v.value,signatures:{...h.value}};e.setLoadingOn(),Ws.postJson("set-signatures",C).then(S=>{e.setLoadingOff();const{error:w}=S.data;e.setErrorCode(w),w?sl.alert({type:"error",text:"Ошибка при отправке данных. Попробуйте ещё раз"}):(sl.alert({type:"success",text:"Документ успешно отправлен"}),e.clearDocumentData())})}return(C,S)=>(Oe(),Ve(Ne,null,[pe(v)?(Oe(),Ve("div",Oy,[ye("header",Ey,[ye("div",Py,[ye("div",Ay,[ky,ye("p",null,[Ri(" Планшет № "),ye("b",null,Qi(pe(y)),1)])])])]),ye("main",null,[ye("section",My,[ye("div",Fy,[pe(n)?(Oe(),Ve("p",Dy,[Ri(" Ф.И.О. пациента: "),ye("b",null,Qi(pe(n)),1)])):at("",!0),pe(c)?(Oe(),Ve("p",Ly,[Ri(" Дата рождения: "),ye("b",null,Qi(pe(c)),1)])):at("",!0)]),Ce(pe($v),{class:"doc__content","data-simplebar-auto-hide":"false"},{default:qt(()=>[ye("div",{class:"doc__content-inner",ref_key:"container",ref:b,innerHTML:pe(f)},null,8,Ry)]),_:1}),ye("div",Iy,[ye("button",{class:"btn",type:"button",disabled:!pe(r),onClick:_},Qi(pe(r)?"Отправить":g.value),9,By)])])])])):(Oe(),Et(gy,{key:1,onReloadDocument:pe(e).getDocumentData},null,8,["onReloadDocument"])),Ce(pe(Yp))],64))}},$r=Vc(Ny),Hy=jp();$r.use(mg());$r.use(Hy);$r.use(gu.LoadingPlugin);$r.mount("#app");
